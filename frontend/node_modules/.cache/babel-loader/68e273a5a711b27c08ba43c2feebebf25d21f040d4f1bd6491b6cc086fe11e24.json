{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Harley\\\\Desktop\\\\Capstone\\\\attendanceiot\\\\IOTCapstone\\\\frontend\\\\src\\\\pages\\\\Sessions.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PlayIcon, StopIcon, FingerPrintIcon, IdentificationIcon, CheckCircleIcon, XCircleIcon, ExclamationTriangleIcon, LockClosedIcon, LockOpenIcon, ClockIcon, CalendarDaysIcon, UserGroupIcon, MapPinIcon, AcademicCapIcon, SunIcon, MoonIcon } from '@heroicons/react/24/outline';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Sessions() {\n  _s();\n  const [sessions, setSessions] = useState([]);\n  const [allSchedules, setAllSchedules] = useState([]);\n  const [todaysSchedule, setTodaysSchedule] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [selectedInstructor, setSelectedInstructor] = useState('');\n  const [selectedRoom, setSelectedRoom] = useState('');\n  const [selectedLocation, setSelectedLocation] = useState('outside');\n  const [loading, setLoading] = useState(true);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [upcomingClasses, setUpcomingClasses] = useState([]);\n  const [currentOngoingClass, setCurrentOngoingClass] = useState(null);\n  const [selectedDay, setSelectedDay] = useState('');\n  const [selectedRoomFilter, setSelectedRoomFilter] = useState('');\n  useEffect(() => {\n    fetchData();\n    // Set up real-time updates\n    const interval = setInterval(fetchData, 30000); // Update every 30 seconds\n    // Update current time every second\n    const timeInterval = setInterval(() => setCurrentTime(new Date()), 1000);\n    return () => {\n      clearInterval(interval);\n      clearInterval(timeInterval);\n    };\n  }, []);\n  const fetchData = async () => {\n    try {\n      var _unifiedData$schedule, _unifiedData$subjects, _unifiedData$rooms;\n      const token = localStorage.getItem('token');\n      const headers = {\n        Authorization: `Bearer ${token}`\n      };\n\n      // Use the same unified data endpoint as the management page\n      const unifiedResponse = await axios.get('http://localhost:5000/api/unified/data', {\n        headers\n      });\n      const unifiedData = unifiedResponse.data;\n      console.log('Unified data response:', unifiedData);\n\n      // Extract data from unified response\n      const allSchedulesData = ((_unifiedData$schedule = unifiedData.schedules) === null || _unifiedData$schedule === void 0 ? void 0 : _unifiedData$schedule.data) || [];\n      console.log('All schedules data:', allSchedulesData);\n      console.log('Sample schedule data:', allSchedulesData[0]);\n      console.log('Sample schedule keys:', allSchedulesData[0] ? Object.keys(allSchedulesData[0]) : 'No data');\n      setAllSchedules(allSchedulesData);\n\n      // Filter today's schedules\n      const currentDay = new Date().toLocaleDateString('en-US', {\n        weekday: 'long'\n      });\n      const todaysSchedules = allSchedulesData.filter(schedule => schedule.DAYOFWEEK === currentDay);\n      setTodaysSchedule(todaysSchedules);\n\n      // Get instructors and rooms from unified data\n      const instructorsData = ((_unifiedData$subjects = unifiedData.subjects) === null || _unifiedData$subjects === void 0 ? void 0 : _unifiedData$subjects.data) || [];\n      const roomsData = ((_unifiedData$rooms = unifiedData.rooms) === null || _unifiedData$rooms === void 0 ? void 0 : _unifiedData$rooms.data) || [];\n\n      // Extract unique instructors\n      const uniqueInstructors = [...new Map(instructorsData.map(item => {\n        var _item$instructor_name, _item$instructor_name2;\n        return [item.INSTRUCTORID, {\n          USERID: item.INSTRUCTORID,\n          FIRSTNAME: ((_item$instructor_name = item.instructor_name) === null || _item$instructor_name === void 0 ? void 0 : _item$instructor_name.split(' ')[0]) || '',\n          LASTNAME: ((_item$instructor_name2 = item.instructor_name) === null || _item$instructor_name2 === void 0 ? void 0 : _item$instructor_name2.split(' ').slice(1).join(' ')) || '',\n          EMPLOYEEID: item.INSTRUCTORID\n        }];\n      })).values()];\n      setInstructors(uniqueInstructors);\n\n      // Extract unique rooms\n      const uniqueRooms = roomsData.map(room => ({\n        ROOMID: room.ROOMID,\n        ROOMNUMBER: room.ROOMNUMBER,\n        ROOMNAME: room.ROOMNAME,\n        BUILDING: room.BUILDING,\n        DOORSTATUS: 'locked'\n      }));\n      setRooms(uniqueRooms);\n\n      // Create virtual active sessions based on today's schedule\n      const now = new Date();\n      const currentTimeStr = now.toTimeString().slice(0, 8); // HH:MM:SS format\n      const currentDate = now.toISOString().split('T')[0]; // YYYY-MM-DD format\n\n      const virtualSessions = todaysSchedules.filter(schedule => {\n        const startTime = schedule.STARTTIME;\n        const endTime = schedule.ENDTIME;\n        return currentTimeStr >= startTime && currentTimeStr <= endTime;\n      }).map(schedule => ({\n        id: schedule.SCHEDULEID,\n        session_date: currentDate,\n        start_time: `${currentDate}T${schedule.STARTTIME}`,\n        end_time: null,\n        status: 'active',\n        door_unlocked_at: `${currentDate}T${schedule.STARTTIME}`,\n        door_locked_at: null,\n        instructor_name: schedule.instructor_name,\n        course_code: schedule.subject_code,\n        course_name: schedule.subject_name,\n        room_number: schedule.room_number,\n        room_name: schedule.room_name,\n        attendance_count: 0\n      }));\n      console.log('Virtual active sessions:', virtualSessions);\n      setSessions(virtualSessions);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3, _error$response3$data;\n      console.error('Error fetching data:', error);\n      console.error('Error response:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      console.error('Error status:', (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status);\n      toast.error(`Failed to load session data: ${((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || error.message}`);\n\n      // Fallback to mock data if API fails\n      const mockInstructors = [{\n        USERID: '1',\n        FIRSTNAME: 'John',\n        LASTNAME: 'Smith',\n        EMPLOYEEID: 'EMP001'\n      }, {\n        USERID: '2',\n        FIRSTNAME: 'Jane',\n        LASTNAME: 'Doe',\n        EMPLOYEEID: 'EMP002'\n      }, {\n        USERID: '3',\n        FIRSTNAME: 'Bob',\n        LASTNAME: 'Johnson',\n        EMPLOYEEID: 'EMP003'\n      }];\n      const mockRooms = [{\n        ROOMID: '1',\n        ROOMNUMBER: 'A101',\n        ROOMNAME: 'Computer Lab 1',\n        BUILDING: 'Main Building',\n        DOORSTATUS: 'locked'\n      }, {\n        ROOMID: '2',\n        ROOMNUMBER: 'B201',\n        ROOMNAME: 'Mathematics Room',\n        BUILDING: 'Academic Building',\n        DOORSTATUS: 'locked'\n      }, {\n        ROOMID: '3',\n        ROOMNUMBER: 'C301',\n        ROOMNAME: 'English Classroom',\n        BUILDING: 'Liberal Arts Building',\n        DOORSTATUS: 'locked'\n      }];\n      const currentDay = new Date().toLocaleDateString('en-US', {\n        weekday: 'long'\n      });\n      const mockTodaysSchedule = [{\n        SCHEDULEID: '1',\n        SUBJECTID: '1',\n        SUBJECTCODE: 'CS101',\n        SUBJECTNAME: 'Introduction to Computer Science',\n        INSTRUCTORID: '1',\n        instructor_name: 'John Smith',\n        ROOMID: '1',\n        ROOMNUMBER: 'A101',\n        ROOMNAME: 'Computer Lab 1',\n        DAYOFWEEK: currentDay,\n        STARTTIME: '08:00:00',\n        ENDTIME: '10:00:00',\n        ACADEMICYEAR: '2024-2025',\n        SEMESTER: 'First Semester'\n      }];\n      setInstructors(mockInstructors);\n      setRooms(mockRooms);\n      setTodaysSchedule(mockTodaysSchedule);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Analyze current and upcoming classes\n  useEffect(() => {\n    if (todaysSchedule.length > 0) {\n      const now = new Date();\n      const currentTimeStr = now.toTimeString().slice(0, 8); // HH:MM:SS format\n\n      console.log('Current time string:', currentTimeStr);\n      console.log('Today\\'s schedules:', todaysSchedule);\n\n      // Find current ongoing class\n      const ongoing = todaysSchedule.find(schedule => {\n        const startTime = schedule.STARTTIME;\n        const endTime = schedule.ENDTIME;\n        const isOngoing = currentTimeStr >= startTime && currentTimeStr <= endTime;\n        console.log(`Checking schedule ${(schedule === null || schedule === void 0 ? void 0 : schedule.subject_code) || 'Unknown'}: ${startTime}-${endTime}, isOngoing: ${isOngoing}`);\n        console.log('Schedule object:', schedule);\n        return isOngoing;\n      });\n      console.log('Current ongoing class:', ongoing);\n      setCurrentOngoingClass(ongoing || null);\n\n      // Find upcoming classes (next 3 classes after current time)\n      const upcoming = todaysSchedule.filter(schedule => schedule.STARTTIME > currentTimeStr).sort((a, b) => a.STARTTIME.localeCompare(b.STARTTIME)).slice(0, 3);\n      console.log('Upcoming classes:', upcoming);\n      setUpcomingClasses(upcoming);\n    }\n  }, [todaysSchedule, currentTime]);\n  const handleScan = async authMethod => {\n    if (!selectedInstructor || !selectedRoom) {\n      toast.error('Please select both instructor and room');\n      return;\n    }\n    try {\n      const instructor = instructors.find(i => i.USERID === selectedInstructor);\n      const room = rooms.find(r => r.ROOMID === selectedRoom);\n      const today = new Date().toISOString().split('T')[0];\n\n      // Find matching schedule for today\n      const matchingSchedule = todaysSchedule.find(schedule => schedule.INSTRUCTORID === selectedInstructor && schedule.ROOMID === selectedRoom);\n      if (!matchingSchedule) {\n        toast.error('No scheduled class found for this instructor and room today');\n        return;\n      }\n\n      // Check if there's an active session\n      const activeSession = sessions.find(session => session.instructor_id === selectedInstructor && session.room_id === selectedRoom && session.status === 'active' && session.session_date === today);\n      const token = localStorage.getItem('token');\n      const headers = {\n        Authorization: `Bearer ${token}`\n      };\n      if (activeSession) {\n        // End the session\n        await axios.put(`http://localhost:5000/api/sessions/${activeSession.id}/end`, {\n          location: selectedLocation,\n          auth_method: authMethod.toLowerCase()\n        }, {\n          headers\n        });\n        toast.success(`ðŸšª Session ended! ${authMethod} scan successful by ${instructor.FIRSTNAME} ${instructor.LASTNAME}`);\n      } else {\n        // Start new session\n        await axios.post('http://localhost:5000/api/sessions', {\n          schedule_id: matchingSchedule.SCHEDULEID,\n          instructor_id: selectedInstructor,\n          room_id: selectedRoom,\n          location: selectedLocation,\n          auth_method: authMethod.toLowerCase()\n        }, {\n          headers\n        });\n        toast.success(`ðŸšª Session started! ${authMethod} scan successful by ${instructor.FIRSTNAME} ${instructor.LASTNAME}`);\n      }\n\n      // Refresh data\n      fetchData();\n    } catch (error) {\n      var _error$response4, _error$response5, _error$response6, _error$response6$data;\n      console.error('Error processing scan:', error);\n      console.error('Error response:', (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data);\n      console.error('Error status:', (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status);\n      toast.error(((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || 'Failed to process scan');\n    }\n  };\n  const formatTime = timeString => {\n    if (!timeString) return '';\n    const date = new Date(timeString);\n    return date.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n  const formatScheduleTime = time => {\n    if (!time) return '';\n    const [hours, minutes] = time.split(':');\n    const hour = parseInt(hours);\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const displayHour = hour % 12 || 12;\n    return `${displayHour}:${minutes} ${ampm}`;\n  };\n  const formatCurrentTime = () => {\n    return currentTime.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: true\n    });\n  };\n  const formatCurrentDate = () => {\n    return currentTime.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n  const getClassStatus = schedule => {\n    const now = new Date();\n    const currentTimeStr = now.toTimeString().slice(0, 8);\n    const startTime = schedule.STARTTIME;\n    const endTime = schedule.ENDTIME;\n    if (currentTimeStr >= startTime && currentTimeStr <= endTime) {\n      return {\n        status: 'ongoing',\n        color: 'text-green-600',\n        bgColor: 'bg-green-100'\n      };\n    } else if (currentTimeStr < startTime) {\n      return {\n        status: 'upcoming',\n        color: 'text-blue-600',\n        bgColor: 'bg-blue-100'\n      };\n    } else {\n      return {\n        status: 'ended',\n        color: 'text-gray-600',\n        bgColor: 'bg-gray-100'\n      };\n    }\n  };\n  const getTimeUntilClass = schedule => {\n    const now = new Date();\n    const today = now.toISOString().split('T')[0];\n    const classStart = new Date(`${today}T${schedule.STARTTIME}`);\n    const diffMs = classStart.getTime() - now.getTime();\n    if (diffMs <= 0) return null;\n    const hours = Math.floor(diffMs / (1000 * 60 * 60));\n    const minutes = Math.floor(diffMs % (1000 * 60 * 60) / (1000 * 60));\n    if (hours > 0) {\n      return `${hours}h ${minutes}m`;\n    } else {\n      return `${minutes}m`;\n    }\n  };\n  const getSessionDuration = (startTime, endTime) => {\n    if (!startTime) return '';\n    const start = new Date(startTime);\n    const end = endTime ? new Date(endTime) : new Date();\n\n    // Check if start time is valid and not too far in the past\n    const now = new Date();\n    const maxReasonableDuration = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\n    if (start.getTime() < now.getTime() - maxReasonableDuration) {\n      return 'Invalid start time';\n    }\n    const duration = Math.floor((end - start) / (1000 * 60)); // minutes\n    const hours = Math.floor(duration / 60);\n    const mins = duration % 60;\n\n    // Cap duration display at 24 hours\n    if (hours > 24) {\n      return '24h+';\n    }\n    return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;\n  };\n  const groupSchedulesByDay = schedules => {\n    const dayOrder = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const grouped = {};\n    schedules.forEach(schedule => {\n      const day = schedule.DAYOFWEEK;\n      if (!grouped[day]) {\n        grouped[day] = [];\n      }\n      grouped[day].push(schedule);\n    });\n\n    // Sort schedules within each day by start time\n    Object.keys(grouped).forEach(day => {\n      grouped[day].sort((a, b) => a.STARTTIME.localeCompare(b.STARTTIME));\n    });\n\n    // Return as array sorted by day order\n    return dayOrder.map(day => ({\n      day,\n      schedules: grouped[day] || []\n    })).filter(dayGroup => dayGroup.schedules.length > 0);\n  };\n  const getUniqueDays = () => {\n    const days = [...new Set(allSchedules.map(schedule => schedule.DAYOFWEEK).filter(day => day))];\n    return ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].filter(day => days.includes(day));\n  };\n  const getUniqueRooms = () => {\n    if (!allSchedules || allSchedules.length === 0) {\n      return [];\n    }\n    const rooms = [...new Map(allSchedules.map(schedule => {\n      console.log('Processing schedule for room:', schedule);\n      return [schedule.ROOMID, {\n        id: schedule.ROOMID,\n        number: schedule.room_number || schedule.ROOMNUMBER || 'Unknown',\n        name: schedule.room_name || schedule.ROOMNAME || 'Unknown Room',\n        building: schedule.BUILDING || 'Unknown Building'\n      }];\n    })).values()];\n    console.log('Unique rooms before sort:', rooms);\n    return rooms.sort((a, b) => {\n      const aNum = a.number || 'Unknown';\n      const bNum = b.number || 'Unknown';\n      return aNum.localeCompare(bNum);\n    });\n  };\n  const getFilteredSchedules = () => {\n    let filtered = allSchedules;\n\n    // Filter by day\n    if (selectedDay) {\n      filtered = filtered.filter(schedule => schedule.DAYOFWEEK === selectedDay);\n    }\n\n    // Filter by room\n    if (selectedRoomFilter) {\n      filtered = filtered.filter(schedule => schedule.ROOMID === selectedRoomFilter);\n    }\n    return filtered;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Session Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Monitor and manage class sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n              className: \"h-8 w-8 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-3xl font-bold text-blue-900\",\n                children: formatCurrentTime()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg text-blue-700\",\n                children: formatCurrentDate()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 text-blue-700\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarDaysIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold\",\n              children: [todaysSchedule.length, \" classes scheduled today\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), currentOngoingClass && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(PlayIcon, {\n                className: \"h-6 w-6 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg font-bold text-green-900\",\n                children: \"Class in Progress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-green-700\",\n                children: \"Session is currently active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-900\",\n            children: [currentOngoingClass.subject_code, \" - \", currentOngoingClass.subject_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-700\",\n            children: [currentOngoingClass.instructor_name, \" \\u2022 \", currentOngoingClass.room_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-600\",\n            children: [formatScheduleTime(currentOngoingClass.STARTTIME), \" - \", formatScheduleTime(currentOngoingClass.ENDTIME)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 9\n    }, this), upcomingClasses.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n          className: \"h-6 w-6 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Upcoming Classes Today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: upcomingClasses.map((schedule, index) => {\n          const timeUntil = getTimeUntilClass(schedule);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-bold text-blue-600\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold text-gray-900\",\n                    children: schedule.subject_code\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: schedule.subject_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-bold text-blue-600\",\n                  children: formatScheduleTime(schedule.STARTTIME)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 23\n                }, this), timeUntil && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: [\"in \", timeUntil]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 text-sm text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: schedule.instructor_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 text-sm text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(MapPinIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [schedule.room_number, \" - \", schedule.room_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 text-sm text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [formatScheduleTime(schedule.STARTTIME), \" - \", formatScheduleTime(schedule.ENDTIME)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 19\n            }, this)]\n          }, schedule.SCHEDULEID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Current Active Sessions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this), sessions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"No active sessions for today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: sessions.map(session => {\n          console.log('Session data:', session);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex items-center space-x-2 px-3 py-1 rounded-full text-sm ${session.status === 'active' ? 'bg-green-100 text-green-800' : session.status === 'waiting' ? 'bg-yellow-100 text-yellow-800' : session.status === 'ended' ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-800'}`,\n                  children: [session.status === 'active' ? /*#__PURE__*/_jsxDEV(PlayIcon, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 588,\n                    columnNumber: 25\n                  }, this) : session.status === 'waiting' ? /*#__PURE__*/_jsxDEV(ExclamationTriangleIcon, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 590,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(StopIcon, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"capitalize\",\n                    children: session.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 21\n                }, this), session.door_unlocked_at && !session.door_locked_at && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs\",\n                  children: [/*#__PURE__*/_jsxDEV(LockOpenIcon, {\n                    className: \"h-3 w-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Door Unlocked\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 600,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 23\n                }, this), session.door_locked_at && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs\",\n                  children: [/*#__PURE__*/_jsxDEV(LockClosedIcon, {\n                    className: \"h-3 w-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Door Locked\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"Duration: \", getSessionDuration(session.start_time, session.end_time)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: session.course_code || session.subject_code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600\",\n                  children: session.course_name || session.subject_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: session.instructor_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600\",\n                  children: \"Instructor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: session.room_number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600\",\n                  children: session.room_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: [formatTime(session.start_time), session.end_time && ` - ${formatTime(session.end_time)}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 634,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600\",\n                  children: [session.attendance_count || 0, \" students present\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 17\n            }, this)]\n          }, session.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Weekly Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Day Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedDay,\n              onChange: e => setSelectedDay(e.target.value),\n              className: \"border border-gray-300 rounded-md px-3 py-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 17\n              }, this), allSchedules.length > 0 && getUniqueDays().map(day => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: day,\n                children: day\n              }, day, false, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Room Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedRoomFilter,\n              onChange: e => setSelectedRoomFilter(e.target.value),\n              className: \"border border-gray-300 rounded-md px-3 py-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Rooms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, this), allSchedules.length > 0 && getUniqueRooms().map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: room.id,\n                children: [room.number, \" - \", room.name]\n              }, room.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedDay('');\n                setSelectedRoomFilter('');\n              },\n              className: \"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 underline\",\n              children: \"Clear Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 9\n      }, this), allSchedules.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"No schedules found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: (() => {\n          const filteredSchedules = getFilteredSchedules();\n          const dayGroups = groupSchedulesByDay(filteredSchedules);\n          if (dayGroups.length === 0) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(CalendarDaysIcon, {\n                className: \"mx-auto h-12 w-12 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"mt-2 text-sm font-medium text-gray-900\",\n                children: \"No schedules found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-gray-500\",\n                children: \"Try adjusting your filters to see more results.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 19\n            }, this);\n          }\n          return dayGroups.map(dayGroup => {\n            const currentDay = new Date().toLocaleDateString('en-US', {\n              weekday: 'long'\n            });\n            const isToday = dayGroup.day === currentDay;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border border-gray-200 rounded-lg overflow-hidden\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `px-4 py-3 ${isToday ? 'bg-blue-50 border-b border-blue-200' : 'bg-gray-50 border-b border-gray-200'}`,\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: `text-lg font-semibold ${isToday ? 'text-blue-900' : 'text-gray-900'}`,\n                  children: [dayGroup.day, isToday && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-sm font-normal text-blue-600\",\n                    children: \"(Today)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 730,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-sm font-normal text-gray-500\",\n                    children: [\"(\", dayGroup.schedules.length, \" classes)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 731,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4\",\n                children: dayGroup.schedules.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: \"No classes scheduled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 736,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: dayGroup.schedules.map(schedule => {\n                    const classStatus = getClassStatus(schedule);\n                    const timeUntil = getTimeUntilClass(schedule);\n                    const isToday = dayGroup.day === new Date().toLocaleDateString('en-US', {\n                      weekday: 'long'\n                    });\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `flex items-center justify-between p-3 rounded-lg border-2 ${isToday ? classStatus.bgColor : 'bg-gray-50'} ${isToday ? 'border-gray-300' : 'border-gray-200'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center space-x-2 mb-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            className: \"font-medium text-gray-900\",\n                            children: [schedule.subject_code, \" - \", schedule.subject_name]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 750,\n                            columnNumber: 37\n                          }, this), isToday && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${classStatus.bgColor} ${classStatus.color}`,\n                            children: [classStatus.status === 'ongoing' && /*#__PURE__*/_jsxDEV(PlayIcon, {\n                              className: \"h-3 w-3 mr-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 753,\n                              columnNumber: 78\n                            }, this), classStatus.status === 'upcoming' && /*#__PURE__*/_jsxDEV(ClockIcon, {\n                              className: \"h-3 w-3 mr-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 754,\n                              columnNumber: 79\n                            }, this), classStatus.status === 'ended' && /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                              className: \"h-3 w-3 mr-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 755,\n                              columnNumber: 76\n                            }, this), classStatus.status]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 752,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 749,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600\",\n                          children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                            className: \"h-4 w-4 inline mr-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 761,\n                            columnNumber: 37\n                          }, this), schedule.instructor_name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 760,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600\",\n                          children: [/*#__PURE__*/_jsxDEV(MapPinIcon, {\n                            className: \"h-4 w-4 inline mr-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 765,\n                            columnNumber: 37\n                          }, this), schedule.room_number, \" - \", schedule.room_name, \" (\", schedule.BUILDING, \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 764,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500\",\n                          children: [schedule.ACADEMICYEAR, \" \\u2022 \", schedule.SEMESTER]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 768,\n                          columnNumber: 35\n                        }, this), isToday && timeUntil && classStatus.status === 'upcoming' && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-blue-600 font-medium\",\n                          children: [\"Starts in \", timeUntil]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 770,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 748,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-right ml-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm font-medium text-gray-900\",\n                          children: [formatScheduleTime(schedule.STARTTIME), \" - \", formatScheduleTime(schedule.ENDTIME)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 776,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500\",\n                          children: \"Class Duration\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 779,\n                          columnNumber: 35\n                        }, this), isToday && classStatus.status === 'ongoing' && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-green-600 font-medium\",\n                          children: \"Currently Active\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 781,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 775,\n                        columnNumber: 33\n                      }, this)]\n                    }, schedule.SCHEDULEID, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 745,\n                      columnNumber: 31\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 21\n              }, this)]\n            }, dayGroup.day, true, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 19\n            }, this);\n          });\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 447,\n    columnNumber: 5\n  }, this);\n}\n_s(Sessions, \"oTcDGFKSjPpXj3d4DCMoTBNHilo=\");\n_c = Sessions;\nexport default Sessions;\nvar _c;\n$RefreshReg$(_c, \"Sessions\");","map":{"version":3,"names":["React","useState","useEffect","PlayIcon","StopIcon","FingerPrintIcon","IdentificationIcon","CheckCircleIcon","XCircleIcon","ExclamationTriangleIcon","LockClosedIcon","LockOpenIcon","ClockIcon","CalendarDaysIcon","UserGroupIcon","MapPinIcon","AcademicCapIcon","SunIcon","MoonIcon","axios","toast","jsxDEV","_jsxDEV","Sessions","_s","sessions","setSessions","allSchedules","setAllSchedules","todaysSchedule","setTodaysSchedule","instructors","setInstructors","rooms","setRooms","selectedInstructor","setSelectedInstructor","selectedRoom","setSelectedRoom","selectedLocation","setSelectedLocation","loading","setLoading","currentTime","setCurrentTime","Date","upcomingClasses","setUpcomingClasses","currentOngoingClass","setCurrentOngoingClass","selectedDay","setSelectedDay","selectedRoomFilter","setSelectedRoomFilter","fetchData","interval","setInterval","timeInterval","clearInterval","_unifiedData$schedule","_unifiedData$subjects","_unifiedData$rooms","token","localStorage","getItem","headers","Authorization","unifiedResponse","get","unifiedData","data","console","log","allSchedulesData","schedules","Object","keys","currentDay","toLocaleDateString","weekday","todaysSchedules","filter","schedule","DAYOFWEEK","instructorsData","subjects","roomsData","uniqueInstructors","Map","map","item","_item$instructor_name","_item$instructor_name2","INSTRUCTORID","USERID","FIRSTNAME","instructor_name","split","LASTNAME","slice","join","EMPLOYEEID","values","uniqueRooms","room","ROOMID","ROOMNUMBER","ROOMNAME","BUILDING","DOORSTATUS","now","currentTimeStr","toTimeString","currentDate","toISOString","virtualSessions","startTime","STARTTIME","endTime","ENDTIME","id","SCHEDULEID","session_date","start_time","end_time","status","door_unlocked_at","door_locked_at","course_code","subject_code","course_name","subject_name","room_number","room_name","attendance_count","error","_error$response","_error$response2","_error$response3","_error$response3$data","response","message","mockInstructors","mockRooms","mockTodaysSchedule","SUBJECTID","SUBJECTCODE","SUBJECTNAME","ACADEMICYEAR","SEMESTER","length","ongoing","find","isOngoing","upcoming","sort","a","b","localeCompare","handleScan","authMethod","instructor","i","r","today","matchingSchedule","activeSession","session","instructor_id","room_id","put","location","auth_method","toLowerCase","success","post","schedule_id","_error$response4","_error$response5","_error$response6","_error$response6$data","formatTime","timeString","date","toLocaleTimeString","hour","minute","hour12","formatScheduleTime","time","hours","minutes","parseInt","ampm","displayHour","formatCurrentTime","second","formatCurrentDate","year","month","day","getClassStatus","color","bgColor","getTimeUntilClass","classStart","diffMs","getTime","Math","floor","getSessionDuration","start","end","maxReasonableDuration","duration","mins","groupSchedulesByDay","dayOrder","grouped","forEach","push","dayGroup","getUniqueDays","days","Set","includes","getUniqueRooms","number","name","building","aNum","bNum","getFilteredSchedules","filtered","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","timeUntil","value","onChange","e","target","onClick","filteredSchedules","dayGroups","isToday","classStatus","_c","$RefreshReg$"],"sources":["C:/Users/Harley/Desktop/Capstone/attendanceiot/IOTCapstone/frontend/src/pages/Sessions.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  PlayIcon, \n  StopIcon, \n  FingerPrintIcon,\n  IdentificationIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ExclamationTriangleIcon,\n  LockClosedIcon,\n  LockOpenIcon,\n  ClockIcon,\n  CalendarDaysIcon,\n  UserGroupIcon,\n  MapPinIcon,\n  AcademicCapIcon,\n  SunIcon,\n  MoonIcon\n} from '@heroicons/react/24/outline';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nfunction Sessions() {\n  const [sessions, setSessions] = useState([]);\n  const [allSchedules, setAllSchedules] = useState([]);\n  const [todaysSchedule, setTodaysSchedule] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [selectedInstructor, setSelectedInstructor] = useState('');\n  const [selectedRoom, setSelectedRoom] = useState('');\n  const [selectedLocation, setSelectedLocation] = useState('outside');\n  const [loading, setLoading] = useState(true);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [upcomingClasses, setUpcomingClasses] = useState([]);\n  const [currentOngoingClass, setCurrentOngoingClass] = useState(null);\n  const [selectedDay, setSelectedDay] = useState('');\n  const [selectedRoomFilter, setSelectedRoomFilter] = useState('');\n\n  useEffect(() => {\n    fetchData();\n    // Set up real-time updates\n    const interval = setInterval(fetchData, 30000); // Update every 30 seconds\n    // Update current time every second\n    const timeInterval = setInterval(() => setCurrentTime(new Date()), 1000);\n    return () => {\n      clearInterval(interval);\n      clearInterval(timeInterval);\n    };\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const headers = { Authorization: `Bearer ${token}` };\n\n      // Use the same unified data endpoint as the management page\n      const unifiedResponse = await axios.get('http://localhost:5000/api/unified/data', { headers });\n      const unifiedData = unifiedResponse.data;\n      \n      console.log('Unified data response:', unifiedData);\n\n      // Extract data from unified response\n      const allSchedulesData = unifiedData.schedules?.data || [];\n      console.log('All schedules data:', allSchedulesData);\n      console.log('Sample schedule data:', allSchedulesData[0]);\n      console.log('Sample schedule keys:', allSchedulesData[0] ? Object.keys(allSchedulesData[0]) : 'No data');\n      setAllSchedules(allSchedulesData);\n\n      // Filter today's schedules\n      const currentDay = new Date().toLocaleDateString('en-US', { weekday: 'long' });\n      const todaysSchedules = allSchedulesData.filter(schedule => schedule.DAYOFWEEK === currentDay);\n      setTodaysSchedule(todaysSchedules);\n\n      // Get instructors and rooms from unified data\n      const instructorsData = unifiedData.subjects?.data || [];\n      const roomsData = unifiedData.rooms?.data || [];\n      \n      // Extract unique instructors\n      const uniqueInstructors = [...new Map(instructorsData.map(item => [item.INSTRUCTORID, {\n        USERID: item.INSTRUCTORID,\n        FIRSTNAME: item.instructor_name?.split(' ')[0] || '',\n        LASTNAME: item.instructor_name?.split(' ').slice(1).join(' ') || '',\n        EMPLOYEEID: item.INSTRUCTORID\n      }])).values()];\n      setInstructors(uniqueInstructors);\n\n      // Extract unique rooms\n      const uniqueRooms = roomsData.map(room => ({\n        ROOMID: room.ROOMID,\n        ROOMNUMBER: room.ROOMNUMBER,\n        ROOMNAME: room.ROOMNAME,\n        BUILDING: room.BUILDING,\n        DOORSTATUS: 'locked'\n      }));\n      setRooms(uniqueRooms);\n\n      // Create virtual active sessions based on today's schedule\n      const now = new Date();\n      const currentTimeStr = now.toTimeString().slice(0, 8); // HH:MM:SS format\n      const currentDate = now.toISOString().split('T')[0]; // YYYY-MM-DD format\n      \n      const virtualSessions = todaysSchedules\n        .filter(schedule => {\n          const startTime = schedule.STARTTIME;\n          const endTime = schedule.ENDTIME;\n          return currentTimeStr >= startTime && currentTimeStr <= endTime;\n        })\n        .map(schedule => ({\n          id: schedule.SCHEDULEID,\n          session_date: currentDate,\n          start_time: `${currentDate}T${schedule.STARTTIME}`,\n          end_time: null,\n          status: 'active',\n          door_unlocked_at: `${currentDate}T${schedule.STARTTIME}`,\n          door_locked_at: null,\n          instructor_name: schedule.instructor_name,\n          course_code: schedule.subject_code,\n          course_name: schedule.subject_name,\n          room_number: schedule.room_number,\n          room_name: schedule.room_name,\n          attendance_count: 0\n        }));\n      \n      console.log('Virtual active sessions:', virtualSessions);\n      setSessions(virtualSessions);\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      console.error('Error response:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      toast.error(`Failed to load session data: ${error.response?.data?.message || error.message}`);\n      \n      // Fallback to mock data if API fails\n      const mockInstructors = [\n        { USERID: '1', FIRSTNAME: 'John', LASTNAME: 'Smith', EMPLOYEEID: 'EMP001' },\n        { USERID: '2', FIRSTNAME: 'Jane', LASTNAME: 'Doe', EMPLOYEEID: 'EMP002' },\n        { USERID: '3', FIRSTNAME: 'Bob', LASTNAME: 'Johnson', EMPLOYEEID: 'EMP003' }\n      ];\n\n      const mockRooms = [\n        { ROOMID: '1', ROOMNUMBER: 'A101', ROOMNAME: 'Computer Lab 1', BUILDING: 'Main Building', DOORSTATUS: 'locked' },\n        { ROOMID: '2', ROOMNUMBER: 'B201', ROOMNAME: 'Mathematics Room', BUILDING: 'Academic Building', DOORSTATUS: 'locked' },\n        { ROOMID: '3', ROOMNUMBER: 'C301', ROOMNAME: 'English Classroom', BUILDING: 'Liberal Arts Building', DOORSTATUS: 'locked' }\n      ];\n\n      const currentDay = new Date().toLocaleDateString('en-US', { weekday: 'long' });\n      const mockTodaysSchedule = [\n        {\n          SCHEDULEID: '1',\n          SUBJECTID: '1',\n          SUBJECTCODE: 'CS101',\n          SUBJECTNAME: 'Introduction to Computer Science',\n          INSTRUCTORID: '1',\n          instructor_name: 'John Smith',\n          ROOMID: '1',\n          ROOMNUMBER: 'A101',\n          ROOMNAME: 'Computer Lab 1',\n          DAYOFWEEK: currentDay,\n          STARTTIME: '08:00:00',\n          ENDTIME: '10:00:00',\n          ACADEMICYEAR: '2024-2025',\n          SEMESTER: 'First Semester'\n        }\n      ];\n\n      setInstructors(mockInstructors);\n      setRooms(mockRooms);\n      setTodaysSchedule(mockTodaysSchedule);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Analyze current and upcoming classes\n  useEffect(() => {\n    if (todaysSchedule.length > 0) {\n      const now = new Date();\n      const currentTimeStr = now.toTimeString().slice(0, 8); // HH:MM:SS format\n      \n      console.log('Current time string:', currentTimeStr);\n      console.log('Today\\'s schedules:', todaysSchedule);\n      \n      // Find current ongoing class\n      const ongoing = todaysSchedule.find(schedule => {\n        const startTime = schedule.STARTTIME;\n        const endTime = schedule.ENDTIME;\n        const isOngoing = currentTimeStr >= startTime && currentTimeStr <= endTime;\n        console.log(`Checking schedule ${schedule?.subject_code || 'Unknown'}: ${startTime}-${endTime}, isOngoing: ${isOngoing}`);\n        console.log('Schedule object:', schedule);\n        return isOngoing;\n      });\n      \n      console.log('Current ongoing class:', ongoing);\n      setCurrentOngoingClass(ongoing || null);\n      \n      // Find upcoming classes (next 3 classes after current time)\n      const upcoming = todaysSchedule\n        .filter(schedule => schedule.STARTTIME > currentTimeStr)\n        .sort((a, b) => a.STARTTIME.localeCompare(b.STARTTIME))\n        .slice(0, 3);\n      \n      console.log('Upcoming classes:', upcoming);\n      setUpcomingClasses(upcoming);\n    }\n  }, [todaysSchedule, currentTime]);\n\n  const handleScan = async (authMethod) => {\n    if (!selectedInstructor || !selectedRoom) {\n      toast.error('Please select both instructor and room');\n      return;\n    }\n\n    try {\n      const instructor = instructors.find(i => i.USERID === selectedInstructor);\n      const room = rooms.find(r => r.ROOMID === selectedRoom);\n      const today = new Date().toISOString().split('T')[0];\n      \n      // Find matching schedule for today\n      const matchingSchedule = todaysSchedule.find(schedule => \n        schedule.INSTRUCTORID === selectedInstructor && \n        schedule.ROOMID === selectedRoom\n      );\n\n      if (!matchingSchedule) {\n        toast.error('No scheduled class found for this instructor and room today');\n        return;\n      }\n\n      // Check if there's an active session\n      const activeSession = sessions.find(session => \n        session.instructor_id === selectedInstructor && \n        session.room_id === selectedRoom && \n        session.status === 'active' &&\n        session.session_date === today\n      );\n\n      const token = localStorage.getItem('token');\n      const headers = { Authorization: `Bearer ${token}` };\n\n      if (activeSession) {\n        // End the session\n        await axios.put(`http://localhost:5000/api/sessions/${activeSession.id}/end`, {\n          location: selectedLocation,\n          auth_method: authMethod.toLowerCase()\n        }, { headers });\n\n        toast.success(`ðŸšª Session ended! ${authMethod} scan successful by ${instructor.FIRSTNAME} ${instructor.LASTNAME}`);\n      } else {\n        // Start new session\n        await axios.post('http://localhost:5000/api/sessions', {\n          schedule_id: matchingSchedule.SCHEDULEID,\n          instructor_id: selectedInstructor,\n          room_id: selectedRoom,\n          location: selectedLocation,\n          auth_method: authMethod.toLowerCase()\n        }, { headers });\n\n        toast.success(`ðŸšª Session started! ${authMethod} scan successful by ${instructor.FIRSTNAME} ${instructor.LASTNAME}`);\n      }\n\n      // Refresh data\n      fetchData();\n    } catch (error) {\n      console.error('Error processing scan:', error);\n      console.error('Error response:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      toast.error(error.response?.data?.message || 'Failed to process scan');\n    }\n  };\n\n  const formatTime = (timeString) => {\n    if (!timeString) return '';\n    const date = new Date(timeString);\n    return date.toLocaleTimeString('en-US', { \n      hour: '2-digit', \n      minute: '2-digit',\n      hour12: true \n    });\n  };\n\n  const formatScheduleTime = (time) => {\n    if (!time) return '';\n    const [hours, minutes] = time.split(':');\n    const hour = parseInt(hours);\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const displayHour = hour % 12 || 12;\n    return `${displayHour}:${minutes} ${ampm}`;\n  };\n\n  const formatCurrentTime = () => {\n    return currentTime.toLocaleTimeString('en-US', { \n      hour: '2-digit', \n      minute: '2-digit',\n      second: '2-digit',\n      hour12: true \n    });\n  };\n\n  const formatCurrentDate = () => {\n    return currentTime.toLocaleDateString('en-US', { \n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const getClassStatus = (schedule) => {\n    const now = new Date();\n    const currentTimeStr = now.toTimeString().slice(0, 8);\n    const startTime = schedule.STARTTIME;\n    const endTime = schedule.ENDTIME;\n    \n    if (currentTimeStr >= startTime && currentTimeStr <= endTime) {\n      return { status: 'ongoing', color: 'text-green-600', bgColor: 'bg-green-100' };\n    } else if (currentTimeStr < startTime) {\n      return { status: 'upcoming', color: 'text-blue-600', bgColor: 'bg-blue-100' };\n    } else {\n      return { status: 'ended', color: 'text-gray-600', bgColor: 'bg-gray-100' };\n    }\n  };\n\n  const getTimeUntilClass = (schedule) => {\n    const now = new Date();\n    const today = now.toISOString().split('T')[0];\n    const classStart = new Date(`${today}T${schedule.STARTTIME}`);\n    const diffMs = classStart.getTime() - now.getTime();\n    \n    if (diffMs <= 0) return null;\n    \n    const hours = Math.floor(diffMs / (1000 * 60 * 60));\n    const minutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (hours > 0) {\n      return `${hours}h ${minutes}m`;\n    } else {\n      return `${minutes}m`;\n    }\n  };\n\n  const getSessionDuration = (startTime, endTime) => {\n    if (!startTime) return '';\n    const start = new Date(startTime);\n    const end = endTime ? new Date(endTime) : new Date();\n    \n    // Check if start time is valid and not too far in the past\n    const now = new Date();\n    const maxReasonableDuration = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n    \n    if (start.getTime() < now.getTime() - maxReasonableDuration) {\n      return 'Invalid start time';\n    }\n    \n    const duration = Math.floor((end - start) / (1000 * 60)); // minutes\n    const hours = Math.floor(duration / 60);\n    const mins = duration % 60;\n    \n    // Cap duration display at 24 hours\n    if (hours > 24) {\n      return '24h+';\n    }\n    \n    return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;\n  };\n\n  const groupSchedulesByDay = (schedules) => {\n    const dayOrder = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const grouped = {};\n    \n    schedules.forEach(schedule => {\n      const day = schedule.DAYOFWEEK;\n      if (!grouped[day]) {\n        grouped[day] = [];\n      }\n      grouped[day].push(schedule);\n    });\n\n    // Sort schedules within each day by start time\n    Object.keys(grouped).forEach(day => {\n      grouped[day].sort((a, b) => a.STARTTIME.localeCompare(b.STARTTIME));\n    });\n\n    // Return as array sorted by day order\n    return dayOrder.map(day => ({\n      day,\n      schedules: grouped[day] || []\n    })).filter(dayGroup => dayGroup.schedules.length > 0);\n  };\n\n  const getUniqueDays = () => {\n    const days = [...new Set(allSchedules.map(schedule => schedule.DAYOFWEEK).filter(day => day))];\n    return ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].filter(day => days.includes(day));\n  };\n\n  const getUniqueRooms = () => {\n    if (!allSchedules || allSchedules.length === 0) {\n      return [];\n    }\n    \n    const rooms = [...new Map(allSchedules.map(schedule => {\n      console.log('Processing schedule for room:', schedule);\n      return [\n        schedule.ROOMID, \n        { \n          id: schedule.ROOMID, \n          number: schedule.room_number || schedule.ROOMNUMBER || 'Unknown', \n          name: schedule.room_name || schedule.ROOMNAME || 'Unknown Room', \n          building: schedule.BUILDING || 'Unknown Building' \n        }\n      ];\n    })).values()];\n    \n    console.log('Unique rooms before sort:', rooms);\n    \n    return rooms.sort((a, b) => {\n      const aNum = a.number || 'Unknown';\n      const bNum = b.number || 'Unknown';\n      return aNum.localeCompare(bNum);\n    });\n  };\n\n  const getFilteredSchedules = () => {\n    let filtered = allSchedules;\n    \n    // Filter by day\n    if (selectedDay) {\n      filtered = filtered.filter(schedule => schedule.DAYOFWEEK === selectedDay);\n    }\n    \n    // Filter by room\n    if (selectedRoomFilter) {\n      filtered = filtered.filter(schedule => schedule.ROOMID === selectedRoomFilter);\n    }\n    \n    return filtered;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Session Management</h1>\n          <p className=\"text-gray-600\">Monitor and manage class sessions</p>\n        </div>\n      </div>\n\n      {/* Current Time and Date Display */}\n      <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <ClockIcon className=\"h-8 w-8 text-blue-600\" />\n              <div>\n                <div className=\"text-3xl font-bold text-blue-900\">{formatCurrentTime()}</div>\n                <div className=\"text-lg text-blue-700\">{formatCurrentDate()}</div>\n              </div>\n            </div>\n          </div>\n          <div className=\"text-right\">\n            <div className=\"flex items-center space-x-2 text-blue-700\">\n              <CalendarDaysIcon className=\"h-6 w-6\" />\n              <span className=\"text-lg font-semibold\">\n                {todaysSchedule.length} classes scheduled today\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Current Ongoing Class */}\n      {currentOngoingClass && (\n        <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\">\n                  <PlayIcon className=\"h-6 w-6 text-green-600\" />\n                </div>\n                <div>\n                  <div className=\"text-lg font-bold text-green-900\">Class in Progress</div>\n                  <div className=\"text-sm text-green-700\">Session is currently active</div>\n                </div>\n              </div>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-2xl font-bold text-green-900\">\n                {currentOngoingClass.subject_code} - {currentOngoingClass.subject_name}\n              </div>\n              <div className=\"text-sm text-green-700\">\n                {currentOngoingClass.instructor_name} â€¢ {currentOngoingClass.room_number}\n              </div>\n              <div className=\"text-sm text-green-600\">\n                {formatScheduleTime(currentOngoingClass.STARTTIME)} - {formatScheduleTime(currentOngoingClass.ENDTIME)}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Upcoming Classes */}\n      {upcomingClasses.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center space-x-2 mb-4\">\n            <ClockIcon className=\"h-6 w-6 text-blue-600\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">Upcoming Classes Today</h2>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {upcomingClasses.map((schedule, index) => {\n              const timeUntil = getTimeUntilClass(schedule);\n              return (\n                <div key={schedule.SCHEDULEID} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <div className=\"flex items-center space-x-2\">\n                      <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                        <span className=\"text-sm font-bold text-blue-600\">{index + 1}</span>\n                      </div>\n                      <div>\n                        <div className=\"font-semibold text-gray-900\">{schedule.subject_code}</div>\n                        <div className=\"text-sm text-gray-600\">{schedule.subject_name}</div>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"text-lg font-bold text-blue-600\">\n                        {formatScheduleTime(schedule.STARTTIME)}\n                      </div>\n                      {timeUntil && (\n                        <div className=\"text-xs text-gray-500\">in {timeUntil}</div>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <AcademicCapIcon className=\"h-4 w-4\" />\n                      <span>{schedule.instructor_name}</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <MapPinIcon className=\"h-4 w-4\" />\n                      <span>{schedule.room_number} - {schedule.room_name}</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <ClockIcon className=\"h-4 w-4\" />\n                      <span>{formatScheduleTime(schedule.STARTTIME)} - {formatScheduleTime(schedule.ENDTIME)}</span>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n\n      {/* Active Sessions - Moved to Top */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Current Active Sessions</h2>\n        \n        {sessions.length === 0 ? (\n          <p className=\"text-gray-500\">No active sessions for today</p>\n        ) : (\n          <div className=\"space-y-4\">\n            {sessions.map((session) => {\n              console.log('Session data:', session);\n              return (\n              <div key={session.id} className=\"border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`flex items-center space-x-2 px-3 py-1 rounded-full text-sm ${\n                      session.status === 'active' \n                        ? 'bg-green-100 text-green-800' \n                        : session.status === 'waiting'\n                        ? 'bg-yellow-100 text-yellow-800'\n                        : session.status === 'ended'\n                        ? 'bg-red-100 text-red-800'\n                        : 'bg-gray-100 text-gray-800'\n                    }`}>\n                      {session.status === 'active' ? (\n                        <PlayIcon className=\"h-4 w-4\" />\n                      ) : session.status === 'waiting' ? (\n                        <ExclamationTriangleIcon className=\"h-4 w-4\" />\n                      ) : (\n                        <StopIcon className=\"h-4 w-4\" />\n                      )}\n                      <span className=\"capitalize\">{session.status}</span>\n                    </div>\n                    \n                    {session.door_unlocked_at && !session.door_locked_at && (\n                      <div className=\"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs\">\n                        <LockOpenIcon className=\"h-3 w-3\" />\n                        <span>Door Unlocked</span>\n                      </div>\n                    )}\n                    \n                    {session.door_locked_at && (\n                      <div className=\"flex items-center space-x-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs\">\n                        <LockClosedIcon className=\"h-3 w-3\" />\n                        <span>Door Locked</span>\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"text-sm text-gray-500\">\n                    Duration: {getSessionDuration(session.start_time, session.end_time)}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{session.course_code || session.subject_code}</p>\n                    <p className=\"text-xs text-gray-600\">{session.course_name || session.subject_name}</p>\n                  </div>\n                  \n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{session.instructor_name}</p>\n                    <p className=\"text-xs text-gray-600\">Instructor</p>\n                  </div>\n                  \n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{session.room_number}</p>\n                    <p className=\"text-xs text-gray-600\">{session.room_name}</p>\n                  </div>\n                  \n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">\n                      {formatTime(session.start_time)}\n                      {session.end_time && ` - ${formatTime(session.end_time)}`}\n                    </p>\n                    <p className=\"text-xs text-gray-600\">\n                      {session.attendance_count || 0} students present\n                    </p>\n                  </div>\n                </div>\n              </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Weekly Schedule */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">Weekly Schedule</h2>\n          \n          {/* Filters */}\n          <div className=\"flex space-x-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Day Filter</label>\n              <select\n                value={selectedDay}\n                onChange={(e) => setSelectedDay(e.target.value)}\n                className=\"border border-gray-300 rounded-md px-3 py-2 text-sm\"\n              >\n                <option value=\"\">All Days</option>\n                {allSchedules.length > 0 && getUniqueDays().map(day => (\n                  <option key={day} value={day}>{day}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Room Filter</label>\n              <select\n                value={selectedRoomFilter}\n                onChange={(e) => setSelectedRoomFilter(e.target.value)}\n                className=\"border border-gray-300 rounded-md px-3 py-2 text-sm\"\n              >\n                <option value=\"\">All Rooms</option>\n                {allSchedules.length > 0 && getUniqueRooms().map(room => (\n                  <option key={room.id} value={room.id}>\n                    {room.number} - {room.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"flex items-end\">\n              <button\n                onClick={() => {\n                  setSelectedDay('');\n                  setSelectedRoomFilter('');\n                }}\n                className=\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 underline\"\n              >\n                Clear Filters\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        {allSchedules.length === 0 ? (\n          <p className=\"text-gray-500\">No schedules found</p>\n        ) : (\n          <div className=\"space-y-6\">\n            {(() => {\n              const filteredSchedules = getFilteredSchedules();\n              const dayGroups = groupSchedulesByDay(filteredSchedules);\n              \n              if (dayGroups.length === 0) {\n                return (\n                  <div className=\"text-center py-8\">\n                    <CalendarDaysIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                    <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No schedules found</h3>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      Try adjusting your filters to see more results.\n                    </p>\n                  </div>\n                );\n              }\n              \n              return dayGroups.map((dayGroup) => {\n                const currentDay = new Date().toLocaleDateString('en-US', { weekday: 'long' });\n                const isToday = dayGroup.day === currentDay;\n                \n                return (\n                  <div key={dayGroup.day} className=\"border border-gray-200 rounded-lg overflow-hidden\">\n                    <div className={`px-4 py-3 ${isToday ? 'bg-blue-50 border-b border-blue-200' : 'bg-gray-50 border-b border-gray-200'}`}>\n                      <h3 className={`text-lg font-semibold ${isToday ? 'text-blue-900' : 'text-gray-900'}`}>\n                        {dayGroup.day}\n                        {isToday && <span className=\"ml-2 text-sm font-normal text-blue-600\">(Today)</span>}\n                        <span className=\"ml-2 text-sm font-normal text-gray-500\">({dayGroup.schedules.length} classes)</span>\n                      </h3>\n                    </div>\n                    <div className=\"p-4\">\n                      {dayGroup.schedules.length === 0 ? (\n                        <p className=\"text-gray-500 text-sm\">No classes scheduled</p>\n                      ) : (\n                        <div className=\"space-y-3\">\n                          {dayGroup.schedules.map((schedule) => {\n                            const classStatus = getClassStatus(schedule);\n                            const timeUntil = getTimeUntilClass(schedule);\n                            const isToday = dayGroup.day === new Date().toLocaleDateString('en-US', { weekday: 'long' });\n                            \n                            return (\n                              <div key={schedule.SCHEDULEID} className={`flex items-center justify-between p-3 rounded-lg border-2 ${\n                                isToday ? classStatus.bgColor : 'bg-gray-50'\n                              } ${isToday ? 'border-gray-300' : 'border-gray-200'}`}>\n                                <div className=\"flex-1\">\n                                  <div className=\"flex items-center space-x-2 mb-1\">\n                                    <h4 className=\"font-medium text-gray-900\">{schedule.subject_code} - {schedule.subject_name}</h4>\n                                    {isToday && (\n                                      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${classStatus.bgColor} ${classStatus.color}`}>\n                                        {classStatus.status === 'ongoing' && <PlayIcon className=\"h-3 w-3 mr-1\" />}\n                                        {classStatus.status === 'upcoming' && <ClockIcon className=\"h-3 w-3 mr-1\" />}\n                                        {classStatus.status === 'ended' && <CheckCircleIcon className=\"h-3 w-3 mr-1\" />}\n                                        {classStatus.status}\n                                      </span>\n                                    )}\n                                  </div>\n                                  <p className=\"text-sm text-gray-600\">\n                                    <AcademicCapIcon className=\"h-4 w-4 inline mr-1\" />\n                                    {schedule.instructor_name}\n                                  </p>\n                                  <p className=\"text-sm text-gray-600\">\n                                    <MapPinIcon className=\"h-4 w-4 inline mr-1\" />\n                                    {schedule.room_number} - {schedule.room_name} ({schedule.BUILDING})\n                                  </p>\n                                  <p className=\"text-xs text-gray-500\">{schedule.ACADEMICYEAR} â€¢ {schedule.SEMESTER}</p>\n                                  {isToday && timeUntil && classStatus.status === 'upcoming' && (\n                                    <p className=\"text-xs text-blue-600 font-medium\">\n                                      Starts in {timeUntil}\n                                    </p>\n                                  )}\n                                </div>\n                                <div className=\"text-right ml-4\">\n                                  <p className=\"text-sm font-medium text-gray-900\">\n                                    {formatScheduleTime(schedule.STARTTIME)} - {formatScheduleTime(schedule.ENDTIME)}\n                                  </p>\n                                  <p className=\"text-xs text-gray-500\">Class Duration</p>\n                                  {isToday && classStatus.status === 'ongoing' && (\n                                    <p className=\"text-xs text-green-600 font-medium\">Currently Active</p>\n                                  )}\n                                </div>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              });\n            })()}\n          </div>\n        )}\n      </div>\n\n    </div>\n  );\n}\n\nexport default Sessions; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}