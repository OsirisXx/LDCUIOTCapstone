{"ast":null,"code":"import React,{useState,useEffect}from'react';import{PlayIcon,StopIcon,CheckCircleIcon,XCircleIcon,ExclamationTriangleIcon,LockClosedIcon,LockOpenIcon,ClockIcon,CalendarDaysIcon,UserGroupIcon,MapPinIcon,AcademicCapIcon,SunIcon,MoonIcon}from'@heroicons/react/24/outline';import axios from'axios';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Sessions(){const[sessions,setSessions]=useState([]);const[allSchedules,setAllSchedules]=useState([]);const[todaysSchedule,setTodaysSchedule]=useState([]);const[instructors,setInstructors]=useState([]);const[rooms,setRooms]=useState([]);const[loading,setLoading]=useState(true);const[currentTime,setCurrentTime]=useState(new Date());const[upcomingClasses,setUpcomingClasses]=useState([]);const[currentOngoingClass,setCurrentOngoingClass]=useState(null);const[selectedDay,setSelectedDay]=useState('');const[selectedRoomFilter,setSelectedRoomFilter]=useState('');useEffect(()=>{fetchData();// Set up real-time updates\nconst interval=setInterval(fetchData,30000);// Update every 30 seconds\n// Update current time every second\nconst timeInterval=setInterval(()=>setCurrentTime(new Date()),1000);return()=>{clearInterval(interval);clearInterval(timeInterval);};},[]);const fetchData=async()=>{try{var _unifiedData$schedule,_unifiedData$subjects,_unifiedData$rooms;const token=localStorage.getItem('token');const headers={Authorization:\"Bearer \".concat(token)};// Use the same unified data endpoint as the management page\nconst unifiedResponse=await axios.get('http://localhost:5000/api/unified/data',{headers});const unifiedData=unifiedResponse.data;console.log('Unified data response:',unifiedData);// Extract data from unified response\nconst allSchedulesData=((_unifiedData$schedule=unifiedData.schedules)===null||_unifiedData$schedule===void 0?void 0:_unifiedData$schedule.data)||[];console.log('All schedules data:',allSchedulesData);console.log('Sample schedule data:',allSchedulesData[0]);console.log('Sample schedule keys:',allSchedulesData[0]?Object.keys(allSchedulesData[0]):'No data');setAllSchedules(allSchedulesData);// Filter today's schedules\nconst currentDay=new Date().toLocaleDateString('en-US',{weekday:'long'});const todaysSchedules=allSchedulesData.filter(schedule=>schedule.DAYOFWEEK===currentDay);setTodaysSchedule(todaysSchedules);// Get instructors and rooms from unified data\nconst instructorsData=((_unifiedData$subjects=unifiedData.subjects)===null||_unifiedData$subjects===void 0?void 0:_unifiedData$subjects.data)||[];const roomsData=((_unifiedData$rooms=unifiedData.rooms)===null||_unifiedData$rooms===void 0?void 0:_unifiedData$rooms.data)||[];// Extract unique instructors\nconst uniqueInstructors=[...new Map(instructorsData.map(item=>{var _item$instructor_name,_item$instructor_name2;return[item.INSTRUCTORID,{USERID:item.INSTRUCTORID,FIRSTNAME:((_item$instructor_name=item.instructor_name)===null||_item$instructor_name===void 0?void 0:_item$instructor_name.split(' ')[0])||'',LASTNAME:((_item$instructor_name2=item.instructor_name)===null||_item$instructor_name2===void 0?void 0:_item$instructor_name2.split(' ').slice(1).join(' '))||'',EMPLOYEEID:item.INSTRUCTORID}];})).values()];setInstructors(uniqueInstructors);// Extract unique rooms\nconst uniqueRooms=roomsData.map(room=>({ROOMID:room.ROOMID,ROOMNUMBER:room.ROOMNUMBER,ROOMNAME:room.ROOMNAME,BUILDING:room.BUILDING,DOORSTATUS:'locked'}));setRooms(uniqueRooms);// Create virtual active sessions based on today's schedule\nconst now=new Date();const currentTimeStr=now.toTimeString().slice(0,8);// HH:MM:SS format\nconst currentDate=now.toISOString().split('T')[0];// YYYY-MM-DD format\nconst virtualSessions=todaysSchedules.filter(schedule=>{const startTime=schedule.STARTTIME;const endTime=schedule.ENDTIME;return currentTimeStr>=startTime&&currentTimeStr<=endTime;}).map(schedule=>({id:schedule.SCHEDULEID,session_date:currentDate,start_time:\"\".concat(currentDate,\"T\").concat(schedule.STARTTIME),end_time:null,status:'active',door_unlocked_at:\"\".concat(currentDate,\"T\").concat(schedule.STARTTIME),door_locked_at:null,instructor_name:schedule.instructor_name,course_code:schedule.SUBJECTCODE,course_name:schedule.SUBJECTNAME,room_number:schedule.ROOMNUMBER,room_name:schedule.ROOMNAME,attendance_count:0}));console.log('Virtual active sessions:',virtualSessions);setSessions(virtualSessions);}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data;console.error('Error fetching data:',error);console.error('Error response:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);console.error('Error status:',(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status);toast.error(\"Failed to load session data: \".concat(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message));// Fallback to mock data if API fails\nconst mockInstructors=[{USERID:'1',FIRSTNAME:'John',LASTNAME:'Smith',EMPLOYEEID:'EMP001'},{USERID:'2',FIRSTNAME:'Jane',LASTNAME:'Doe',EMPLOYEEID:'EMP002'},{USERID:'3',FIRSTNAME:'Bob',LASTNAME:'Johnson',EMPLOYEEID:'EMP003'}];const mockRooms=[{ROOMID:'1',ROOMNUMBER:'A101',ROOMNAME:'Computer Lab 1',BUILDING:'Main Building',DOORSTATUS:'locked'},{ROOMID:'2',ROOMNUMBER:'B201',ROOMNAME:'Mathematics Room',BUILDING:'Academic Building',DOORSTATUS:'locked'},{ROOMID:'3',ROOMNUMBER:'C301',ROOMNAME:'English Classroom',BUILDING:'Liberal Arts Building',DOORSTATUS:'locked'}];const currentDay=new Date().toLocaleDateString('en-US',{weekday:'long'});const mockTodaysSchedule=[{SCHEDULEID:'1',SUBJECTID:'1',SUBJECTCODE:'CS101',SUBJECTNAME:'Introduction to Computer Science',INSTRUCTORID:'1',instructor_name:'John Smith',ROOMID:'1',ROOMNUMBER:'A101',ROOMNAME:'Computer Lab 1',DAYOFWEEK:currentDay,STARTTIME:'08:00:00',ENDTIME:'10:00:00',ACADEMICYEAR:'2024-2025',SEMESTER:'First Semester'}];setInstructors(mockInstructors);setRooms(mockRooms);setTodaysSchedule(mockTodaysSchedule);}finally{setLoading(false);}};// Analyze current and upcoming classes\nuseEffect(()=>{if(todaysSchedule.length>0){const now=new Date();const currentTimeStr=now.toTimeString().slice(0,8);// HH:MM:SS format\nconsole.log('Current time string:',currentTimeStr);console.log('Today\\'s schedules:',todaysSchedule);// Find current ongoing class\nconst ongoing=todaysSchedule.find(schedule=>{const startTime=schedule.STARTTIME;const endTime=schedule.ENDTIME;const isOngoing=currentTimeStr>=startTime&&currentTimeStr<=endTime;console.log(\"Checking schedule \".concat((schedule===null||schedule===void 0?void 0:schedule.subject_code)||'Unknown',\": \").concat(startTime,\"-\").concat(endTime,\", isOngoing: \").concat(isOngoing));console.log('Schedule object:',schedule);return isOngoing;});console.log('Current ongoing class:',ongoing);setCurrentOngoingClass(ongoing||null);// Find upcoming classes (next 3 classes after current time)\nconst upcoming=todaysSchedule.filter(schedule=>schedule.STARTTIME>currentTimeStr).sort((a,b)=>a.STARTTIME.localeCompare(b.STARTTIME)).slice(0,3);console.log('Upcoming classes:',upcoming);setUpcomingClasses(upcoming);}},[todaysSchedule,currentTime]);const formatTime=timeString=>{if(!timeString)return'';const date=new Date(timeString);return date.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});};const formatScheduleTime=time=>{if(!time)return'';const[hours,minutes]=time.split(':');const hour=parseInt(hours);const ampm=hour>=12?'PM':'AM';const displayHour=hour%12||12;return\"\".concat(displayHour,\":\").concat(minutes,\" \").concat(ampm);};const formatCurrentTime=()=>{return currentTime.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:true});};const formatCurrentDate=()=>{return currentTime.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});};const getClassStatus=schedule=>{const now=new Date();const currentTimeStr=now.toTimeString().slice(0,8);const startTime=schedule.STARTTIME;const endTime=schedule.ENDTIME;if(currentTimeStr>=startTime&&currentTimeStr<=endTime){return{status:'ongoing',color:'text-green-600',bgColor:'bg-green-100'};}else if(currentTimeStr<startTime){return{status:'upcoming',color:'text-blue-600',bgColor:'bg-blue-100'};}else{return{status:'ended',color:'text-gray-600',bgColor:'bg-gray-100'};}};const getTimeUntilClass=schedule=>{const now=new Date();const today=now.toISOString().split('T')[0];const classStart=new Date(\"\".concat(today,\"T\").concat(schedule.STARTTIME));const diffMs=classStart.getTime()-now.getTime();if(diffMs<=0)return null;const hours=Math.floor(diffMs/(1000*60*60));const minutes=Math.floor(diffMs%(1000*60*60)/(1000*60));if(hours>0){return\"\".concat(hours,\"h \").concat(minutes,\"m\");}else{return\"\".concat(minutes,\"m\");}};const getSessionDuration=(startTime,endTime)=>{if(!startTime)return'';const start=new Date(startTime);const end=endTime?new Date(endTime):new Date();// Check if start time is valid and not too far in the past\nconst now=new Date();const maxReasonableDuration=24*60*60*1000;// 24 hours in milliseconds\nif(start.getTime()<now.getTime()-maxReasonableDuration){return'Invalid start time';}const duration=Math.floor((end-start)/(1000*60));// minutes\nconst hours=Math.floor(duration/60);const mins=duration%60;// Cap duration display at 24 hours\nif(hours>24){return'24h+';}return hours>0?\"\".concat(hours,\"h \").concat(mins,\"m\"):\"\".concat(mins,\"m\");};const groupSchedulesByDay=schedules=>{const dayOrder=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];const grouped={};schedules.forEach(schedule=>{const day=schedule.DAYOFWEEK;if(!grouped[day]){grouped[day]=[];}grouped[day].push(schedule);});// Sort schedules within each day by start time\nObject.keys(grouped).forEach(day=>{grouped[day].sort((a,b)=>a.STARTTIME.localeCompare(b.STARTTIME));});// Return as array sorted by day order\nreturn dayOrder.map(day=>({day,schedules:grouped[day]||[]})).filter(dayGroup=>dayGroup.schedules.length>0);};const getUniqueDays=()=>{const days=[...new Set(allSchedules.map(schedule=>schedule.DAYOFWEEK).filter(day=>day))];return['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'].filter(day=>days.includes(day));};const getUniqueRooms=()=>{if(!allSchedules||allSchedules.length===0){return[];}const rooms=[...new Map(allSchedules.map(schedule=>{console.log('Processing schedule for room:',schedule);return[schedule.ROOMID,{id:schedule.ROOMID,number:schedule.room_number||schedule.ROOMNUMBER||'Unknown',name:schedule.room_name||schedule.ROOMNAME||'Unknown Room',building:schedule.BUILDING||'Unknown Building'}];})).values()];console.log('Unique rooms before sort:',rooms);return rooms.sort((a,b)=>{const aNum=a.number||'Unknown';const bNum=b.number||'Unknown';return aNum.localeCompare(bNum);});};const getFilteredSchedules=()=>{let filtered=allSchedules;// Filter by day\nif(selectedDay){filtered=filtered.filter(schedule=>schedule.DAYOFWEEK===selectedDay);}// Filter by room\nif(selectedRoomFilter){filtered=filtered.filter(schedule=>schedule.ROOMID===selectedRoomFilter);}return filtered;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Session Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor and manage class sessions\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-8 w-8 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-blue-900\",children:formatCurrentTime()}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg text-blue-700\",children:formatCurrentDate()})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-blue-700\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"h-6 w-6\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-semibold\",children:[todaysSchedule.length,\" classes scheduled today\"]})]})})]})}),currentOngoingClass&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(PlayIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-900\",children:\"Class in Progress\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-700\",children:\"Session is currently active\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-green-900\",children:[currentOngoingClass.SUBJECTCODE,\" - \",currentOngoingClass.SUBJECTNAME]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-700\",children:[currentOngoingClass.instructor_name,\" \\u2022 \",currentOngoingClass.ROOMNUMBER]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-600\",children:[formatScheduleTime(currentOngoingClass.STARTTIME),\" - \",formatScheduleTime(currentOngoingClass.ENDTIME)]})]})]})}),upcomingClasses.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-6 w-6 text-blue-600\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Upcoming Classes Today\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:upcomingClasses.map((schedule,index)=>{const timeUntil=getTimeUntilClass(schedule);return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold text-blue-600\",children:index+1})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:schedule.SUBJECTCODE}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:schedule.SUBJECTNAME})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-600\",children:formatScheduleTime(schedule.STARTTIME)}),timeUntil&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"in \",timeUntil]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:schedule.instructor_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[schedule.ROOMNUMBER,\" - \",schedule.ROOMNAME]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[formatScheduleTime(schedule.STARTTIME),\" - \",formatScheduleTime(schedule.ENDTIME)]})]})]})]},schedule.SCHEDULEID);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Current Active Sessions\"}),sessions.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No active sessions for today\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sessions.map(session=>{console.log('Session data:',session);return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 px-3 py-1 rounded-full text-sm \".concat(session.status==='active'?'bg-green-100 text-green-800':session.status==='waiting'?'bg-yellow-100 text-yellow-800':session.status==='ended'?'bg-red-100 text-red-800':'bg-gray-100 text-gray-800'),children:[session.status==='active'?/*#__PURE__*/_jsx(PlayIcon,{className:\"h-4 w-4\"}):session.status==='waiting'?/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(StopIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:session.status})]}),session.door_unlocked_at&&!session.door_locked_at&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs\",children:[/*#__PURE__*/_jsx(LockOpenIcon,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Door Unlocked\"})]}),session.door_locked_at&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs\",children:[/*#__PURE__*/_jsx(LockClosedIcon,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Door Locked\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Duration: \",getSessionDuration(session.start_time,session.end_time)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:session.course_code||session.SUBJECTCODE}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:session.course_name||session.SUBJECTNAME})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:session.instructor_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Instructor\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:session.room_number}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:session.room_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-900\",children:[formatTime(session.start_time),session.end_time&&\" - \".concat(formatTime(session.end_time))]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[session.attendance_count||0,\" students present\"]})]})]})]},session.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Weekly Schedule\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Day Filter\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDay,onChange:e=>setSelectedDay(e.target.value),className:\"border border-gray-300 rounded-md px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Days\"}),allSchedules.length>0&&getUniqueDays().map(day=>/*#__PURE__*/_jsx(\"option\",{value:day,children:day},day))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Room Filter\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedRoomFilter,onChange:e=>setSelectedRoomFilter(e.target.value),className:\"border border-gray-300 rounded-md px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Rooms\"}),allSchedules.length>0&&getUniqueRooms().map(room=>/*#__PURE__*/_jsxs(\"option\",{value:room.id,children:[room.number,\" - \",room.name]},room.id))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedDay('');setSelectedRoomFilter('');},className:\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 underline\",children:\"Clear Filters\"})})]})]}),allSchedules.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No schedules found\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:(()=>{const filteredSchedules=getFilteredSchedules();const dayGroups=groupSchedulesByDay(filteredSchedules);if(dayGroups.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No schedules found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Try adjusting your filters to see more results.\"})]});}return dayGroups.map(dayGroup=>{const currentDay=new Date().toLocaleDateString('en-US',{weekday:'long'});const isToday=dayGroup.day===currentDay;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 \".concat(isToday?'bg-blue-50 border-b border-blue-200':'bg-gray-50 border-b border-gray-200'),children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold \".concat(isToday?'text-blue-900':'text-gray-900'),children:[dayGroup.day,isToday&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-normal text-blue-600\",children:\"(Today)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm font-normal text-gray-500\",children:[\"(\",dayGroup.schedules.length,\" classes)\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:dayGroup.schedules.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"No classes scheduled\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:dayGroup.schedules.map(schedule=>{const classStatus=getClassStatus(schedule);const timeUntil=getTimeUntilClass(schedule);const isToday=dayGroup.day===new Date().toLocaleDateString('en-US',{weekday:'long'});return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 rounded-lg border-2 \".concat(isToday?classStatus.bgColor:'bg-gray-50',\" \").concat(isToday?'border-gray-300':'border-gray-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-900\",children:[schedule.SUBJECTCODE,\" - \",schedule.SUBJECTNAME]}),isToday&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium \".concat(classStatus.bgColor,\" \").concat(classStatus.color),children:[classStatus.status==='ongoing'&&/*#__PURE__*/_jsx(PlayIcon,{className:\"h-3 w-3 mr-1\"}),classStatus.status==='upcoming'&&/*#__PURE__*/_jsx(ClockIcon,{className:\"h-3 w-3 mr-1\"}),classStatus.status==='ended'&&/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-3 w-3 mr-1\"}),classStatus.status]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-4 w-4 inline mr-1\"}),schedule.instructor_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-4 w-4 inline mr-1\"}),schedule.ROOMNUMBER,\" - \",schedule.ROOMNAME,\" (\",schedule.BUILDING,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[schedule.ACADEMICYEAR,\" \\u2022 \",schedule.SEMESTER]}),isToday&&timeUntil&&classStatus.status==='upcoming'&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-600 font-medium\",children:[\"Starts in \",timeUntil]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right ml-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-900\",children:[formatScheduleTime(schedule.STARTTIME),\" - \",formatScheduleTime(schedule.ENDTIME)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Class Duration\"}),isToday&&classStatus.status==='ongoing'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600 font-medium\",children:\"Currently Active\"})]})]},schedule.SCHEDULEID);})})})]},dayGroup.day);});})()})]})]});}export default Sessions;","map":{"version":3,"names":["React","useState","useEffect","PlayIcon","StopIcon","CheckCircleIcon","XCircleIcon","ExclamationTriangleIcon","LockClosedIcon","LockOpenIcon","ClockIcon","CalendarDaysIcon","UserGroupIcon","MapPinIcon","AcademicCapIcon","SunIcon","MoonIcon","axios","toast","jsx","_jsx","jsxs","_jsxs","Sessions","sessions","setSessions","allSchedules","setAllSchedules","todaysSchedule","setTodaysSchedule","instructors","setInstructors","rooms","setRooms","loading","setLoading","currentTime","setCurrentTime","Date","upcomingClasses","setUpcomingClasses","currentOngoingClass","setCurrentOngoingClass","selectedDay","setSelectedDay","selectedRoomFilter","setSelectedRoomFilter","fetchData","interval","setInterval","timeInterval","clearInterval","_unifiedData$schedule","_unifiedData$subjects","_unifiedData$rooms","token","localStorage","getItem","headers","Authorization","concat","unifiedResponse","get","unifiedData","data","console","log","allSchedulesData","schedules","Object","keys","currentDay","toLocaleDateString","weekday","todaysSchedules","filter","schedule","DAYOFWEEK","instructorsData","subjects","roomsData","uniqueInstructors","Map","map","item","_item$instructor_name","_item$instructor_name2","INSTRUCTORID","USERID","FIRSTNAME","instructor_name","split","LASTNAME","slice","join","EMPLOYEEID","values","uniqueRooms","room","ROOMID","ROOMNUMBER","ROOMNAME","BUILDING","DOORSTATUS","now","currentTimeStr","toTimeString","currentDate","toISOString","virtualSessions","startTime","STARTTIME","endTime","ENDTIME","id","SCHEDULEID","session_date","start_time","end_time","status","door_unlocked_at","door_locked_at","course_code","SUBJECTCODE","course_name","SUBJECTNAME","room_number","room_name","attendance_count","error","_error$response","_error$response2","_error$response3","_error$response3$data","response","message","mockInstructors","mockRooms","mockTodaysSchedule","SUBJECTID","ACADEMICYEAR","SEMESTER","length","ongoing","find","isOngoing","subject_code","upcoming","sort","a","b","localeCompare","formatTime","timeString","date","toLocaleTimeString","hour","minute","hour12","formatScheduleTime","time","hours","minutes","parseInt","ampm","displayHour","formatCurrentTime","second","formatCurrentDate","year","month","day","getClassStatus","color","bgColor","getTimeUntilClass","today","classStart","diffMs","getTime","Math","floor","getSessionDuration","start","end","maxReasonableDuration","duration","mins","groupSchedulesByDay","dayOrder","grouped","forEach","push","dayGroup","getUniqueDays","days","Set","includes","getUniqueRooms","number","name","building","aNum","bNum","getFilteredSchedules","filtered","className","children","index","timeUntil","session","value","onChange","e","target","onClick","filteredSchedules","dayGroups","isToday","classStatus"],"sources":["C:/Users/Harley/Desktop/Capstone/attendanceiot/IOTCapstone/frontend/src/pages/Sessions.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  PlayIcon, \n  StopIcon, \n  CheckCircleIcon,\n  XCircleIcon,\n  ExclamationTriangleIcon,\n  LockClosedIcon,\n  LockOpenIcon,\n  ClockIcon,\n  CalendarDaysIcon,\n  UserGroupIcon,\n  MapPinIcon,\n  AcademicCapIcon,\n  SunIcon,\n  MoonIcon\n} from '@heroicons/react/24/outline';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nfunction Sessions() {\n  const [sessions, setSessions] = useState([]);\n  const [allSchedules, setAllSchedules] = useState([]);\n  const [todaysSchedule, setTodaysSchedule] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [upcomingClasses, setUpcomingClasses] = useState([]);\n  const [currentOngoingClass, setCurrentOngoingClass] = useState(null);\n  const [selectedDay, setSelectedDay] = useState('');\n  const [selectedRoomFilter, setSelectedRoomFilter] = useState('');\n\n  useEffect(() => {\n    fetchData();\n    // Set up real-time updates\n    const interval = setInterval(fetchData, 30000); // Update every 30 seconds\n    // Update current time every second\n    const timeInterval = setInterval(() => setCurrentTime(new Date()), 1000);\n    return () => {\n      clearInterval(interval);\n      clearInterval(timeInterval);\n    };\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const headers = { Authorization: `Bearer ${token}` };\n\n      // Use the same unified data endpoint as the management page\n      const unifiedResponse = await axios.get('http://localhost:5000/api/unified/data', { headers });\n      const unifiedData = unifiedResponse.data;\n      \n      console.log('Unified data response:', unifiedData);\n\n      // Extract data from unified response\n      const allSchedulesData = unifiedData.schedules?.data || [];\n      console.log('All schedules data:', allSchedulesData);\n      console.log('Sample schedule data:', allSchedulesData[0]);\n      console.log('Sample schedule keys:', allSchedulesData[0] ? Object.keys(allSchedulesData[0]) : 'No data');\n      setAllSchedules(allSchedulesData);\n\n      // Filter today's schedules\n      const currentDay = new Date().toLocaleDateString('en-US', { weekday: 'long' });\n      const todaysSchedules = allSchedulesData.filter(schedule => schedule.DAYOFWEEK === currentDay);\n      setTodaysSchedule(todaysSchedules);\n\n      // Get instructors and rooms from unified data\n      const instructorsData = unifiedData.subjects?.data || [];\n      const roomsData = unifiedData.rooms?.data || [];\n      \n      // Extract unique instructors\n      const uniqueInstructors = [...new Map(instructorsData.map(item => [item.INSTRUCTORID, {\n        USERID: item.INSTRUCTORID,\n        FIRSTNAME: item.instructor_name?.split(' ')[0] || '',\n        LASTNAME: item.instructor_name?.split(' ').slice(1).join(' ') || '',\n        EMPLOYEEID: item.INSTRUCTORID\n      }])).values()];\n      setInstructors(uniqueInstructors);\n\n      // Extract unique rooms\n      const uniqueRooms = roomsData.map(room => ({\n        ROOMID: room.ROOMID,\n        ROOMNUMBER: room.ROOMNUMBER,\n        ROOMNAME: room.ROOMNAME,\n        BUILDING: room.BUILDING,\n        DOORSTATUS: 'locked'\n      }));\n      setRooms(uniqueRooms);\n\n      // Create virtual active sessions based on today's schedule\n      const now = new Date();\n      const currentTimeStr = now.toTimeString().slice(0, 8); // HH:MM:SS format\n      const currentDate = now.toISOString().split('T')[0]; // YYYY-MM-DD format\n      \n      const virtualSessions = todaysSchedules\n        .filter(schedule => {\n          const startTime = schedule.STARTTIME;\n          const endTime = schedule.ENDTIME;\n          return currentTimeStr >= startTime && currentTimeStr <= endTime;\n        })\n        .map(schedule => ({\n          id: schedule.SCHEDULEID,\n          session_date: currentDate,\n          start_time: `${currentDate}T${schedule.STARTTIME}`,\n          end_time: null,\n          status: 'active',\n          door_unlocked_at: `${currentDate}T${schedule.STARTTIME}`,\n          door_locked_at: null,\n          instructor_name: schedule.instructor_name,\n          course_code: schedule.SUBJECTCODE,\n          course_name: schedule.SUBJECTNAME,\n          room_number: schedule.ROOMNUMBER,\n          room_name: schedule.ROOMNAME,\n          attendance_count: 0\n        }));\n      \n      console.log('Virtual active sessions:', virtualSessions);\n      setSessions(virtualSessions);\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      console.error('Error response:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      toast.error(`Failed to load session data: ${error.response?.data?.message || error.message}`);\n      \n      // Fallback to mock data if API fails\n      const mockInstructors = [\n        { USERID: '1', FIRSTNAME: 'John', LASTNAME: 'Smith', EMPLOYEEID: 'EMP001' },\n        { USERID: '2', FIRSTNAME: 'Jane', LASTNAME: 'Doe', EMPLOYEEID: 'EMP002' },\n        { USERID: '3', FIRSTNAME: 'Bob', LASTNAME: 'Johnson', EMPLOYEEID: 'EMP003' }\n      ];\n\n      const mockRooms = [\n        { ROOMID: '1', ROOMNUMBER: 'A101', ROOMNAME: 'Computer Lab 1', BUILDING: 'Main Building', DOORSTATUS: 'locked' },\n        { ROOMID: '2', ROOMNUMBER: 'B201', ROOMNAME: 'Mathematics Room', BUILDING: 'Academic Building', DOORSTATUS: 'locked' },\n        { ROOMID: '3', ROOMNUMBER: 'C301', ROOMNAME: 'English Classroom', BUILDING: 'Liberal Arts Building', DOORSTATUS: 'locked' }\n      ];\n\n      const currentDay = new Date().toLocaleDateString('en-US', { weekday: 'long' });\n      const mockTodaysSchedule = [\n        {\n          SCHEDULEID: '1',\n          SUBJECTID: '1',\n          SUBJECTCODE: 'CS101',\n          SUBJECTNAME: 'Introduction to Computer Science',\n          INSTRUCTORID: '1',\n          instructor_name: 'John Smith',\n          ROOMID: '1',\n          ROOMNUMBER: 'A101',\n          ROOMNAME: 'Computer Lab 1',\n          DAYOFWEEK: currentDay,\n          STARTTIME: '08:00:00',\n          ENDTIME: '10:00:00',\n          ACADEMICYEAR: '2024-2025',\n          SEMESTER: 'First Semester'\n        }\n      ];\n\n      setInstructors(mockInstructors);\n      setRooms(mockRooms);\n      setTodaysSchedule(mockTodaysSchedule);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Analyze current and upcoming classes\n  useEffect(() => {\n    if (todaysSchedule.length > 0) {\n      const now = new Date();\n      const currentTimeStr = now.toTimeString().slice(0, 8); // HH:MM:SS format\n      \n      console.log('Current time string:', currentTimeStr);\n      console.log('Today\\'s schedules:', todaysSchedule);\n      \n      // Find current ongoing class\n      const ongoing = todaysSchedule.find(schedule => {\n        const startTime = schedule.STARTTIME;\n        const endTime = schedule.ENDTIME;\n        const isOngoing = currentTimeStr >= startTime && currentTimeStr <= endTime;\n        console.log(`Checking schedule ${schedule?.subject_code || 'Unknown'}: ${startTime}-${endTime}, isOngoing: ${isOngoing}`);\n        console.log('Schedule object:', schedule);\n        return isOngoing;\n      });\n      \n      console.log('Current ongoing class:', ongoing);\n      setCurrentOngoingClass(ongoing || null);\n      \n      // Find upcoming classes (next 3 classes after current time)\n      const upcoming = todaysSchedule\n        .filter(schedule => schedule.STARTTIME > currentTimeStr)\n        .sort((a, b) => a.STARTTIME.localeCompare(b.STARTTIME))\n        .slice(0, 3);\n      \n      console.log('Upcoming classes:', upcoming);\n      setUpcomingClasses(upcoming);\n    }\n  }, [todaysSchedule, currentTime]);\n\n\n  const formatTime = (timeString) => {\n    if (!timeString) return '';\n    const date = new Date(timeString);\n    return date.toLocaleTimeString('en-US', { \n      hour: '2-digit', \n      minute: '2-digit',\n      hour12: true \n    });\n  };\n\n  const formatScheduleTime = (time) => {\n    if (!time) return '';\n    const [hours, minutes] = time.split(':');\n    const hour = parseInt(hours);\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const displayHour = hour % 12 || 12;\n    return `${displayHour}:${minutes} ${ampm}`;\n  };\n\n  const formatCurrentTime = () => {\n    return currentTime.toLocaleTimeString('en-US', { \n      hour: '2-digit', \n      minute: '2-digit',\n      second: '2-digit',\n      hour12: true \n    });\n  };\n\n  const formatCurrentDate = () => {\n    return currentTime.toLocaleDateString('en-US', { \n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const getClassStatus = (schedule) => {\n    const now = new Date();\n    const currentTimeStr = now.toTimeString().slice(0, 8);\n    const startTime = schedule.STARTTIME;\n    const endTime = schedule.ENDTIME;\n    \n    if (currentTimeStr >= startTime && currentTimeStr <= endTime) {\n      return { status: 'ongoing', color: 'text-green-600', bgColor: 'bg-green-100' };\n    } else if (currentTimeStr < startTime) {\n      return { status: 'upcoming', color: 'text-blue-600', bgColor: 'bg-blue-100' };\n    } else {\n      return { status: 'ended', color: 'text-gray-600', bgColor: 'bg-gray-100' };\n    }\n  };\n\n  const getTimeUntilClass = (schedule) => {\n    const now = new Date();\n    const today = now.toISOString().split('T')[0];\n    const classStart = new Date(`${today}T${schedule.STARTTIME}`);\n    const diffMs = classStart.getTime() - now.getTime();\n    \n    if (diffMs <= 0) return null;\n    \n    const hours = Math.floor(diffMs / (1000 * 60 * 60));\n    const minutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (hours > 0) {\n      return `${hours}h ${minutes}m`;\n    } else {\n      return `${minutes}m`;\n    }\n  };\n\n  const getSessionDuration = (startTime, endTime) => {\n    if (!startTime) return '';\n    const start = new Date(startTime);\n    const end = endTime ? new Date(endTime) : new Date();\n    \n    // Check if start time is valid and not too far in the past\n    const now = new Date();\n    const maxReasonableDuration = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n    \n    if (start.getTime() < now.getTime() - maxReasonableDuration) {\n      return 'Invalid start time';\n    }\n    \n    const duration = Math.floor((end - start) / (1000 * 60)); // minutes\n    const hours = Math.floor(duration / 60);\n    const mins = duration % 60;\n    \n    // Cap duration display at 24 hours\n    if (hours > 24) {\n      return '24h+';\n    }\n    \n    return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;\n  };\n\n  const groupSchedulesByDay = (schedules) => {\n    const dayOrder = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const grouped = {};\n    \n    schedules.forEach(schedule => {\n      const day = schedule.DAYOFWEEK;\n      if (!grouped[day]) {\n        grouped[day] = [];\n      }\n      grouped[day].push(schedule);\n    });\n\n    // Sort schedules within each day by start time\n    Object.keys(grouped).forEach(day => {\n      grouped[day].sort((a, b) => a.STARTTIME.localeCompare(b.STARTTIME));\n    });\n\n    // Return as array sorted by day order\n    return dayOrder.map(day => ({\n      day,\n      schedules: grouped[day] || []\n    })).filter(dayGroup => dayGroup.schedules.length > 0);\n  };\n\n  const getUniqueDays = () => {\n    const days = [...new Set(allSchedules.map(schedule => schedule.DAYOFWEEK).filter(day => day))];\n    return ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].filter(day => days.includes(day));\n  };\n\n  const getUniqueRooms = () => {\n    if (!allSchedules || allSchedules.length === 0) {\n      return [];\n    }\n    \n    const rooms = [...new Map(allSchedules.map(schedule => {\n      console.log('Processing schedule for room:', schedule);\n      return [\n        schedule.ROOMID, \n        { \n          id: schedule.ROOMID, \n          number: schedule.room_number || schedule.ROOMNUMBER || 'Unknown', \n          name: schedule.room_name || schedule.ROOMNAME || 'Unknown Room', \n          building: schedule.BUILDING || 'Unknown Building' \n        }\n      ];\n    })).values()];\n    \n    console.log('Unique rooms before sort:', rooms);\n    \n    return rooms.sort((a, b) => {\n      const aNum = a.number || 'Unknown';\n      const bNum = b.number || 'Unknown';\n      return aNum.localeCompare(bNum);\n    });\n  };\n\n  const getFilteredSchedules = () => {\n    let filtered = allSchedules;\n    \n    // Filter by day\n    if (selectedDay) {\n      filtered = filtered.filter(schedule => schedule.DAYOFWEEK === selectedDay);\n    }\n    \n    // Filter by room\n    if (selectedRoomFilter) {\n      filtered = filtered.filter(schedule => schedule.ROOMID === selectedRoomFilter);\n    }\n    \n    return filtered;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Session Management</h1>\n          <p className=\"text-gray-600\">Monitor and manage class sessions</p>\n        </div>\n      </div>\n\n      {/* Current Time and Date Display */}\n      <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <ClockIcon className=\"h-8 w-8 text-blue-600\" />\n              <div>\n                <div className=\"text-3xl font-bold text-blue-900\">{formatCurrentTime()}</div>\n                <div className=\"text-lg text-blue-700\">{formatCurrentDate()}</div>\n              </div>\n            </div>\n          </div>\n          <div className=\"text-right\">\n            <div className=\"flex items-center space-x-2 text-blue-700\">\n              <CalendarDaysIcon className=\"h-6 w-6\" />\n              <span className=\"text-lg font-semibold\">\n                {todaysSchedule.length} classes scheduled today\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Current Ongoing Class */}\n      {currentOngoingClass && (\n        <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\">\n                  <PlayIcon className=\"h-6 w-6 text-green-600\" />\n                </div>\n                <div>\n                  <div className=\"text-lg font-bold text-green-900\">Class in Progress</div>\n                  <div className=\"text-sm text-green-700\">Session is currently active</div>\n                </div>\n              </div>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-2xl font-bold text-green-900\">\n                {currentOngoingClass.SUBJECTCODE} - {currentOngoingClass.SUBJECTNAME}\n              </div>\n              <div className=\"text-sm text-green-700\">\n                {currentOngoingClass.instructor_name} â€¢ {currentOngoingClass.ROOMNUMBER}\n              </div>\n              <div className=\"text-sm text-green-600\">\n                {formatScheduleTime(currentOngoingClass.STARTTIME)} - {formatScheduleTime(currentOngoingClass.ENDTIME)}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Upcoming Classes */}\n      {upcomingClasses.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center space-x-2 mb-4\">\n            <ClockIcon className=\"h-6 w-6 text-blue-600\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">Upcoming Classes Today</h2>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {upcomingClasses.map((schedule, index) => {\n              const timeUntil = getTimeUntilClass(schedule);\n              return (\n                <div key={schedule.SCHEDULEID} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <div className=\"flex items-center space-x-2\">\n                      <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                        <span className=\"text-sm font-bold text-blue-600\">{index + 1}</span>\n                      </div>\n                      <div>\n                        <div className=\"font-semibold text-gray-900\">{schedule.SUBJECTCODE}</div>\n                        <div className=\"text-sm text-gray-600\">{schedule.SUBJECTNAME}</div>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"text-lg font-bold text-blue-600\">\n                        {formatScheduleTime(schedule.STARTTIME)}\n                      </div>\n                      {timeUntil && (\n                        <div className=\"text-xs text-gray-500\">in {timeUntil}</div>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <AcademicCapIcon className=\"h-4 w-4\" />\n                      <span>{schedule.instructor_name}</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <MapPinIcon className=\"h-4 w-4\" />\n                      <span>{schedule.ROOMNUMBER} - {schedule.ROOMNAME}</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <ClockIcon className=\"h-4 w-4\" />\n                      <span>{formatScheduleTime(schedule.STARTTIME)} - {formatScheduleTime(schedule.ENDTIME)}</span>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n\n      {/* Active Sessions - Moved to Top */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Current Active Sessions</h2>\n        \n        {sessions.length === 0 ? (\n          <p className=\"text-gray-500\">No active sessions for today</p>\n        ) : (\n          <div className=\"space-y-4\">\n            {sessions.map((session) => {\n              console.log('Session data:', session);\n              return (\n              <div key={session.id} className=\"border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`flex items-center space-x-2 px-3 py-1 rounded-full text-sm ${\n                      session.status === 'active' \n                        ? 'bg-green-100 text-green-800' \n                        : session.status === 'waiting'\n                        ? 'bg-yellow-100 text-yellow-800'\n                        : session.status === 'ended'\n                        ? 'bg-red-100 text-red-800'\n                        : 'bg-gray-100 text-gray-800'\n                    }`}>\n                      {session.status === 'active' ? (\n                        <PlayIcon className=\"h-4 w-4\" />\n                      ) : session.status === 'waiting' ? (\n                        <ExclamationTriangleIcon className=\"h-4 w-4\" />\n                      ) : (\n                        <StopIcon className=\"h-4 w-4\" />\n                      )}\n                      <span className=\"capitalize\">{session.status}</span>\n                    </div>\n                    \n                    {session.door_unlocked_at && !session.door_locked_at && (\n                      <div className=\"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs\">\n                        <LockOpenIcon className=\"h-3 w-3\" />\n                        <span>Door Unlocked</span>\n                      </div>\n                    )}\n                    \n                    {session.door_locked_at && (\n                      <div className=\"flex items-center space-x-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs\">\n                        <LockClosedIcon className=\"h-3 w-3\" />\n                        <span>Door Locked</span>\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"text-sm text-gray-500\">\n                    Duration: {getSessionDuration(session.start_time, session.end_time)}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{session.course_code || session.SUBJECTCODE}</p>\n                    <p className=\"text-xs text-gray-600\">{session.course_name || session.SUBJECTNAME}</p>\n                  </div>\n                  \n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{session.instructor_name}</p>\n                    <p className=\"text-xs text-gray-600\">Instructor</p>\n                  </div>\n                  \n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{session.room_number}</p>\n                    <p className=\"text-xs text-gray-600\">{session.room_name}</p>\n                  </div>\n                  \n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">\n                      {formatTime(session.start_time)}\n                      {session.end_time && ` - ${formatTime(session.end_time)}`}\n                    </p>\n                    <p className=\"text-xs text-gray-600\">\n                      {session.attendance_count || 0} students present\n                    </p>\n                  </div>\n                </div>\n              </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Weekly Schedule */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">Weekly Schedule</h2>\n          \n          {/* Filters */}\n          <div className=\"flex space-x-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Day Filter</label>\n              <select\n                value={selectedDay}\n                onChange={(e) => setSelectedDay(e.target.value)}\n                className=\"border border-gray-300 rounded-md px-3 py-2 text-sm\"\n              >\n                <option value=\"\">All Days</option>\n                {allSchedules.length > 0 && getUniqueDays().map(day => (\n                  <option key={day} value={day}>{day}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Room Filter</label>\n              <select\n                value={selectedRoomFilter}\n                onChange={(e) => setSelectedRoomFilter(e.target.value)}\n                className=\"border border-gray-300 rounded-md px-3 py-2 text-sm\"\n              >\n                <option value=\"\">All Rooms</option>\n                {allSchedules.length > 0 && getUniqueRooms().map(room => (\n                  <option key={room.id} value={room.id}>\n                    {room.number} - {room.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"flex items-end\">\n              <button\n                onClick={() => {\n                  setSelectedDay('');\n                  setSelectedRoomFilter('');\n                }}\n                className=\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 underline\"\n              >\n                Clear Filters\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        {allSchedules.length === 0 ? (\n          <p className=\"text-gray-500\">No schedules found</p>\n        ) : (\n          <div className=\"space-y-6\">\n            {(() => {\n              const filteredSchedules = getFilteredSchedules();\n              const dayGroups = groupSchedulesByDay(filteredSchedules);\n              \n              if (dayGroups.length === 0) {\n                return (\n                  <div className=\"text-center py-8\">\n                    <CalendarDaysIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                    <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No schedules found</h3>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      Try adjusting your filters to see more results.\n                    </p>\n                  </div>\n                );\n              }\n              \n              return dayGroups.map((dayGroup) => {\n                const currentDay = new Date().toLocaleDateString('en-US', { weekday: 'long' });\n                const isToday = dayGroup.day === currentDay;\n                \n                return (\n                  <div key={dayGroup.day} className=\"border border-gray-200 rounded-lg overflow-hidden\">\n                    <div className={`px-4 py-3 ${isToday ? 'bg-blue-50 border-b border-blue-200' : 'bg-gray-50 border-b border-gray-200'}`}>\n                      <h3 className={`text-lg font-semibold ${isToday ? 'text-blue-900' : 'text-gray-900'}`}>\n                        {dayGroup.day}\n                        {isToday && <span className=\"ml-2 text-sm font-normal text-blue-600\">(Today)</span>}\n                        <span className=\"ml-2 text-sm font-normal text-gray-500\">({dayGroup.schedules.length} classes)</span>\n                      </h3>\n                    </div>\n                    <div className=\"p-4\">\n                      {dayGroup.schedules.length === 0 ? (\n                        <p className=\"text-gray-500 text-sm\">No classes scheduled</p>\n                      ) : (\n                        <div className=\"space-y-3\">\n                          {dayGroup.schedules.map((schedule) => {\n                            const classStatus = getClassStatus(schedule);\n                            const timeUntil = getTimeUntilClass(schedule);\n                            const isToday = dayGroup.day === new Date().toLocaleDateString('en-US', { weekday: 'long' });\n                            \n                            return (\n                              <div key={schedule.SCHEDULEID} className={`flex items-center justify-between p-3 rounded-lg border-2 ${\n                                isToday ? classStatus.bgColor : 'bg-gray-50'\n                              } ${isToday ? 'border-gray-300' : 'border-gray-200'}`}>\n                                <div className=\"flex-1\">\n                                  <div className=\"flex items-center space-x-2 mb-1\">\n                                    <h4 className=\"font-medium text-gray-900\">{schedule.SUBJECTCODE} - {schedule.SUBJECTNAME}</h4>\n                                    {isToday && (\n                                      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${classStatus.bgColor} ${classStatus.color}`}>\n                                        {classStatus.status === 'ongoing' && <PlayIcon className=\"h-3 w-3 mr-1\" />}\n                                        {classStatus.status === 'upcoming' && <ClockIcon className=\"h-3 w-3 mr-1\" />}\n                                        {classStatus.status === 'ended' && <CheckCircleIcon className=\"h-3 w-3 mr-1\" />}\n                                        {classStatus.status}\n                                      </span>\n                                    )}\n                                  </div>\n                                  <p className=\"text-sm text-gray-600\">\n                                    <AcademicCapIcon className=\"h-4 w-4 inline mr-1\" />\n                                    {schedule.instructor_name}\n                                  </p>\n                                  <p className=\"text-sm text-gray-600\">\n                                    <MapPinIcon className=\"h-4 w-4 inline mr-1\" />\n                                    {schedule.ROOMNUMBER} - {schedule.ROOMNAME} ({schedule.BUILDING})\n                                  </p>\n                                  <p className=\"text-xs text-gray-500\">{schedule.ACADEMICYEAR} â€¢ {schedule.SEMESTER}</p>\n                                  {isToday && timeUntil && classStatus.status === 'upcoming' && (\n                                    <p className=\"text-xs text-blue-600 font-medium\">\n                                      Starts in {timeUntil}\n                                    </p>\n                                  )}\n                                </div>\n                                <div className=\"text-right ml-4\">\n                                  <p className=\"text-sm font-medium text-gray-900\">\n                                    {formatScheduleTime(schedule.STARTTIME)} - {formatScheduleTime(schedule.ENDTIME)}\n                                  </p>\n                                  <p className=\"text-xs text-gray-500\">Class Duration</p>\n                                  {isToday && classStatus.status === 'ongoing' && (\n                                    <p className=\"text-xs text-green-600 font-medium\">Currently Active</p>\n                                  )}\n                                </div>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              });\n            })()}\n          </div>\n        )}\n      </div>\n\n    </div>\n  );\n}\n\nexport default Sessions; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}