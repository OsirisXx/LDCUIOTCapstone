{"ast":null,"code":"import _objectSpread from\"C:/Users/Harley/Desktop/Capstone/attendanceiot/IOTCapstone/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{PlusIcon,PencilIcon,TrashIcon,MagnifyingGlassIcon,UserIcon,AcademicCapIcon,UserGroupIcon,XMarkIcon,FingerPrintIcon,CpuChipIcon,DocumentArrowUpIcon,CreditCardIcon,CheckIcon,ExclamationTriangleIcon,EllipsisVerticalIcon,ChevronDownIcon,Squares2X2Icon,RectangleStackIcon}from'@heroicons/react/24/outline';import axios from'axios';import toast from'react-hot-toast';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Users(){var _previewData$summary,_previewData$summary2,_previewData$summary3,_uploadResults$summar,_uploadResults$summar2,_uploadResults$summar3;const{user}=useAuth();const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[showModal,setShowModal]=useState(false);const[editingUser,setEditingUser]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[filterType,setFilterType]=useState('all');const[filterStatus,setFilterStatus]=useState('all');const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[showUploadModal,setShowUploadModal]=useState(false);const[uploadFile,setUploadFile]=useState(null);const[uploading,setUploading]=useState(false);const[uploadResults,setUploadResults]=useState(null);const[previewData,setPreviewData]=useState(null);const[showPreview,setShowPreview]=useState(false);const[showFingerprintModal,setShowFingerprintModal]=useState(false);const[selectedUser,setSelectedUser]=useState(null);const[availableFingerprintIds,setAvailableFingerprintIds]=useState([]);const[selectedFingerprintId,setSelectedFingerprintId]=useState('');const[assigningFingerprint,setAssigningFingerprint]=useState(false);const[showRfidModal,setShowRfidModal]=useState(false);const[rfidScanMode,setRfidScanMode]=useState(false);const[scannedRfidData,setScannedRfidData]=useState('');const[manualRfidInput,setManualRfidInput]=useState('');const[assigningRfid,setAssigningRfid]=useState(false);// Delete confirmation modal states\nconst[showDeleteModal,setShowDeleteModal]=useState(false);const[deleteItem,setDeleteItem]=useState(null);const[isDeleting,setIsDeleting]=useState(false);const[modalAnimation,setModalAnimation]=useState('hidden');// Bulk delete states\nconst[selectedUsers,setSelectedUsers]=useState(new Set());const[selectAll,setSelectAll]=useState(false);const[showBulkDeleteModal,setShowBulkDeleteModal]=useState(false);const[isBulkDeleting,setIsBulkDeleting]=useState(false);// Delete all by type states\nconst[showDeleteAllModal,setShowDeleteAllModal]=useState(false);const[deleteAllType,setDeleteAllType]=useState('');// 'students' or 'instructors'\nconst[isDeletingAll,setIsDeletingAll]=useState(false);const[showSecondConfirmation,setShowSecondConfirmation]=useState(false);const[showBulkActions,setShowBulkActions]=useState(false);const[showMultiSelect,setShowMultiSelect]=useState(false);// Database counts for each user type\nconst[databaseCounts,setDatabaseCounts]=useState({student:0,instructor:0,admin:0});const[formData,setFormData]=useState({first_name:'',last_name:'',email:'',password:'',user_type:'student',student_id:'',faculty_id:'',year_level:'',department:'',status:'active'});useEffect(()=>{fetchUsers();fetchDatabaseCounts();},[currentPage,filterType,filterStatus,searchTerm]);// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showBulkActions&&!event.target.closest('.bulk-actions-dropdown')){setShowBulkActions(false);}};if(showBulkActions){document.addEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[showBulkActions]);const fetchUsers=async()=>{try{setLoading(true);const params=new URLSearchParams({page:currentPage,limit:20});if(filterType!=='all'){params.append('type',filterType);}if(filterStatus!=='all'){params.append('status',filterStatus);}if(searchTerm){params.append('search',searchTerm);}const response=await axios.get(\"http://localhost:5000/api/users?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setUsers(response.data.users);setTotalPages(response.data.pagination.pages);}catch(error){console.error('Error fetching users:',error);toast.error('Failed to load users');}finally{setLoading(false);}};const fetchDatabaseCounts=async()=>{try{const[studentsResponse,instructorsResponse]=await Promise.all([axios.get('http://localhost:5000/api/users/by-type/student',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}),axios.get('http://localhost:5000/api/users/by-type/instructor',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}})]);setDatabaseCounts({student:studentsResponse.data.count,instructor:instructorsResponse.data.count,admin:0// We don't need admin count for delete all functionality\n});}catch(error){console.error('Error fetching database counts:',error);// Don't show error to user as this is background functionality\n}};const handleSubmit=async e=>{e.preventDefault();try{if(editingUser){await axios.put(\"http://localhost:5000/api/users/\".concat(editingUser.USERID),formData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});toast.success('User updated successfully');}else{await axios.post('http://localhost:5000/api/users',formData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});toast.success('User created successfully');}setShowModal(false);setEditingUser(null);resetForm();fetchUsers();}catch(error){var _error$response,_error$response3;console.error('Error saving user:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===409){var _error$response2,_error$response2$data;// Handle conflict errors with more specific messages\nconst errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'User information conflicts with existing data';toast.error(errorMessage);}else if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===400){var _error$response4,_error$response4$data;// Handle validation errors\nconst errorMessage=((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Please check your input data';toast.error(errorMessage);}else{var _error$response5,_error$response5$data;toast.error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Failed to save user');}}};const handleEdit=user=>{setEditingUser(user);setFormData({first_name:user.FIRSTNAME||'',last_name:user.LASTNAME||'',email:user.EMAIL||'',password:'',user_type:user.USERTYPE||'student',student_id:user.STUDENTID||'',faculty_id:user.FACULTYID||'',year_level:user.YEARLEVEL||'',department:user.DEPARTMENT||'',status:user.STATUS||'active'});setShowModal(true);};const handleDelete=user=>{const title='Delete User';const message=\"Are you sure you want to delete \\\"\".concat(user.FIRSTNAME,\" \").concat(user.LASTNAME,\"\\\"? This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments.\");const confirmText='Delete User';setDeleteItem(_objectSpread(_objectSpread({},user),{},{title,message,confirmText}));setShowDeleteModal(true);setTimeout(()=>setModalAnimation('visible'),10);};const confirmDelete=async()=>{if(!deleteItem)return;setIsDeleting(true);try{await axios.delete(\"http://localhost:5000/api/users/\".concat(deleteItem.USERID),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});// Show enhanced success message\ntoast.success('User deleted successfully!',{duration:4000,style:{background:'#f0fdf4',border:'1px solid #bbf7d0',color:'#166534'}});// Refresh data\nawait fetchUsers();}catch(error){var _error$response6,_error$response6$data,_error$response7,_error$response7$data;console.error('Error deleting user:',error);const errorMessage=((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||'Failed to delete user';const errorDetails=(_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.details;// Show detailed error message\nif(errorDetails){toast.error(\"\".concat(errorMessage,\": \").concat(errorDetails),{duration:8000,style:{background:'#fef2f2',border:'1px solid #fecaca',color:'#dc2626'}});}else{toast.error(errorMessage);}}finally{setIsDeleting(false);setModalAnimation('hidden');setTimeout(()=>{setShowDeleteModal(false);setDeleteItem(null);},300);}};const resetForm=()=>{setFormData({first_name:'',last_name:'',email:'',password:'',user_type:'student',student_id:'',faculty_id:'',year_level:'',department:'',status:'active'});};// Bulk delete functions\nconst handleSelectUser=userId=>{const newSelectedUsers=new Set(selectedUsers);if(newSelectedUsers.has(userId)){newSelectedUsers.delete(userId);}else{newSelectedUsers.add(userId);}setSelectedUsers(newSelectedUsers);// Update select all state\nsetSelectAll(newSelectedUsers.size===users.length&&users.length>0);};const handleSelectAll=()=>{if(selectAll){setSelectedUsers(new Set());}else{const userIds=users.map(user=>user.USERID);setSelectedUsers(new Set(userIds));}setSelectAll(!selectAll);};const toggleMultiSelect=()=>{if(showMultiSelect){// Clear selections when turning off multi-select\nsetSelectedUsers(new Set());setSelectAll(false);}setShowMultiSelect(!showMultiSelect);};const handleBulkDelete=()=>{if(selectedUsers.size===0)return;setShowBulkDeleteModal(true);setTimeout(()=>setModalAnimation('visible'),10);};const confirmBulkDelete=async()=>{if(selectedUsers.size===0)return;setIsBulkDeleting(true);try{const response=await axios.delete('http://localhost:5000/api/users/bulk-delete',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))},data:{ids:Array.from(selectedUsers)}});// Show success message\ntoast.success(\"\".concat(selectedUsers.size,\" users deleted successfully!\"),{duration:4000,style:{background:'#f0fdf4',border:'1px solid #bbf7d0',color:'#166534'}});// Clear selections and refresh data\nsetSelectedUsers(new Set());setSelectAll(false);await fetchUsers();}catch(error){var _error$response8,_error$response8$data;console.error('Error bulk deleting users:',error);const errorMessage=((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.message)||'Failed to delete users';toast.error(errorMessage);}finally{setIsBulkDeleting(false);setModalAnimation('hidden');setTimeout(()=>{setShowBulkDeleteModal(false);},300);}};// Delete all by type functions\nconst handleDeleteAllByType=type=>{setDeleteAllType(type);setShowSecondConfirmation(false);setShowDeleteAllModal(true);setTimeout(()=>setModalAnimation('visible'),10);};const confirmDeleteAllFirst=()=>{setShowSecondConfirmation(true);};const confirmDeleteAllFinal=async()=>{if(!deleteAllType)return;setIsDeletingAll(true);try{// First, fetch ALL users of the specified type from the database\nconst response=await axios.get(\"http://localhost:5000/api/users/by-type/\".concat(deleteAllType),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});const allUsersOfType=response.data.users;const userIds=allUsersOfType.map(user=>user.USERID);if(userIds.length===0){toast.error(\"No \".concat(deleteAllType,\"s found in the database to delete\"));return;}// Now delete all users of this type\nconst deleteResponse=await axios.delete('http://localhost:5000/api/users/bulk-delete',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))},data:{ids:userIds}});// Show success message\ntoast.success(\"All \".concat(userIds.length,\" \").concat(deleteAllType,\"s deleted successfully from the database!\"),{duration:5000,style:{background:'#f0fdf4',border:'1px solid #bbf7d0',color:'#166534'}});// Clear selections and refresh data\nsetSelectedUsers(new Set());setSelectAll(false);await fetchUsers();await fetchDatabaseCounts();// Refresh database counts after deletion\n}catch(error){var _error$response9,_error$response9$data;console.error(\"Error deleting all \".concat(deleteAllType,\"s:\"),error);const errorMessage=((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.message)||\"Failed to delete all \".concat(deleteAllType,\"s\");toast.error(errorMessage);}finally{setIsDeletingAll(false);setModalAnimation('hidden');setTimeout(()=>{setShowDeleteAllModal(false);setShowSecondConfirmation(false);setDeleteAllType('');},300);}};const cancelDeleteAll=()=>{setModalAnimation('hidden');setTimeout(()=>{setShowDeleteAllModal(false);setShowSecondConfirmation(false);setDeleteAllType('');},300);};const handleFilePreview=async()=>{if(!uploadFile){toast.error('Please select a file to upload');return;}setUploading(true);const formData=new FormData();formData.append('excelFile',uploadFile);try{const response=await axios.post('http://localhost:5000/api/users/preview-excel',formData,{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'multipart/form-data'}});setPreviewData(response.data);setShowPreview(true);toast.success(\"Preview generated for \".concat(response.data.summary.previewRows,\" users\"));}catch(error){var _error$response0,_error$response0$data,_error$response1;console.error('Preview error:',error);toast.error(((_error$response0=error.response)===null||_error$response0===void 0?void 0:(_error$response0$data=_error$response0.data)===null||_error$response0$data===void 0?void 0:_error$response0$data.message)||'Failed to preview Excel file');if((_error$response1=error.response)!==null&&_error$response1!==void 0&&_error$response1.data){setPreviewData(error.response.data);setShowPreview(true);}}finally{setUploading(false);}};const handleConfirmUpload=async()=>{if(!uploadFile){toast.error('Please select a file to upload');return;}setUploading(true);const formData=new FormData();formData.append('excelFile',uploadFile);try{const response=await axios.post('http://localhost:5000/api/users/upload-excel',formData,{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'multipart/form-data'}});setUploadResults(response.data);setShowPreview(false);setPreviewData(null);toast.success(\"Successfully processed \".concat(response.data.summary.insertedUsers,\" users from Excel file\"));// Refresh the users list\nfetchUsers();// Reset upload state\nsetUploadFile(null);}catch(error){var _error$response10,_error$response10$dat,_error$response11,_error$response11$dat;console.error('Upload error:',error);toast.error(((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.message)||'Failed to upload Excel file');if((_error$response11=error.response)!==null&&_error$response11!==void 0&&(_error$response11$dat=_error$response11.data)!==null&&_error$response11$dat!==void 0&&_error$response11$dat.errors){setUploadResults(error.response.data);}}finally{setUploading(false);}};const handleFileSelect=event=>{const file=event.target.files[0];if(file){// Validate file type\nconst allowedTypes=['.xlsx','.xls','.csv'];const fileExtension=file.name.toLowerCase().substring(file.name.lastIndexOf('.'));if(!allowedTypes.includes(fileExtension)){toast.error('Please select a valid Excel file (.xlsx, .xls) or CSV file');return;}// Validate file size (10MB limit)\nif(file.size>10*1024*1024){toast.error('File size must be less than 10MB');return;}setUploadFile(file);setUploadResults(null);}};const fetchAvailableFingerprintIds=async()=>{try{const response=await axios.get('http://localhost:5000/api/users/fingerprint-ids/available',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setAvailableFingerprintIds(response.data.all_ids);// Use all_ids instead of available_ids\n}catch(error){console.error('Error fetching available fingerprint IDs:',error);toast.error('Failed to load available fingerprint IDs');}};const handleAssignFingerprint=async user=>{setSelectedUser(user);setSelectedFingerprintId('');await fetchAvailableFingerprintIds();setShowFingerprintModal(true);};const handleFingerprintAssignment=async()=>{if(!selectedFingerprintId){toast.error('Please select a fingerprint ID');return;}try{setAssigningFingerprint(true);const response=await axios.post(\"http://localhost:5000/api/users/\".concat(selectedUser.USERID,\"/assign-fingerprint\"),{fingerprint_id:parseInt(selectedFingerprintId)},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});toast.success(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"\\u2705 Fingerprint Assigned!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:response.data.user.name})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Fingerprint ID: \",response.data.user.fingerprint_id]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Student ID: \",response.data.user.student_id]})]})]}),{duration:4000});setShowFingerprintModal(false);setSelectedUser(null);setSelectedFingerprintId('');fetchUsers();// Refresh the users list\n}catch(error){var _error$response12,_error$response12$dat;console.error('Error assigning fingerprint:',error);toast.error(((_error$response12=error.response)===null||_error$response12===void 0?void 0:(_error$response12$dat=_error$response12.data)===null||_error$response12$dat===void 0?void 0:_error$response12$dat.message)||'Failed to assign fingerprint');}finally{setAssigningFingerprint(false);}};// RFID Assignment Functions\nconst handleOpenRfidModal=userData=>{setSelectedUser(userData);setShowRfidModal(true);setRfidScanMode(false);setScannedRfidData('');setManualRfidInput(userData.RFIDTAG||'');};const handleStartRfidScan=()=>{setRfidScanMode(true);setScannedRfidData('');toast.success('Scan mode activated! Scan an RFID card now...');// Focus on a hidden input to capture RFID data\nconst hiddenInput=document.getElementById('rfid-scan-input');if(hiddenInput){hiddenInput.focus();}};const handleRfidScanInput=e=>{if(e.key==='Enter'&&rfidScanMode){const rfidData=e.target.value.trim();if(rfidData.length>0){setScannedRfidData(rfidData);setManualRfidInput(rfidData);setRfidScanMode(false);toast.success(\"RFID captured: \".concat(rfidData));e.target.value='';}}};const handleAssignRfid=async()=>{const rfidToAssign=scannedRfidData||manualRfidInput;if(!selectedUser||!rfidToAssign.trim()){toast.error('Please provide an RFID code');return;}try{setAssigningRfid(true);const response=await axios.put(\"http://localhost:5000/api/users/\".concat(selectedUser.USERID,\"/assign-rfid\"),{rfid_tag:rfidToAssign.trim()},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.status===200){toast.success('RFID assigned successfully!');setShowRfidModal(false);setSelectedUser(null);setScannedRfidData('');setManualRfidInput('');fetchUsers();// Refresh the users list\n}}catch(error){var _error$response13,_error$response14;console.error('Error assigning RFID:',error);if(((_error$response13=error.response)===null||_error$response13===void 0?void 0:_error$response13.status)===400){toast.error(error.response.data.message||'Invalid RFID data');}else if(((_error$response14=error.response)===null||_error$response14===void 0?void 0:_error$response14.status)===409){toast.error(error.response.data.message||'RFID tag already assigned to another user');}else{toast.error('Failed to assign RFID');}}finally{setAssigningRfid(false);}};const resetUploadModal=()=>{setShowUploadModal(false);setUploadFile(null);setUploadResults(null);setPreviewData(null);setShowPreview(false);setUploading(false);};const getUserTypeIcon=type=>{switch(type){case'admin':return/*#__PURE__*/_jsx(UserIcon,{className:\"h-5 w-5 text-red-600\"});case'instructor':return/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-5 w-5 text-blue-600\"});case'student':return/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-5 w-5 text-green-600\"});default:return/*#__PURE__*/_jsx(UserIcon,{className:\"h-5 w-5 text-gray-600\"});}};const getUserTypeColor=type=>{switch(type){case'admin':return'bg-red-100 text-red-800';case'instructor':return'bg-blue-100 text-blue-800';case'student':return'bg-green-100 text-green-800';default:return'bg-gray-100 text-gray-800';}};const getStatusColor=status=>{return status==='active'?'bg-green-100 text-green-800':'bg-red-100 text-red-800';};if(loading&&users.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"User Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage students, instructors, and administrators. Assign RFID tags and fingerprints.\"})]}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowUploadModal(true),className:\"btn btn-secondary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(DocumentArrowUpIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload CSV/Excel\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowModal(true),className:\"btn btn-primary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add User\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bulk-actions-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowBulkActions(!showBulkActions),className:\"btn btn-secondary flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(EllipsisVerticalIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"More\"}),/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-4 w-4 transition-transform \".concat(showBulkActions?'rotate-180':'')})]}),showBulkActions&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-500 uppercase tracking-wide mb-3\",children:\"Bulk Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleDeleteAllByType('student');setShowBulkActions(false);},className:\"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors\",disabled:databaseCounts.student===0,children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Delete All Students (\",databaseCounts.student,\")\"]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleDeleteAllByType('instructor');setShowBulkActions(false);},className:\"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors\",disabled:databaseCounts.instructor===0,children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Delete All Instructors (\",databaseCounts.instructor,\")\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t border-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:\"\\u26A0\\uFE0F These actions delete ALL users of the selected type from the entire database\"})})]})})]})]})]}),showMultiSelect&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckIcon,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-blue-800\",children:\"Multi-Select Mode Active\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-600\",children:\"Select users by clicking the checkboxes, then use the bulk actions toolbar to perform operations on selected users.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleMultiSelect,className:\"text-blue-600 hover:text-blue-800 text-sm font-medium\",children:\"Exit Multi-Select\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search users...\",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value);setCurrentPage(1);// Reset to first page when searching\n},className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"User Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>{setFilterType(e.target.value);setCurrentPage(1);// Reset to first page when filtering\n},className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Students\"}),/*#__PURE__*/_jsx(\"option\",{value:\"instructor\",children:\"Instructors\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Administrators\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>{setFilterStatus(e.target.value);setCurrentPage(1);// Reset to first page when filtering\n},className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm('');setFilterType('all');setFilterStatus('all');setCurrentPage(1);},className:\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Clear Filters\"})})]})}),showMultiSelect&&selectedUsers.size>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border-2 border-blue-200 rounded-xl p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-600\",children:selectedUsers.size})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-blue-900\",children:[selectedUsers.size,\" user\",selectedUsers.size===1?'':'s',\" selected\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedUsers(new Set());setSelectAll(false);},className:\"text-sm text-blue-600 hover:text-blue-800 underline\",children:\"Clear selection\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleBulkDelete,disabled:selectedUsers.size===0,className:\"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\"Delete Selected\"]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:[\"Users (\",users.length,\")\"]}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(\"button\",{onClick:toggleMultiSelect,className:\"p-2 rounded-lg transition-all duration-200 border \".concat(showMultiSelect?'bg-blue-500 text-white border-blue-500 hover:bg-blue-600 shadow-md':'text-gray-500 hover:text-gray-700 hover:bg-gray-100 border-gray-300 hover:border-gray-400'),title:showMultiSelect?'Exit Multi-Select Mode':'Enable Multi-Select Mode',children:/*#__PURE__*/_jsx(Squares2X2Icon,{className:\"h-5 w-5\"})})]})}),users.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No users found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:searchTerm||filterType!=='all'||filterStatus!=='all'?'Try adjusting your search or filter criteria.':'Get started by creating a new user.'})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[showMultiSelect&&/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectAll,onChange:handleSelectAll,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"RFID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Fingerprint\"}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:users.map(userData=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[showMultiSelect&&/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedUsers.has(userData.USERID),onChange:()=>handleSelectUser(userData.USERID),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center\",children:getUserTypeIcon(userData.USERTYPE)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[userData.FIRSTNAME,\" \",userData.LASTNAME]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:userData.EMAIL})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getUserTypeColor(userData.USERTYPE)),children:userData.USERTYPE})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:userData.STUDENTID||userData.EMPLOYEEID||'-'}),userData.YEARLEVEL&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Year \",userData.YEARLEVEL]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{children:userData.RFIDTAG?/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-600 font-medium\",children:userData.RFIDTAG}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"-\"})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-center\",children:userData.FINGERPRINT_ID?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(CheckIcon,{className:\"h-5 w-5 text-green-500\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"-\"})})}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[(userData.USERTYPE==='student'||userData.USERTYPE==='instructor'||userData.USERTYPE==='admin')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAssignFingerprint(userData),className:\"text-purple-600 hover:text-purple-900 transition-colors duration-200\",title:\"Assign Fingerprint\",children:/*#__PURE__*/_jsx(FingerPrintIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleOpenRfidModal(userData),className:\"text-green-600 hover:text-green-900 transition-colors duration-200\",title:\"Assign RFID\",children:/*#__PURE__*/_jsx(CreditCardIcon,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(userData),className:\"text-blue-600 hover:text-blue-900 transition-colors duration-200\",title:\"Edit User\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(userData),className:\"text-red-600 hover:text-red-900 transition-colors duration-200\",title:\"Delete User\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},userData.USERID))})]})}),totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-700\",children:[\"Page \",currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(Math.max(1,currentPage-1)),disabled:currentPage===1,className:\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(Math.min(totalPages,currentPage+1)),disabled:currentPage===totalPages,className:\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Next\"})]})]})})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:editingUser?'Edit User':'Add New User'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowModal(false);setEditingUser(null);resetForm();},className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"First Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.first_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{first_name:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Last Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.last_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{last_name:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"})]}),!editingUser&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Password *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:!editingUser,value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"User Type *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:formData.user_type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{user_type:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"instructor\",children:\"Instructor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Administrator\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.status,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{status:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})]})]}),formData.user_type==='student'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Student ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.student_id,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{student_id:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Year Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.year_level,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{year_level:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1st Year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2nd Year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3rd Year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4th Year\"})]})]})]}),(formData.user_type==='instructor'||formData.user_type==='admin')&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Faculty ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.faculty_id,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{faculty_id:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Department\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.department,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{department:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowModal(false);setEditingUser(null);resetForm();},className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\",children:[editingUser?'Update':'Create',\" User\"]})]})]})]})}),showUploadModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Upload Excel/CSV File\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetUploadModal,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-md p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"Instructions:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-blue-700 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Upload an Excel file (.xlsx, .xls) or CSV file\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 The file must contain a sheet named \\\"SBO\\\"\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Required columns: \\\"SL#\\\", \\\"Student Name\\\", \\\"Subject/Major\\\", \\\"Year\\\"\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Student names can be: \\\"LASTNAME, FIRSTNAME\\\" or \\\"LASTNAME FIRSTNAME\\\"\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 System processes rows with valid SL# numbers only\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Processing stops when SL# is missing or invalid\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Maximum file size: 10MB\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(DocumentArrowUpIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload\",className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mt-2 block text-sm font-medium text-gray-900\",children:uploadFile?uploadFile.name:'Select a file to upload'}),/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",name:\"file-upload\",type:\"file\",className:\"sr-only\",accept:\".xlsx,.xls,.csv\",onChange:handleFileSelect,disabled:uploading}),/*#__PURE__*/_jsx(\"span\",{className:\"mt-1 block text-sm text-gray-500\",children:\"or drag and drop\"})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"Excel (.xlsx, .xls) or CSV files up to 10MB\"})]})}),showPreview&&previewData&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-md p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"Preview Summary:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-700 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Sheet found: \",/*#__PURE__*/_jsx(\"strong\",{children:previewData.sheetName})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total data rows available: \",((_previewData$summary=previewData.summary)===null||_previewData$summary===void 0?void 0:_previewData$summary.totalRows)||0]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Valid students found: \",((_previewData$summary2=previewData.summary)===null||_previewData$summary2===void 0?void 0:_previewData$summary2.previewRows)||0]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Issues detected: \",((_previewData$summary3=previewData.summary)===null||_previewData$summary3===void 0?void 0:_previewData$summary3.errors)||0]})]}),previewData.headers&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs text-blue-600\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Columns detected: \",previewData.headers.studentNameCol,\", \",previewData.headers.subjectMajorCol,\", \",previewData.headers.yearCol]})})]}),previewData.errors&&previewData.errors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4 max-h-32 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-red-800 mb-2\",children:\"Issues Found:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-red-700 space-y-1\",children:[previewData.errors.slice(0,5).map((error,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",error]},index)),previewData.errors.length>5&&/*#__PURE__*/_jsxs(\"li\",{className:\"text-red-600 font-medium\",children:[\"... and \",previewData.errors.length-5,\" more issues\"]})]})]}),previewData.previewUsers&&previewData.previewUsers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-md p-4 max-h-64 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-800 mb-2\",children:[\"Data Preview (All \",previewData.previewUsers.length,\" students found):\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full text-xs\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"Row\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"SL#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"Original Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"Subject/Major\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1 text-left font-medium text-gray-600\",children:\"Student ID\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:previewData.previewUsers.map((user,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-500\",children:user.rowNumber}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-blue-600 font-medium\",children:user.slNumber}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-900\",children:user.originalName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-900\",children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-900\",children:user.lastName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-600\",children:user.email}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-900\",children:user.subjectMajor}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-900\",children:user.yearLevel}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1 text-gray-600\",children:user.studentId})]},index))})]})})]})]}),uploadResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-md p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800 mb-2\",children:\"Upload Complete!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-700 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total rows processed: \",((_uploadResults$summar=uploadResults.summary)===null||_uploadResults$summar===void 0?void 0:_uploadResults$summar.totalRows)||0]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Users successfully imported: \",((_uploadResults$summar2=uploadResults.summary)===null||_uploadResults$summar2===void 0?void 0:_uploadResults$summar2.insertedUsers)||0]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Errors encountered: \",((_uploadResults$summar3=uploadResults.summary)===null||_uploadResults$summar3===void 0?void 0:_uploadResults$summar3.errors)||0]})]})]}),uploadResults.errors&&uploadResults.errors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4 max-h-40 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-red-800 mb-2\",children:\"Errors:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-red-700 space-y-1\",children:[uploadResults.errors.slice(0,10).map((error,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",error]},index)),uploadResults.errors.length>10&&/*#__PURE__*/_jsxs(\"li\",{className:\"text-red-600 font-medium\",children:[\"... and \",uploadResults.errors.length-10,\" more errors\"]})]})]}),uploadResults.insertedUsers&&uploadResults.insertedUsers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-md p-4 max-h-40 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800 mb-2\",children:\"Successfully Imported Users:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-700 space-y-1\",children:[uploadResults.insertedUsers.slice(0,5).map((user,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:user.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[user.subject,\" - Year \",user.year]})]},index)),uploadResults.insertedUsers.length>5&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 font-medium\",children:[\"... and \",uploadResults.insertedUsers.length-5,\" more users\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetUploadModal,className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",disabled:uploading,children:uploadResults?'Close':'Cancel'}),!showPreview&&!uploadResults&&/*#__PURE__*/_jsx(\"button\",{onClick:handleFilePreview,disabled:!uploadFile||uploading,className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:uploading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Processing...\"]}):'Preview Data'}),showPreview&&!uploadResults&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowPreview(false);setPreviewData(null);},className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",disabled:uploading,children:\"Back to File Selection\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirmUpload,disabled:uploading,className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:uploading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Uploading...\"]}):'Confirm Upload'})]})]})]})]})}),showFingerprintModal&&selectedUser&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Assign Fingerprint\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowFingerprintModal(false);setSelectedUser(null);setSelectedFingerprintId('');},className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-md p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-800 mb-2\",children:[selectedUser.USERTYPE==='instructor'?'Instructor':selectedUser.USERTYPE==='admin'?'Admin':'Student',\" Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-700 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",selectedUser.FIRSTNAME,\" \",selectedUser.LASTNAME]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:selectedUser.USERTYPE==='instructor'||selectedUser.USERTYPE==='admin'?'Faculty ID:':'Student ID:'}),\" \",selectedUser.FACULTYID||selectedUser.STUDENTID]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",selectedUser.EMAIL]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Department:\"}),\" \",selectedUser.DEPARTMENT]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",selectedUser.USERTYPE]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fingerprint-id\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Fingerprint ID (1-127)\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"fingerprint-id\",value:selectedFingerprintId,onChange:e=>setSelectedFingerprintId(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\",disabled:assigningFingerprint,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a fingerprint ID...\"}),availableFingerprintIds.map(item=>/*#__PURE__*/_jsxs(\"option\",{value:item.id,children:[\"Fingerprint ID #\",item.id,\" \",item.assigned?\"(Currently: \".concat(item.assignedTo.name,\" - \").concat(item.assignedTo.id,\")\"):'(Available)']},item.id))]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:[availableFingerprintIds.filter(item=>!item.assigned).length,\" available, \",availableFingerprintIds.filter(item=>item.assigned).length,\" assigned out of 127 total slots\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-md p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"Instructions:\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"text-sm text-blue-700 space-y-1 list-decimal list-inside\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Select an available fingerprint ID from the dropdown\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Click \\\"Assign Fingerprint\\\" to save the assignment\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Use the Arduino Serial Monitor to enroll the fingerprint:\"}),/*#__PURE__*/_jsxs(\"li\",{className:\"ml-4 text-xs font-mono bg-blue-100 p-1 rounded\",children:[\"enroll \",selectedFingerprintId||'[ID]']}),/*#__PURE__*/_jsx(\"li\",{children:\"Follow the prompts to scan the finger twice\"}),(selectedUser.USERTYPE==='instructor'||selectedUser.USERTYPE==='admin')&&/*#__PURE__*/_jsx(\"li\",{className:\"text-green-700 font-medium\",children:\"\\u2705 Instructors and Admins get automatic lock access when scanning\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowFingerprintModal(false);setSelectedUser(null);setSelectedFingerprintId('');},className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",disabled:assigningFingerprint,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFingerprintAssignment,disabled:!selectedFingerprintId||assigningFingerprint,className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:assigningFingerprint?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Assigning...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FingerPrintIcon,{className:\"h-4 w-4 mr-2\"}),\"Assign Fingerprint\"]})})]})]})]})}),showRfidModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Assign RFID Card\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRfidModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),selectedUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[selectedUser.FIRSTNAME,\" \",selectedUser.LASTNAME]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[selectedUser.USERTYPE==='instructor'||selectedUser.USERTYPE==='admin'?selectedUser.FACULTYID||'No Faculty ID':selectedUser.STUDENTID||'No Student ID',\" \\u2022 \",selectedUser.EMAIL]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Role: \",selectedUser.USERTYPE]}),selectedUser.RFIDTAG&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-600 mt-1\",children:[\"Current RFID: \",selectedUser.RFIDTAG]}),(selectedUser.USERTYPE==='instructor'||selectedUser.USERTYPE==='admin')&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600 mt-1\",children:\"\\u2705 RFID access will control solenoid lock\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Scan RFID Card\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleStartRfidScan,disabled:rfidScanMode,className:\"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 \".concat(rfidScanMode?'bg-green-100 text-green-800 cursor-not-allowed':'bg-blue-600 text-white hover:bg-blue-700'),children:rfidScanMode?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600 mr-2\"}),\"Scanning...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CreditCardIcon,{className:\"h-4 w-4 mr-2 inline\"}),\"Start Scan\"]})})}),rfidScanMode&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-green-600\",children:\"\\uD83D\\uDD0D Scan mode active - scan your RFID card now!\"}),scannedRfidData&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-green-600\",children:[\"\\u2705 Captured: \",scannedRfidData]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Or Enter Manually\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:manualRfidInput,onChange:e=>setManualRfidInput(e.target.value),placeholder:\"Enter RFID code manually\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRfidModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAssignRfid,disabled:assigningRfid||!scannedRfidData&&!manualRfidInput.trim(),className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",children:assigningRfid?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Assigning...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CreditCardIcon,{className:\"h-4 w-4 mr-2 inline\"}),\"Assign RFID\"]})})]})]})})}),/*#__PURE__*/_jsx(\"input\",{id:\"rfid-scan-input\",type:\"text\",onKeyPress:handleRfidScanInput,style:{position:'absolute',left:'-9999px',opacity:0,pointerEvents:'none'}}),showDeleteModal&&deleteItem&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 overflow-y-auto z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out \".concat(modalAnimation==='visible'?'opacity-100':'opacity-0'),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-full items-center justify-center p-4 text-center sm:p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg \".concat(modalAnimation==='visible'?'scale-100 opacity-100 translate-y-0':'scale-95 opacity-0 translate-y-4'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse\",children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-8 w-8 text-red-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:deleteItem.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 leading-relaxed\",children:deleteItem.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setModalAnimation('hidden');setTimeout(()=>{setShowDeleteModal(false);setDeleteItem(null);},300);},disabled:isDeleting,className:\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:confirmDelete,disabled:isDeleting,className:\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\",children:isDeleting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Deleting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),deleteItem.confirmText]})})]})]})})})}),showBulkDeleteModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 overflow-y-auto z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out \".concat(modalAnimation==='visible'?'opacity-100':'opacity-0'),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-full items-center justify-center p-4 text-center sm:p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg \".concat(modalAnimation==='visible'?'scale-100 opacity-100 translate-y-0':'scale-95 opacity-0 translate-y-4'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse\",children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-8 w-8 text-red-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Bulk Delete Users\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 leading-relaxed\",children:[\"Are you sure you want to delete \",/*#__PURE__*/_jsxs(\"strong\",{children:[selectedUsers.size,\" users\"]}),\"? This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setModalAnimation('hidden');setTimeout(()=>{setShowBulkDeleteModal(false);},300);},disabled:isBulkDeleting,className:\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:confirmBulkDelete,disabled:isBulkDeleting,className:\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\",children:isBulkDeleting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Deleting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\"Delete \",selectedUsers.size,\" Users\"]})})]})]})})})}),showDeleteAllModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 overflow-y-auto z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out \".concat(modalAnimation==='visible'?'opacity-100':'opacity-0'),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-full items-center justify-center p-4 text-center sm:p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg \".concat(modalAnimation==='visible'?'scale-100 opacity-100 translate-y-0':'scale-95 opacity-0 translate-y-4'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse\",children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-8 w-8 text-red-600\"})}),!showSecondConfirmation?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:[\"Delete All \",deleteAllType==='student'?'Students':'Instructors']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 leading-relaxed\",children:[\"This will delete \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"ALL \",deleteAllType,\"s\"]}),\" from the entire database, not just the current page. This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800 font-medium\",children:[\"\\u26A0\\uFE0F This is a destructive action that will permanently delete ALL \",deleteAllType,\"s from the database.\"]})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Final Confirmation Required\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 leading-relaxed\",children:[\"You are about to permanently delete \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"ALL \",deleteAllType,\"s\"]}),\" from the entire database. This action cannot be undone.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-800 font-medium\",children:[\"\\uD83D\\uDEA8 FINAL WARNING: This will delete ALL \",deleteAllType,\"s from the database permanently!\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:cancelDeleteAll,disabled:isDeletingAll,className:\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Cancel\"}),!showSecondConfirmation?/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:confirmDeleteAllFirst,disabled:isDeletingAll,className:\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Continue to Final Confirmation\"}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:confirmDeleteAllFinal,disabled:isDeletingAll,className:\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\",children:isDeletingAll?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Deleting All \",deleteAllType==='student'?'Students':'Instructors',\"...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\"DELETE ALL \",deleteAllType==='student'?'STUDENTS':'INSTRUCTORS']})})]})]})})})})]});}export default Users;","map":{"version":3,"names":["React","useState","useEffect","PlusIcon","PencilIcon","TrashIcon","MagnifyingGlassIcon","UserIcon","AcademicCapIcon","UserGroupIcon","XMarkIcon","FingerPrintIcon","CpuChipIcon","DocumentArrowUpIcon","CreditCardIcon","CheckIcon","ExclamationTriangleIcon","EllipsisVerticalIcon","ChevronDownIcon","Squares2X2Icon","RectangleStackIcon","axios","toast","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Users","_previewData$summary","_previewData$summary2","_previewData$summary3","_uploadResults$summar","_uploadResults$summar2","_uploadResults$summar3","user","users","setUsers","loading","setLoading","showModal","setShowModal","editingUser","setEditingUser","searchTerm","setSearchTerm","filterType","setFilterType","filterStatus","setFilterStatus","currentPage","setCurrentPage","totalPages","setTotalPages","showUploadModal","setShowUploadModal","uploadFile","setUploadFile","uploading","setUploading","uploadResults","setUploadResults","previewData","setPreviewData","showPreview","setShowPreview","showFingerprintModal","setShowFingerprintModal","selectedUser","setSelectedUser","availableFingerprintIds","setAvailableFingerprintIds","selectedFingerprintId","setSelectedFingerprintId","assigningFingerprint","setAssigningFingerprint","showRfidModal","setShowRfidModal","rfidScanMode","setRfidScanMode","scannedRfidData","setScannedRfidData","manualRfidInput","setManualRfidInput","assigningRfid","setAssigningRfid","showDeleteModal","setShowDeleteModal","deleteItem","setDeleteItem","isDeleting","setIsDeleting","modalAnimation","setModalAnimation","selectedUsers","setSelectedUsers","Set","selectAll","setSelectAll","showBulkDeleteModal","setShowBulkDeleteModal","isBulkDeleting","setIsBulkDeleting","showDeleteAllModal","setShowDeleteAllModal","deleteAllType","setDeleteAllType","isDeletingAll","setIsDeletingAll","showSecondConfirmation","setShowSecondConfirmation","showBulkActions","setShowBulkActions","showMultiSelect","setShowMultiSelect","databaseCounts","setDatabaseCounts","student","instructor","admin","formData","setFormData","first_name","last_name","email","password","user_type","student_id","faculty_id","year_level","department","status","fetchUsers","fetchDatabaseCounts","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","params","URLSearchParams","page","limit","append","response","get","concat","headers","Authorization","localStorage","getItem","data","pagination","pages","error","console","studentsResponse","instructorsResponse","Promise","all","count","handleSubmit","e","preventDefault","put","USERID","success","post","resetForm","_error$response","_error$response3","_error$response2","_error$response2$data","errorMessage","message","_error$response4","_error$response4$data","_error$response5","_error$response5$data","handleEdit","FIRSTNAME","LASTNAME","EMAIL","USERTYPE","STUDENTID","FACULTYID","YEARLEVEL","DEPARTMENT","STATUS","handleDelete","title","confirmText","_objectSpread","setTimeout","confirmDelete","delete","duration","style","background","border","color","_error$response6","_error$response6$data","_error$response7","_error$response7$data","errorDetails","details","handleSelectUser","userId","newSelectedUsers","has","add","size","length","handleSelectAll","userIds","map","toggleMultiSelect","handleBulkDelete","confirmBulkDelete","ids","Array","from","_error$response8","_error$response8$data","handleDeleteAllByType","type","confirmDeleteAllFirst","confirmDeleteAllFinal","allUsersOfType","deleteResponse","_error$response9","_error$response9$data","cancelDeleteAll","handleFilePreview","FormData","summary","previewRows","_error$response0","_error$response0$data","_error$response1","handleConfirmUpload","insertedUsers","_error$response10","_error$response10$dat","_error$response11","_error$response11$dat","errors","handleFileSelect","file","files","allowedTypes","fileExtension","name","toLowerCase","substring","lastIndexOf","includes","fetchAvailableFingerprintIds","all_ids","handleAssignFingerprint","handleFingerprintAssignment","fingerprint_id","parseInt","children","className","_error$response12","_error$response12$dat","handleOpenRfidModal","userData","RFIDTAG","handleStartRfidScan","hiddenInput","getElementById","focus","handleRfidScanInput","key","rfidData","value","trim","handleAssignRfid","rfidToAssign","rfid_tag","_error$response13","_error$response14","resetUploadModal","getUserTypeIcon","getUserTypeColor","getStatusColor","role","onClick","disabled","placeholder","onChange","checked","EMPLOYEEID","FINGERPRINT_ID","Math","max","min","onSubmit","required","htmlFor","id","accept","sheetName","totalRows","studentNameCol","subjectMajorCol","yearCol","slice","index","previewUsers","rowNumber","slNumber","originalName","firstName","lastName","subjectMajor","yearLevel","studentId","subject","year","item","assigned","assignedTo","filter","onKeyPress","position","left","opacity","pointerEvents"],"sources":["C:/Users/Harley/Desktop/Capstone/attendanceiot/IOTCapstone/frontend/src/pages/Users.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  PlusIcon, \n  PencilIcon, \n  TrashIcon, \n  MagnifyingGlassIcon,\n  UserIcon,\n  AcademicCapIcon,\n  UserGroupIcon,\n  XMarkIcon,\n  FingerPrintIcon,\n  CpuChipIcon,\n  DocumentArrowUpIcon,\n  CreditCardIcon,\n  CheckIcon,\n  ExclamationTriangleIcon,\n  EllipsisVerticalIcon,\n  ChevronDownIcon,\n  Squares2X2Icon,\n  RectangleStackIcon\n} from '@heroicons/react/24/outline';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { useAuth } from '../contexts/AuthContext';\n\nfunction Users() {\n  const { user } = useAuth();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('all');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [uploadFile, setUploadFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadResults, setUploadResults] = useState(null);\n  const [previewData, setPreviewData] = useState(null);\n  const [showPreview, setShowPreview] = useState(false);\n  const [showFingerprintModal, setShowFingerprintModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [availableFingerprintIds, setAvailableFingerprintIds] = useState([]);\n  const [selectedFingerprintId, setSelectedFingerprintId] = useState('');\n  const [assigningFingerprint, setAssigningFingerprint] = useState(false);\n  const [showRfidModal, setShowRfidModal] = useState(false);\n  const [rfidScanMode, setRfidScanMode] = useState(false);\n  const [scannedRfidData, setScannedRfidData] = useState('');\n  const [manualRfidInput, setManualRfidInput] = useState('');\n  const [assigningRfid, setAssigningRfid] = useState(false);\n  \n  // Delete confirmation modal states\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [deleteItem, setDeleteItem] = useState(null);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [modalAnimation, setModalAnimation] = useState('hidden');\n  \n  // Bulk delete states\n  const [selectedUsers, setSelectedUsers] = useState(new Set());\n  const [selectAll, setSelectAll] = useState(false);\n  const [showBulkDeleteModal, setShowBulkDeleteModal] = useState(false);\n  const [isBulkDeleting, setIsBulkDeleting] = useState(false);\n  \n  // Delete all by type states\n  const [showDeleteAllModal, setShowDeleteAllModal] = useState(false);\n  const [deleteAllType, setDeleteAllType] = useState(''); // 'students' or 'instructors'\n  const [isDeletingAll, setIsDeletingAll] = useState(false);\n  const [showSecondConfirmation, setShowSecondConfirmation] = useState(false);\n  const [showBulkActions, setShowBulkActions] = useState(false);\n  const [showMultiSelect, setShowMultiSelect] = useState(false);\n  \n  // Database counts for each user type\n  const [databaseCounts, setDatabaseCounts] = useState({\n    student: 0,\n    instructor: 0,\n    admin: 0\n  });\n  \n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    password: '',\n    user_type: 'student',\n    student_id: '',\n    faculty_id: '',\n    year_level: '',\n    department: '',\n    status: 'active'\n  });\n\n  useEffect(() => {\n    fetchUsers();\n    fetchDatabaseCounts();\n  }, [currentPage, filterType, filterStatus, searchTerm]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showBulkActions && !event.target.closest('.bulk-actions-dropdown')) {\n        setShowBulkActions(false);\n      }\n    };\n\n    if (showBulkActions) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showBulkActions]);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({\n        page: currentPage,\n        limit: 20\n      });\n\n      if (filterType !== 'all') {\n        params.append('type', filterType);\n      }\n      if (filterStatus !== 'all') {\n        params.append('status', filterStatus);\n      }\n      if (searchTerm) {\n        params.append('search', searchTerm);\n      }\n\n      const response = await axios.get(`http://localhost:5000/api/users?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n\n      setUsers(response.data.users);\n      setTotalPages(response.data.pagination.pages);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      toast.error('Failed to load users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchDatabaseCounts = async () => {\n    try {\n      const [studentsResponse, instructorsResponse] = await Promise.all([\n        axios.get('http://localhost:5000/api/users/by-type/student', {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        }),\n        axios.get('http://localhost:5000/api/users/by-type/instructor', {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        })\n      ]);\n\n      setDatabaseCounts({\n        student: studentsResponse.data.count,\n        instructor: instructorsResponse.data.count,\n        admin: 0 // We don't need admin count for delete all functionality\n      });\n    } catch (error) {\n      console.error('Error fetching database counts:', error);\n      // Don't show error to user as this is background functionality\n    }\n  };\n\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      if (editingUser) {\n        await axios.put(`http://localhost:5000/api/users/${editingUser.USERID}`, formData, {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        });\n        toast.success('User updated successfully');\n      } else {\n        await axios.post('http://localhost:5000/api/users', formData, {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        });\n        toast.success('User created successfully');\n      }\n      \n      setShowModal(false);\n      setEditingUser(null);\n      resetForm();\n      fetchUsers();\n    } catch (error) {\n      console.error('Error saving user:', error);\n      \n      if (error.response?.status === 409) {\n        // Handle conflict errors with more specific messages\n        const errorMessage = error.response?.data?.message || 'User information conflicts with existing data';\n        toast.error(errorMessage);\n      } else if (error.response?.status === 400) {\n        // Handle validation errors\n        const errorMessage = error.response?.data?.message || 'Please check your input data';\n        toast.error(errorMessage);\n      } else {\n        toast.error(error.response?.data?.message || 'Failed to save user');\n      }\n    }\n  };\n\n  const handleEdit = (user) => {\n    setEditingUser(user);\n    setFormData({\n      first_name: user.FIRSTNAME || '',\n      last_name: user.LASTNAME || '',\n      email: user.EMAIL || '',\n      password: '',\n      user_type: user.USERTYPE || 'student',\n      student_id: user.STUDENTID || '',\n      faculty_id: user.FACULTYID || '',\n      year_level: user.YEARLEVEL || '',\n      department: user.DEPARTMENT || '',\n      status: user.STATUS || 'active'\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = (user) => {\n    const title = 'Delete User';\n    const message = `Are you sure you want to delete \"${user.FIRSTNAME} ${user.LASTNAME}\"? This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments.`;\n    const confirmText = 'Delete User';\n\n    setDeleteItem({\n      ...user,\n      title,\n      message,\n      confirmText\n    });\n    setShowDeleteModal(true);\n    setTimeout(() => setModalAnimation('visible'), 10);\n  };\n\n  const confirmDelete = async () => {\n    if (!deleteItem) return;\n\n    setIsDeleting(true);\n    \n    try {\n      await axios.delete(`http://localhost:5000/api/users/${deleteItem.USERID}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      // Show enhanced success message\n      toast.success('User deleted successfully!', {\n        duration: 4000,\n        style: {\n          background: '#f0fdf4',\n          border: '1px solid #bbf7d0',\n          color: '#166534',\n        },\n      });\n      \n      // Refresh data\n      await fetchUsers();\n      \n    } catch (error) {\n      console.error('Error deleting user:', error);\n      const errorMessage = error.response?.data?.message || 'Failed to delete user';\n      const errorDetails = error.response?.data?.details;\n      \n      // Show detailed error message\n      if (errorDetails) {\n        toast.error(`${errorMessage}: ${errorDetails}`, {\n          duration: 8000,\n          style: {\n            background: '#fef2f2',\n            border: '1px solid #fecaca',\n            color: '#dc2626',\n          },\n        });\n      } else {\n        toast.error(errorMessage);\n      }\n    } finally {\n      setIsDeleting(false);\n      setModalAnimation('hidden');\n      setTimeout(() => {\n        setShowDeleteModal(false);\n        setDeleteItem(null);\n      }, 300);\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: '',\n      user_type: 'student',\n      student_id: '',\n      faculty_id: '',\n      year_level: '',\n      department: '',\n      status: 'active'\n    });\n  };\n\n  // Bulk delete functions\n  const handleSelectUser = (userId) => {\n    const newSelectedUsers = new Set(selectedUsers);\n    if (newSelectedUsers.has(userId)) {\n      newSelectedUsers.delete(userId);\n    } else {\n      newSelectedUsers.add(userId);\n    }\n    setSelectedUsers(newSelectedUsers);\n    \n    // Update select all state\n    setSelectAll(newSelectedUsers.size === users.length && users.length > 0);\n  };\n\n  const handleSelectAll = () => {\n    if (selectAll) {\n      setSelectedUsers(new Set());\n    } else {\n      const userIds = users.map(user => user.USERID);\n      setSelectedUsers(new Set(userIds));\n    }\n    setSelectAll(!selectAll);\n  };\n\n  const toggleMultiSelect = () => {\n    if (showMultiSelect) {\n      // Clear selections when turning off multi-select\n      setSelectedUsers(new Set());\n      setSelectAll(false);\n    }\n    setShowMultiSelect(!showMultiSelect);\n  };\n\n  const handleBulkDelete = () => {\n    if (selectedUsers.size === 0) return;\n    setShowBulkDeleteModal(true);\n    setTimeout(() => setModalAnimation('visible'), 10);\n  };\n\n  const confirmBulkDelete = async () => {\n    if (selectedUsers.size === 0) return;\n\n    setIsBulkDeleting(true);\n    \n    try {\n      const response = await axios.delete('http://localhost:5000/api/users/bulk-delete', {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        data: { ids: Array.from(selectedUsers) }\n      });\n      \n      // Show success message\n      toast.success(`${selectedUsers.size} users deleted successfully!`, {\n        duration: 4000,\n        style: {\n          background: '#f0fdf4',\n          border: '1px solid #bbf7d0',\n          color: '#166534',\n        },\n      });\n      \n      // Clear selections and refresh data\n      setSelectedUsers(new Set());\n      setSelectAll(false);\n      await fetchUsers();\n      \n    } catch (error) {\n      console.error('Error bulk deleting users:', error);\n      const errorMessage = error.response?.data?.message || 'Failed to delete users';\n      toast.error(errorMessage);\n    } finally {\n      setIsBulkDeleting(false);\n      setModalAnimation('hidden');\n      setTimeout(() => {\n        setShowBulkDeleteModal(false);\n      }, 300);\n    }\n  };\n\n  // Delete all by type functions\n  const handleDeleteAllByType = (type) => {\n    setDeleteAllType(type);\n    setShowSecondConfirmation(false);\n    setShowDeleteAllModal(true);\n    setTimeout(() => setModalAnimation('visible'), 10);\n  };\n\n  const confirmDeleteAllFirst = () => {\n    setShowSecondConfirmation(true);\n  };\n\n  const confirmDeleteAllFinal = async () => {\n    if (!deleteAllType) return;\n\n    setIsDeletingAll(true);\n    \n    try {\n      // First, fetch ALL users of the specified type from the database\n      const response = await axios.get(`http://localhost:5000/api/users/by-type/${deleteAllType}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      const allUsersOfType = response.data.users;\n      const userIds = allUsersOfType.map(user => user.USERID);\n      \n      if (userIds.length === 0) {\n        toast.error(`No ${deleteAllType}s found in the database to delete`);\n        return;\n      }\n\n      // Now delete all users of this type\n      const deleteResponse = await axios.delete('http://localhost:5000/api/users/bulk-delete', {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        data: { ids: userIds }\n      });\n      \n      // Show success message\n      toast.success(`All ${userIds.length} ${deleteAllType}s deleted successfully from the database!`, {\n        duration: 5000,\n        style: {\n          background: '#f0fdf4',\n          border: '1px solid #bbf7d0',\n          color: '#166534',\n        },\n      });\n      \n      // Clear selections and refresh data\n      setSelectedUsers(new Set());\n      setSelectAll(false);\n      await fetchUsers();\n      await fetchDatabaseCounts(); // Refresh database counts after deletion\n      \n    } catch (error) {\n      console.error(`Error deleting all ${deleteAllType}s:`, error);\n      const errorMessage = error.response?.data?.message || `Failed to delete all ${deleteAllType}s`;\n      toast.error(errorMessage);\n    } finally {\n      setIsDeletingAll(false);\n      setModalAnimation('hidden');\n      setTimeout(() => {\n        setShowDeleteAllModal(false);\n        setShowSecondConfirmation(false);\n        setDeleteAllType('');\n      }, 300);\n    }\n  };\n\n  const cancelDeleteAll = () => {\n    setModalAnimation('hidden');\n    setTimeout(() => {\n      setShowDeleteAllModal(false);\n      setShowSecondConfirmation(false);\n      setDeleteAllType('');\n    }, 300);\n  };\n\n  const handleFilePreview = async () => {\n    if (!uploadFile) {\n      toast.error('Please select a file to upload');\n      return;\n    }\n\n    setUploading(true);\n    const formData = new FormData();\n    formData.append('excelFile', uploadFile);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/users/preview-excel', formData, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      setPreviewData(response.data);\n      setShowPreview(true);\n      toast.success(`Preview generated for ${response.data.summary.previewRows} users`);\n      \n    } catch (error) {\n      console.error('Preview error:', error);\n      toast.error(error.response?.data?.message || 'Failed to preview Excel file');\n      \n      if (error.response?.data) {\n        setPreviewData(error.response.data);\n        setShowPreview(true);\n      }\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleConfirmUpload = async () => {\n    if (!uploadFile) {\n      toast.error('Please select a file to upload');\n      return;\n    }\n\n    setUploading(true);\n    const formData = new FormData();\n    formData.append('excelFile', uploadFile);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/users/upload-excel', formData, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      setUploadResults(response.data);\n      setShowPreview(false);\n      setPreviewData(null);\n      toast.success(`Successfully processed ${response.data.summary.insertedUsers} users from Excel file`);\n      \n      // Refresh the users list\n      fetchUsers();\n      \n      // Reset upload state\n      setUploadFile(null);\n      \n    } catch (error) {\n      console.error('Upload error:', error);\n      toast.error(error.response?.data?.message || 'Failed to upload Excel file');\n      \n      if (error.response?.data?.errors) {\n        setUploadResults(error.response.data);\n      }\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      // Validate file type\n      const allowedTypes = ['.xlsx', '.xls', '.csv'];\n      const fileExtension = file.name.toLowerCase().substring(file.name.lastIndexOf('.'));\n      \n      if (!allowedTypes.includes(fileExtension)) {\n        toast.error('Please select a valid Excel file (.xlsx, .xls) or CSV file');\n        return;\n      }\n      \n      // Validate file size (10MB limit)\n      if (file.size > 10 * 1024 * 1024) {\n        toast.error('File size must be less than 10MB');\n        return;\n      }\n      \n      setUploadFile(file);\n      setUploadResults(null);\n    }\n  };\n\n  const fetchAvailableFingerprintIds = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/users/fingerprint-ids/available', {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      setAvailableFingerprintIds(response.data.all_ids); // Use all_ids instead of available_ids\n    } catch (error) {\n      console.error('Error fetching available fingerprint IDs:', error);\n      toast.error('Failed to load available fingerprint IDs');\n    }\n  };\n\n  const handleAssignFingerprint = async (user) => {\n    setSelectedUser(user);\n    setSelectedFingerprintId('');\n    await fetchAvailableFingerprintIds();\n    setShowFingerprintModal(true);\n  };\n\n  const handleFingerprintAssignment = async () => {\n    if (!selectedFingerprintId) {\n      toast.error('Please select a fingerprint ID');\n      return;\n    }\n\n    try {\n      setAssigningFingerprint(true);\n\n      const response = await axios.post(\n        `http://localhost:5000/api/users/${selectedUser.USERID}/assign-fingerprint`,\n        { fingerprint_id: parseInt(selectedFingerprintId) },\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        }\n      );\n\n      toast.success(\n        <div>\n          <div className=\"font-medium\"> Fingerprint Assigned!</div>\n          <div className=\"text-sm mt-1\">\n            <div><strong>{response.data.user.name}</strong></div>\n            <div>Fingerprint ID: {response.data.user.fingerprint_id}</div>\n            <div>Student ID: {response.data.user.student_id}</div>\n          </div>\n        </div>,\n        { duration: 4000 }\n      );\n\n      setShowFingerprintModal(false);\n      setSelectedUser(null);\n      setSelectedFingerprintId('');\n      fetchUsers(); // Refresh the users list\n\n    } catch (error) {\n      console.error('Error assigning fingerprint:', error);\n      toast.error(error.response?.data?.message || 'Failed to assign fingerprint');\n    } finally {\n      setAssigningFingerprint(false);\n    }\n  };\n\n  // RFID Assignment Functions\n  const handleOpenRfidModal = (userData) => {\n    setSelectedUser(userData);\n    setShowRfidModal(true);\n    setRfidScanMode(false);\n    setScannedRfidData('');\n    setManualRfidInput(userData.RFIDTAG || '');\n  };\n\n  const handleStartRfidScan = () => {\n    setRfidScanMode(true);\n    setScannedRfidData('');\n    toast.success('Scan mode activated! Scan an RFID card now...');\n\n    // Focus on a hidden input to capture RFID data\n    const hiddenInput = document.getElementById('rfid-scan-input');\n    if (hiddenInput) {\n      hiddenInput.focus();\n    }\n  };\n\n  const handleRfidScanInput = (e) => {\n    if (e.key === 'Enter' && rfidScanMode) {\n      const rfidData = e.target.value.trim();\n      if (rfidData.length > 0) {\n        setScannedRfidData(rfidData);\n        setManualRfidInput(rfidData);\n        setRfidScanMode(false);\n        toast.success(`RFID captured: ${rfidData}`);\n        e.target.value = '';\n      }\n    }\n  };\n\n  const handleAssignRfid = async () => {\n    const rfidToAssign = scannedRfidData || manualRfidInput;\n\n    if (!selectedUser || !rfidToAssign.trim()) {\n      toast.error('Please provide an RFID code');\n      return;\n    }\n\n    try {\n      setAssigningRfid(true);\n\n      const response = await axios.put(\n        `http://localhost:5000/api/users/${selectedUser.USERID}/assign-rfid`,\n        { rfid_tag: rfidToAssign.trim() },\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n      );\n\n      if (response.status === 200) {\n        toast.success('RFID assigned successfully!');\n        setShowRfidModal(false);\n        setSelectedUser(null);\n        setScannedRfidData('');\n        setManualRfidInput('');\n        fetchUsers(); // Refresh the users list\n      }\n    } catch (error) {\n      console.error('Error assigning RFID:', error);\n      if (error.response?.status === 400) {\n        toast.error(error.response.data.message || 'Invalid RFID data');\n      } else if (error.response?.status === 409) {\n        toast.error(error.response.data.message || 'RFID tag already assigned to another user');\n      } else {\n        toast.error('Failed to assign RFID');\n      }\n    } finally {\n      setAssigningRfid(false);\n    }\n  };\n\n  const resetUploadModal = () => {\n    setShowUploadModal(false);\n    setUploadFile(null);\n    setUploadResults(null);\n    setPreviewData(null);\n    setShowPreview(false);\n    setUploading(false);\n  };\n\n  const getUserTypeIcon = (type) => {\n    switch (type) {\n      case 'admin':\n        return <UserIcon className=\"h-5 w-5 text-red-600\" />;\n      case 'instructor':\n        return <AcademicCapIcon className=\"h-5 w-5 text-blue-600\" />;\n      case 'student':\n        return <UserGroupIcon className=\"h-5 w-5 text-green-600\" />;\n      default:\n        return <UserIcon className=\"h-5 w-5 text-gray-600\" />;\n    }\n  };\n\n  const getUserTypeColor = (type) => {\n    switch (type) {\n      case 'admin':\n        return 'bg-red-100 text-red-800';\n      case 'instructor':\n        return 'bg-blue-100 text-blue-800';\n      case 'student':\n        return 'bg-green-100 text-green-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    return status === 'active' \n      ? 'bg-green-100 text-green-800' \n      : 'bg-red-100 text-red-800';\n  };\n\n  if (loading && users.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">User Management</h1>\n          <p className=\"text-gray-600\">Manage students, instructors, and administrators. Assign RFID tags and fingerprints.</p>\n        </div>\n        {user?.role === 'admin' && (\n          <div className=\"flex space-x-3\">\n            <button\n              onClick={() => setShowUploadModal(true)}\n              className=\"btn btn-secondary flex items-center space-x-2\"\n            >\n              <DocumentArrowUpIcon className=\"h-5 w-5\" />\n              <span>Upload CSV/Excel</span>\n            </button>\n            <button\n              onClick={() => setShowModal(true)}\n              className=\"btn btn-primary flex items-center space-x-2\"\n            >\n              <PlusIcon className=\"h-5 w-5\" />\n              <span>Add User</span>\n            </button>\n            \n            {/* Discreet Bulk Actions Dropdown */}\n            <div className=\"relative bulk-actions-dropdown\">\n              <button\n                onClick={() => setShowBulkActions(!showBulkActions)}\n                className=\"btn btn-secondary flex items-center space-x-2 text-sm\"\n              >\n                <EllipsisVerticalIcon className=\"h-4 w-4\" />\n                <span>More</span>\n                <ChevronDownIcon className={`h-4 w-4 transition-transform ${showBulkActions ? 'rotate-180' : ''}`} />\n              </button>\n              \n              {/* Collapsible Bulk Actions Menu */}\n              {showBulkActions && (\n                <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10\">\n                  <div className=\"p-3\">\n                    <div className=\"text-xs font-medium text-gray-500 uppercase tracking-wide mb-3\">Bulk Actions</div>\n                    <div className=\"space-y-2\">\n                      <button\n                        onClick={() => {\n                          handleDeleteAllByType('student');\n                          setShowBulkActions(false);\n                        }}\n                        className=\"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors\"\n                        disabled={databaseCounts.student === 0}\n                      >\n                        <TrashIcon className=\"h-4 w-4\" />\n                        <span>Delete All Students ({databaseCounts.student})</span>\n                      </button>\n                      <button\n                        onClick={() => {\n                          handleDeleteAllByType('instructor');\n                          setShowBulkActions(false);\n                        }}\n                        className=\"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors\"\n                        disabled={databaseCounts.instructor === 0}\n                      >\n                        <TrashIcon className=\"h-4 w-4\" />\n                        <span>Delete All Instructors ({databaseCounts.instructor})</span>\n                      </button>\n                    </div>\n                    <div className=\"mt-3 pt-3 border-t border-gray-100\">\n                      <div className=\"text-xs text-gray-400\">\n                         These actions delete ALL users of the selected type from the entire database\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Multi-Select Mode Indicator */}\n      {showMultiSelect && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"flex-shrink-0\">\n              <CheckIcon className=\"h-5 w-5 text-blue-600\" />\n            </div>\n            <div>\n              <h3 className=\"text-sm font-medium text-blue-800\">Multi-Select Mode Active</h3>\n              <p className=\"text-sm text-blue-600\">\n                Select users by clicking the checkboxes, then use the bulk actions toolbar to perform operations on selected users.\n              </p>\n            </div>\n            <div className=\"flex-shrink-0\">\n              <button\n                onClick={toggleMultiSelect}\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n              >\n                Exit Multi-Select\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Search</label>\n            <div className=\"relative\">\n              <MagnifyingGlassIcon className=\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search users...\"\n                value={searchTerm}\n                onChange={(e) => {\n                  setSearchTerm(e.target.value);\n                  setCurrentPage(1); // Reset to first page when searching\n                }}\n                className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">User Type</label>\n            <select\n              value={filterType}\n              onChange={(e) => {\n                setFilterType(e.target.value);\n                setCurrentPage(1); // Reset to first page when filtering\n              }}\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"student\">Students</option>\n              <option value=\"instructor\">Instructors</option>\n              <option value=\"admin\">Administrators</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setCurrentPage(1); // Reset to first page when filtering\n              }}\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </div>\n\n          <div className=\"flex items-end\">\n            <button\n              onClick={() => {\n                setSearchTerm('');\n                setFilterType('all');\n                setFilterStatus('all');\n                setCurrentPage(1);\n              }}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n            >\n              Clear Filters\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Bulk Actions Toolbar */}\n      {showMultiSelect && selectedUsers.size > 0 && (\n        <div className=\"bg-blue-50 border-2 border-blue-200 rounded-xl p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm font-medium text-blue-600\">{selectedUsers.size}</span>\n                </div>\n                <span className=\"text-sm font-medium text-blue-900\">\n                  {selectedUsers.size} user{selectedUsers.size === 1 ? '' : 's'} selected\n                </span>\n              </div>\n              <button\n                onClick={() => {\n                  setSelectedUsers(new Set());\n                  setSelectAll(false);\n                }}\n                className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n              >\n                Clear selection\n              </button>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={handleBulkDelete}\n                disabled={selectedUsers.size === 0}\n                className=\"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <TrashIcon className=\"h-4 w-4 mr-2\" />\n                Delete Selected\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Users List */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">\n              Users ({users.length})\n            </h2>\n            {user?.role === 'admin' && (\n              <button\n                onClick={toggleMultiSelect}\n                className={`p-2 rounded-lg transition-all duration-200 border ${\n                  showMultiSelect \n                    ? 'bg-blue-500 text-white border-blue-500 hover:bg-blue-600 shadow-md' \n                    : 'text-gray-500 hover:text-gray-700 hover:bg-gray-100 border-gray-300 hover:border-gray-400'\n                }`}\n                title={showMultiSelect ? 'Exit Multi-Select Mode' : 'Enable Multi-Select Mode'}\n              >\n                <Squares2X2Icon className=\"h-5 w-5\" />\n              </button>\n            )}\n          </div>\n        </div>\n\n        {users.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <UserIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No users found</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              {searchTerm || filterType !== 'all' || filterStatus !== 'all'\n                ? 'Try adjusting your search or filter criteria.'\n                : 'Get started by creating a new user.'\n              }\n            </p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  {showMultiSelect && (\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectAll}\n                        onChange={handleSelectAll}\n                        className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                    </th>\n                  )}\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    User\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Type\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    ID\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    RFID\n                  </th>\n                  <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Fingerprint\n                  </th>\n                  {user?.role === 'admin' && (\n                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  )}\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {users.map((userData) => (\n                  <tr key={userData.USERID} className=\"hover:bg-gray-50\">\n                    {showMultiSelect && (\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedUsers.has(userData.USERID)}\n                          onChange={() => handleSelectUser(userData.USERID)}\n                          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                        />\n                      </td>\n                    )}\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-10 w-10\">\n                          <div className=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center\">\n                            {getUserTypeIcon(userData.USERTYPE)}\n                          </div>\n                        </div>\n                        <div className=\"ml-4\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {userData.FIRSTNAME} {userData.LASTNAME}\n                          </div>\n                          <div className=\"text-sm text-gray-500\">{userData.EMAIL}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getUserTypeColor(userData.USERTYPE)}`}>\n                        {userData.USERTYPE}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      <div>\n                        <div className=\"font-medium\">\n                          {userData.STUDENTID || userData.EMPLOYEEID || '-'}\n                        </div>\n                        {userData.YEARLEVEL && (\n                          <div className=\"text-xs text-gray-500\">Year {userData.YEARLEVEL}</div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      <div>\n                        {userData.RFIDTAG ? (\n                          <div className=\"text-blue-600 font-medium\">\n                            {userData.RFIDTAG}\n                          </div>\n                        ) : (\n                          <span className=\"text-gray-400\">-</span>\n                        )}\n                      </div>\n                    </td>\n                    \n                    {/* Fingerprint Status */}\n                    <td className=\"px-6 py-4 whitespace-nowrap text-center\">\n                      {userData.FINGERPRINT_ID ? (\n                        <div className=\"flex items-center justify-center\">\n                          <CheckIcon className=\"h-5 w-5 text-green-500\" />\n                        </div>\n                      ) : (\n                        <div className=\"flex items-center justify-center\">\n                          <span className=\"text-gray-400\">-</span>\n                        </div>\n                      )}\n                    </td>\n                    {user?.role === 'admin' && (\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex items-center justify-end space-x-2\">\n                          {(userData.USERTYPE === 'student' || userData.USERTYPE === 'instructor' || userData.USERTYPE === 'admin') && (\n                            <>\n                              <button\n                                onClick={() => handleAssignFingerprint(userData)}\n                                className=\"text-purple-600 hover:text-purple-900 transition-colors duration-200\"\n                                title=\"Assign Fingerprint\"\n                              >\n                                <FingerPrintIcon className=\"h-4 w-4\" />\n                              </button>\n                              <button\n                                onClick={() => handleOpenRfidModal(userData)}\n                                className=\"text-green-600 hover:text-green-900 transition-colors duration-200\"\n                                title=\"Assign RFID\"\n                              >\n                                <CreditCardIcon className=\"h-4 w-4\" />\n                              </button>\n                            </>\n                          )}\n                          <button\n                            onClick={() => handleEdit(userData)}\n                            className=\"text-blue-600 hover:text-blue-900 transition-colors duration-200\"\n                            title=\"Edit User\"\n                          >\n                            <PencilIcon className=\"h-4 w-4\" />\n                          </button>\n                          <button\n                            onClick={() => handleDelete(userData)}\n                            className=\"text-red-600 hover:text-red-900 transition-colors duration-200\"\n                            title=\"Delete User\"\n                          >\n                            <TrashIcon className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    )}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"px-6 py-4 border-t border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm text-gray-700\">\n                Page {currentPage} of {totalPages}\n              </div>\n              <div className=\"flex space-x-2\">\n                <button\n                  onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\n                  disabled={currentPage === 1}\n                  className=\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Previous\n                </button>\n                <button\n                  onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\n                  disabled={currentPage === totalPages}\n                  className=\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                {editingUser ? 'Edit User' : 'Add New User'}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setEditingUser(null);\n                  resetForm();\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    First Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.first_name}\n                    onChange={(e) => setFormData({ ...formData, first_name: e.target.value })}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Last Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.last_name}\n                    onChange={(e) => setFormData({ ...formData, last_name: e.target.value })}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Email *\n                </label>\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                />\n              </div>\n\n              {!editingUser && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Password *\n                  </label>\n                  <input\n                    type=\"password\"\n                    required={!editingUser}\n                    value={formData.password}\n                    onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  />\n                </div>\n              )}\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    User Type *\n                  </label>\n                  <select\n                    required\n                    value={formData.user_type}\n                    onChange={(e) => setFormData({ ...formData, user_type: e.target.value })}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  >\n                    <option value=\"student\">Student</option>\n                    <option value=\"instructor\">Instructor</option>\n                    <option value=\"admin\">Administrator</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Status\n                  </label>\n                  <select\n                    value={formData.status}\n                    onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  >\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                </div>\n              </div>\n\n              {formData.user_type === 'student' && (\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Student ID\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.student_id}\n                      onChange={(e) => setFormData({ ...formData, student_id: e.target.value })}\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Year Level\n                    </label>\n                    <select\n                      value={formData.year_level}\n                      onChange={(e) => setFormData({ ...formData, year_level: e.target.value })}\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                    >\n                      <option value=\"\">Select Year</option>\n                      <option value=\"1\">1st Year</option>\n                      <option value=\"2\">2nd Year</option>\n                      <option value=\"3\">3rd Year</option>\n                      <option value=\"4\">4th Year</option>\n                    </select>\n                  </div>\n                </div>\n              )}\n\n              {(formData.user_type === 'instructor' || formData.user_type === 'admin') && (\n                <div>\n                                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Faculty ID\n                </label>\n                  <input\n                    type=\"text\"\n                    value={formData.faculty_id}\n                    onChange={(e) => setFormData({ ...formData, faculty_id: e.target.value })}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  />\n                </div>\n              )}\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Department\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.department}\n                  onChange={(e) => setFormData({ ...formData, department: e.target.value })}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowModal(false);\n                    setEditingUser(null);\n                    resetForm();\n                  }}\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\n                >\n                  {editingUser ? 'Update' : 'Create'} User\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Upload Excel/CSV Modal */}\n      {showUploadModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Upload Excel/CSV File\n              </h3>\n              <button\n                onClick={resetUploadModal}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* Instructions */}\n              <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4\">\n                <h4 className=\"font-medium text-blue-800 mb-2\">Instructions:</h4>\n                <ul className=\"text-sm text-blue-700 space-y-1\">\n                  <li> Upload an Excel file (.xlsx, .xls) or CSV file</li>\n                  <li> The file must contain a sheet named \"SBO\"</li>\n                  <li> Required columns: \"SL#\", \"Student Name\", \"Subject/Major\", \"Year\"</li>\n                  <li> Student names can be: \"LASTNAME, FIRSTNAME\" or \"LASTNAME FIRSTNAME\"</li>\n                  <li> System processes rows with valid SL# numbers only</li>\n                  <li> Processing stops when SL# is missing or invalid</li>\n                  <li> Maximum file size: 10MB</li>\n                </ul>\n              </div>\n\n              {/* File Upload */}\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6\">\n                <div className=\"text-center\">\n                  <DocumentArrowUpIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                  <div className=\"mt-4\">\n                    <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                      <span className=\"mt-2 block text-sm font-medium text-gray-900\">\n                        {uploadFile ? uploadFile.name : 'Select a file to upload'}\n                      </span>\n                      <input\n                        id=\"file-upload\"\n                        name=\"file-upload\"\n                        type=\"file\"\n                        className=\"sr-only\"\n                        accept=\".xlsx,.xls,.csv\"\n                        onChange={handleFileSelect}\n                        disabled={uploading}\n                      />\n                      <span className=\"mt-1 block text-sm text-gray-500\">\n                        or drag and drop\n                      </span>\n                    </label>\n                  </div>\n                  <p className=\"mt-1 text-xs text-gray-500\">\n                    Excel (.xlsx, .xls) or CSV files up to 10MB\n                  </p>\n                </div>\n              </div>\n\n              {/* Preview Data */}\n              {showPreview && previewData && (\n                <div className=\"space-y-3\">\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4\">\n                    <h4 className=\"font-medium text-blue-800 mb-2\">Preview Summary:</h4>\n                    <div className=\"text-sm text-blue-700 space-y-1\">\n                      <p>Sheet found: <strong>{previewData.sheetName}</strong></p>\n                      <p>Total data rows available: {previewData.summary?.totalRows || 0}</p>\n                      <p>Valid students found: {previewData.summary?.previewRows || 0}</p>\n                      <p>Issues detected: {previewData.summary?.errors || 0}</p>\n                    </div>\n                    {previewData.headers && (\n                      <div className=\"mt-2 text-xs text-blue-600\">\n                        <p>Columns detected: {previewData.headers.studentNameCol}, {previewData.headers.subjectMajorCol}, {previewData.headers.yearCol}</p>\n                      </div>\n                    )}\n                  </div>\n\n                  {previewData.errors && previewData.errors.length > 0 && (\n                    <div className=\"bg-red-50 border border-red-200 rounded-md p-4 max-h-32 overflow-y-auto\">\n                      <h4 className=\"font-medium text-red-800 mb-2\">Issues Found:</h4>\n                      <ul className=\"text-sm text-red-700 space-y-1\">\n                        {previewData.errors.slice(0, 5).map((error, index) => (\n                          <li key={index}> {error}</li>\n                        ))}\n                        {previewData.errors.length > 5 && (\n                          <li className=\"text-red-600 font-medium\">\n                            ... and {previewData.errors.length - 5} more issues\n                          </li>\n                        )}\n                      </ul>\n                    </div>\n                  )}\n\n                  {previewData.previewUsers && previewData.previewUsers.length > 0 && (\n                    <div className=\"bg-gray-50 border border-gray-200 rounded-md p-4 max-h-64 overflow-y-auto\">\n                      <h4 className=\"font-medium text-gray-800 mb-2\">Data Preview (All {previewData.previewUsers.length} students found):</h4>\n                      <div className=\"overflow-x-auto\">\n                        <table className=\"min-w-full text-xs\">\n                          <thead className=\"bg-gray-100\">\n                            <tr>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">Row</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">SL#</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">Original Name</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">First Name</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">Last Name</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">Email</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">Subject/Major</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">Year</th>\n                              <th className=\"px-2 py-1 text-left font-medium text-gray-600\">Student ID</th>\n                            </tr>\n                          </thead>\n                          <tbody className=\"divide-y divide-gray-200\">\n                            {previewData.previewUsers.map((user, index) => (\n                              <tr key={index} className=\"hover:bg-gray-50\">\n                                <td className=\"px-2 py-1 text-gray-500\">{user.rowNumber}</td>\n                                <td className=\"px-2 py-1 text-blue-600 font-medium\">{user.slNumber}</td>\n                                <td className=\"px-2 py-1 text-gray-900\">{user.originalName}</td>\n                                <td className=\"px-2 py-1 text-gray-900\">{user.firstName}</td>\n                                <td className=\"px-2 py-1 text-gray-900\">{user.lastName}</td>\n                                <td className=\"px-2 py-1 text-gray-600\">{user.email}</td>\n                                <td className=\"px-2 py-1 text-gray-900\">{user.subjectMajor}</td>\n                                <td className=\"px-2 py-1 text-gray-900\">{user.yearLevel}</td>\n                                <td className=\"px-2 py-1 text-gray-600\">{user.studentId}</td>\n                              </tr>\n                            ))}\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Upload Results */}\n              {uploadResults && (\n                <div className=\"space-y-3\">\n                  <div className=\"bg-green-50 border border-green-200 rounded-md p-4\">\n                    <h4 className=\"font-medium text-green-800 mb-2\">Upload Complete!</h4>\n                    <div className=\"text-sm text-green-700 space-y-1\">\n                      <p>Total rows processed: {uploadResults.summary?.totalRows || 0}</p>\n                      <p>Users successfully imported: {uploadResults.summary?.insertedUsers || 0}</p>\n                      <p>Errors encountered: {uploadResults.summary?.errors || 0}</p>\n                    </div>\n                  </div>\n\n                  {uploadResults.errors && uploadResults.errors.length > 0 && (\n                    <div className=\"bg-red-50 border border-red-200 rounded-md p-4 max-h-40 overflow-y-auto\">\n                      <h4 className=\"font-medium text-red-800 mb-2\">Errors:</h4>\n                      <ul className=\"text-sm text-red-700 space-y-1\">\n                        {uploadResults.errors.slice(0, 10).map((error, index) => (\n                          <li key={index}> {error}</li>\n                        ))}\n                        {uploadResults.errors.length > 10 && (\n                          <li className=\"text-red-600 font-medium\">\n                            ... and {uploadResults.errors.length - 10} more errors\n                          </li>\n                        )}\n                      </ul>\n                    </div>\n                  )}\n\n                  {uploadResults.insertedUsers && uploadResults.insertedUsers.length > 0 && (\n                    <div className=\"bg-gray-50 border border-gray-200 rounded-md p-4 max-h-40 overflow-y-auto\">\n                      <h4 className=\"font-medium text-gray-800 mb-2\">Successfully Imported Users:</h4>\n                      <div className=\"text-sm text-gray-700 space-y-1\">\n                        {uploadResults.insertedUsers.slice(0, 5).map((user, index) => (\n                          <div key={index} className=\"flex justify-between\">\n                            <span>{user.name}</span>\n                            <span className=\"text-gray-500\">{user.subject} - Year {user.year}</span>\n                          </div>\n                        ))}\n                        {uploadResults.insertedUsers.length > 5 && (\n                          <p className=\"text-gray-600 font-medium\">\n                            ... and {uploadResults.insertedUsers.length - 5} more users\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Action Buttons */}\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={resetUploadModal}\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n                  disabled={uploading}\n                >\n                  {uploadResults ? 'Close' : 'Cancel'}\n                </button>\n                \n                {!showPreview && !uploadResults && (\n                  <button\n                    onClick={handleFilePreview}\n                    disabled={!uploadFile || uploading}\n                    className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {uploading ? (\n                      <div className=\"flex items-center\">\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                        Processing...\n                      </div>\n                    ) : (\n                      'Preview Data'\n                    )}\n                  </button>\n                )}\n\n                {showPreview && !uploadResults && (\n                  <>\n                    <button\n                      onClick={() => {\n                        setShowPreview(false);\n                        setPreviewData(null);\n                      }}\n                      className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n                      disabled={uploading}\n                    >\n                      Back to File Selection\n                    </button>\n                    <button\n                      onClick={handleConfirmUpload}\n                      disabled={uploading}\n                      className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {uploading ? (\n                        <div className=\"flex items-center\">\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                          Uploading...\n                        </div>\n                      ) : (\n                        'Confirm Upload'\n                      )}\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Fingerprint Assignment Modal */}\n      {showFingerprintModal && selectedUser && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Assign Fingerprint\n              </h3>\n              <button\n                onClick={() => {\n                  setShowFingerprintModal(false);\n                  setSelectedUser(null);\n                  setSelectedFingerprintId('');\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* User Info */}\n              <div className=\"bg-gray-50 border border-gray-200 rounded-md p-4\">\n                <h4 className=\"font-medium text-gray-800 mb-2\">\n                  {selectedUser.USERTYPE === 'instructor' ? 'Instructor' : selectedUser.USERTYPE === 'admin' ? 'Admin' : 'Student'} Information\n                </h4>\n                <div className=\"text-sm text-gray-700 space-y-1\">\n                  <p><strong>Name:</strong> {selectedUser.FIRSTNAME} {selectedUser.LASTNAME}</p>\n                  <p><strong>{selectedUser.USERTYPE === 'instructor' || selectedUser.USERTYPE === 'admin' ? 'Faculty ID:' : 'Student ID:'}</strong> {selectedUser.FACULTYID || selectedUser.STUDENTID}</p>\n                  <p><strong>Email:</strong> {selectedUser.EMAIL}</p>\n                  <p><strong>Department:</strong> {selectedUser.DEPARTMENT}</p>\n                  <p><strong>Role:</strong> {selectedUser.USERTYPE}</p>\n                </div>\n              </div>\n\n              {/* Fingerprint ID Selection */}\n              <div>\n                <label htmlFor=\"fingerprint-id\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Select Fingerprint ID (1-127)\n                </label>\n                <select\n                  id=\"fingerprint-id\"\n                  value={selectedFingerprintId}\n                  onChange={(e) => setSelectedFingerprintId(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  disabled={assigningFingerprint}\n                >\n                  <option value=\"\">Select a fingerprint ID...</option>\n                  {availableFingerprintIds.map(item => (\n                    <option key={item.id} value={item.id}>\n                      Fingerprint ID #{item.id} {item.assigned ? `(Currently: ${item.assignedTo.name} - ${item.assignedTo.id})` : '(Available)'}\n                    </option>\n                  ))}\n                </select>\n                <p className=\"mt-1 text-xs text-gray-500\">\n                  {availableFingerprintIds.filter(item => !item.assigned).length} available, {availableFingerprintIds.filter(item => item.assigned).length} assigned out of 127 total slots\n                </p>\n              </div>\n\n              {/* Instructions */}\n              <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4\">\n                <h4 className=\"font-medium text-blue-800 mb-2\">Instructions:</h4>\n                <ol className=\"text-sm text-blue-700 space-y-1 list-decimal list-inside\">\n                  <li>Select an available fingerprint ID from the dropdown</li>\n                  <li>Click \"Assign Fingerprint\" to save the assignment</li>\n                  <li>Use the Arduino Serial Monitor to enroll the fingerprint:</li>\n                  <li className=\"ml-4 text-xs font-mono bg-blue-100 p-1 rounded\">\n                    enroll {selectedFingerprintId || '[ID]'}\n                  </li>\n                  <li>Follow the prompts to scan the finger twice</li>\n                  {(selectedUser.USERTYPE === 'instructor' || selectedUser.USERTYPE === 'admin') && (\n                    <li className=\"text-green-700 font-medium\"> Instructors and Admins get automatic lock access when scanning</li>\n                  )}\n                </ol>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowFingerprintModal(false);\n                    setSelectedUser(null);\n                    setSelectedFingerprintId('');\n                  }}\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n                  disabled={assigningFingerprint}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleFingerprintAssignment}\n                  disabled={!selectedFingerprintId || assigningFingerprint}\n                  className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {assigningFingerprint ? (\n                    <div className=\"flex items-center\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      Assigning...\n                    </div>\n                  ) : (\n                    <>\n                      <FingerPrintIcon className=\"h-4 w-4 mr-2\" />\n                      Assign Fingerprint\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* RFID Assignment Modal */}\n      {showRfidModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  Assign RFID Card\n                </h3>\n                <button\n                  onClick={() => setShowRfidModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <XMarkIcon className=\"h-6 w-6\" />\n                </button>\n              </div>\n\n              {selectedUser && (\n                <div className=\"mb-4 p-3 bg-gray-50 rounded-lg\">\n                  <div className=\"text-sm font-medium text-gray-900\">\n                    {selectedUser.FIRSTNAME} {selectedUser.LASTNAME}\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    {selectedUser.USERTYPE === 'instructor' || selectedUser.USERTYPE === 'admin' \n                      ? (selectedUser.FACULTYID || 'No Faculty ID') \n                      : (selectedUser.STUDENTID || 'No Student ID')\n                    }  {selectedUser.EMAIL}\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    Role: {selectedUser.USERTYPE}\n                  </div>\n                  {selectedUser.RFIDTAG && (\n                    <div className=\"text-sm text-blue-600 mt-1\">\n                      Current RFID: {selectedUser.RFIDTAG}\n                    </div>\n                  )}\n                  {(selectedUser.USERTYPE === 'instructor' || selectedUser.USERTYPE === 'admin') && (\n                    <div className=\"text-sm text-green-600 mt-1\">\n                       RFID access will control solenoid lock\n                    </div>\n                  )}\n                </div>\n              )}\n\n              <div className=\"space-y-4\">\n                {/* Scan Mode */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Scan RFID Card\n                  </label>\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={handleStartRfidScan}\n                      disabled={rfidScanMode}\n                      className={`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${\n                        rfidScanMode\n                          ? 'bg-green-100 text-green-800 cursor-not-allowed'\n                          : 'bg-blue-600 text-white hover:bg-blue-700'\n                      }`}\n                    >\n                      {rfidScanMode ? (\n                        <div className=\"flex items-center justify-center\">\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600 mr-2\"></div>\n                          Scanning...\n                        </div>\n                      ) : (\n                        <>\n                          <CreditCardIcon className=\"h-4 w-4 mr-2 inline\" />\n                          Start Scan\n                        </>\n                      )}\n                    </button>\n                  </div>\n                  {rfidScanMode && (\n                    <div className=\"mt-2 text-sm text-green-600\">\n                       Scan mode active - scan your RFID card now!\n                    </div>\n                  )}\n                  {scannedRfidData && (\n                    <div className=\"mt-2 text-sm text-green-600\">\n                       Captured: {scannedRfidData}\n                    </div>\n                  )}\n                </div>\n\n                {/* Manual Input */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Or Enter Manually\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={manualRfidInput}\n                    onChange={(e) => setManualRfidInput(e.target.value)}\n                    placeholder=\"Enter RFID code manually\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  onClick={() => setShowRfidModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleAssignRfid}\n                  disabled={assigningRfid || (!scannedRfidData && !manualRfidInput.trim())}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n                >\n                  {assigningRfid ? (\n                    <div className=\"flex items-center\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      Assigning...\n                    </div>\n                  ) : (\n                    <>\n                      <CreditCardIcon className=\"h-4 w-4 mr-2 inline\" />\n                      Assign RFID\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Hidden input for RFID scanning */}\n      <input\n        id=\"rfid-scan-input\"\n        type=\"text\"\n        onKeyPress={handleRfidScanInput}\n        style={{\n          position: 'absolute',\n          left: '-9999px',\n          opacity: 0,\n          pointerEvents: 'none'\n        }}\n      />\n\n      {/* Modern Delete Confirmation Modal */}\n      {showDeleteModal && deleteItem && (\n        <div className=\"fixed inset-0 overflow-y-auto z-50\">\n          {/* Backdrop with blur and fade animation */}\n          <div className={`fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ${\n            modalAnimation === 'visible' ? 'opacity-100' : 'opacity-0'\n          }`}>\n            <div className=\"flex min-h-full items-center justify-center p-4 text-center sm:p-0\">\n              {/* Modal container with scale and fade animation */}\n              <div className={`relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ${\n                modalAnimation === 'visible' \n                  ? 'scale-100 opacity-100 translate-y-0' \n                  : 'scale-95 opacity-0 translate-y-4'\n              }`}>\n                {/* Gradient header */}\n                <div className=\"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8\">\n                  <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse\">\n                    <ExclamationTriangleIcon className=\"h-8 w-8 text-red-600\" />\n                  </div>\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                    {deleteItem.title}\n                  </h3>\n                  <p className=\"text-sm text-gray-600 leading-relaxed\">\n                    {deleteItem.message}\n                  </p>\n                </div>\n                \n                {/* Action buttons */}\n                <div className=\"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setModalAnimation('hidden');\n                      setTimeout(() => {\n                        setShowDeleteModal(false);\n                        setDeleteItem(null);\n                      }, 300);\n                    }}\n                    disabled={isDeleting}\n                    className=\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={confirmDelete}\n                    disabled={isDeleting}\n                    className=\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {isDeleting ? (\n                      <>\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                        Deleting...\n                      </>\n                    ) : (\n                      <>\n                        <TrashIcon className=\"h-4 w-4 mr-2\" />\n                        {deleteItem.confirmText}\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Bulk Delete Confirmation Modal */}\n      {showBulkDeleteModal && (\n        <div className=\"fixed inset-0 overflow-y-auto z-50\">\n          {/* Backdrop with blur and fade animation */}\n          <div className={`fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ${\n            modalAnimation === 'visible' ? 'opacity-100' : 'opacity-0'\n          }`}>\n            <div className=\"flex min-h-full items-center justify-center p-4 text-center sm:p-0\">\n              {/* Modal container with scale and fade animation */}\n              <div className={`relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ${\n                modalAnimation === 'visible' \n                  ? 'scale-100 opacity-100 translate-y-0' \n                  : 'scale-95 opacity-0 translate-y-4'\n              }`}>\n                {/* Gradient header */}\n                <div className=\"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8\">\n                  <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse\">\n                    <ExclamationTriangleIcon className=\"h-8 w-8 text-red-600\" />\n                  </div>\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                    Bulk Delete Users\n                  </h3>\n                  <p className=\"text-sm text-gray-600 leading-relaxed\">\n                    Are you sure you want to delete <strong>{selectedUsers.size} users</strong>? This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments.\n                  </p>\n                </div>\n                \n                {/* Action buttons */}\n                <div className=\"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setModalAnimation('hidden');\n                      setTimeout(() => {\n                        setShowBulkDeleteModal(false);\n                      }, 300);\n                    }}\n                    disabled={isBulkDeleting}\n                    className=\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={confirmBulkDelete}\n                    disabled={isBulkDeleting}\n                    className=\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {isBulkDeleting ? (\n                      <>\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                        Deleting...\n                      </>\n                    ) : (\n                      <>\n                        <TrashIcon className=\"h-4 w-4 mr-2\" />\n                        Delete {selectedUsers.size} Users\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete All by Type - Double Confirmation Modal */}\n      {showDeleteAllModal && (\n        <div className=\"fixed inset-0 overflow-y-auto z-50\">\n          {/* Backdrop with blur and fade animation */}\n          <div className={`fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ${\n            modalAnimation === 'visible' ? 'opacity-100' : 'opacity-0'\n          }`}>\n            <div className=\"flex min-h-full items-center justify-center p-4 text-center sm:p-0\">\n              {/* Modal container with scale and fade animation */}\n              <div className={`relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ${\n                modalAnimation === 'visible' \n                  ? 'scale-100 opacity-100 translate-y-0' \n                  : 'scale-95 opacity-0 translate-y-4'\n              }`}>\n                {/* Gradient header */}\n                <div className=\"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8\">\n                  <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse\">\n                    <ExclamationTriangleIcon className=\"h-8 w-8 text-red-600\" />\n                  </div>\n                  \n                  {!showSecondConfirmation ? (\n                    <>\n                      <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                        Delete All {deleteAllType === 'student' ? 'Students' : 'Instructors'}\n                      </h3>\n                      <p className=\"text-sm text-gray-600 leading-relaxed\">\n                        This will delete <strong>ALL {deleteAllType}s</strong> from the entire database, not just the current page. \n                        This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments.\n                      </p>\n                      <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\n                        <p className=\"text-sm text-yellow-800 font-medium\">\n                           This is a destructive action that will permanently delete ALL {deleteAllType}s from the database.\n                        </p>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                        Final Confirmation Required\n                      </h3>\n                      <p className=\"text-sm text-gray-600 leading-relaxed\">\n                        You are about to permanently delete <strong>ALL {deleteAllType}s</strong> from the entire database. \n                        This action cannot be undone.\n                      </p>\n                      <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                        <p className=\"text-sm text-red-800 font-medium\">\n                           FINAL WARNING: This will delete ALL {deleteAllType}s from the database permanently!\n                        </p>\n                      </div>\n                    </>\n                  )}\n                </div>\n                \n                {/* Action buttons */}\n                <div className=\"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0\">\n                  <button\n                    type=\"button\"\n                    onClick={cancelDeleteAll}\n                    disabled={isDeletingAll}\n                    className=\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Cancel\n                  </button>\n                  \n                  {!showSecondConfirmation ? (\n                    <button\n                      type=\"button\"\n                      onClick={confirmDeleteAllFirst}\n                      disabled={isDeletingAll}\n                      className=\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Continue to Final Confirmation\n                    </button>\n                  ) : (\n                    <button\n                      type=\"button\"\n                      onClick={confirmDeleteAllFinal}\n                      disabled={isDeletingAll}\n                      className=\"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {isDeletingAll ? (\n                        <>\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                          Deleting All {deleteAllType === 'student' ? 'Students' : 'Instructors'}...\n                        </>\n                      ) : (\n                        <>\n                          <TrashIcon className=\"h-4 w-4 mr-2\" />\n                          DELETE ALL {deleteAllType === 'student' ? 'STUDENTS' : 'INSTRUCTORS'}\n                        </>\n                      )}\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Users;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}