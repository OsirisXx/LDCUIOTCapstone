{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Harley\\\\Desktop\\\\Capstone\\\\attendanceiot\\\\IOTCapstone\\\\frontend\\\\src\\\\pages\\\\Sessions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PlayIcon, StopIcon, ClockIcon, UserGroupIcon, FingerPrintIcon, IdentificationIcon, CheckCircleIcon, XCircleIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Sessions() {\n  _s();\n  const [sessions, setSessions] = useState([]);\n  const [schedules, setSchedules] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showScanModal, setShowScanModal] = useState(false);\n  const [scanType, setScanType] = useState('fingerprint'); // 'fingerprint' or 'rfid'\n  const [selectedInstructor, setSelectedInstructor] = useState('');\n  const [selectedRoom, setSelectedRoom] = useState('');\n  const [scanLocation, setScanLocation] = useState('outside'); // 'inside' or 'outside'\n\n  const rooms = [{\n    id: 1,\n    room_number: 'A101',\n    room_name: 'Computer Lab 1'\n  }, {\n    id: 2,\n    room_number: 'B201',\n    room_name: 'Mathematics Room'\n  }, {\n    id: 3,\n    room_number: 'C301',\n    room_name: 'English Classroom'\n  }];\n  useEffect(() => {\n    fetchData();\n    // Set up real-time updates\n    const interval = setInterval(fetchData, 30000); // Update every 30 seconds\n    return () => clearInterval(interval);\n  }, []);\n  const fetchData = async () => {\n    try {\n      // Mock data for demonstration\n      const mockSessions = [{\n        id: 1,\n        course_code: 'CS101',\n        course_name: 'Introduction to Computer Science',\n        instructor_name: 'Dr. John Smith',\n        room_number: 'A101',\n        room_name: 'Computer Lab 1',\n        start_time: '08:00',\n        end_time: '10:00',\n        session_date: new Date().toISOString().split('T')[0],\n        status: 'active',\n        created_at: new Date(Date.now() - 3600000).toISOString(),\n        // 1 hour ago\n        attendance_count: 15\n      }, {\n        id: 2,\n        course_code: 'MATH101',\n        course_name: 'Calculus I',\n        instructor_name: 'Prof. Jane Doe',\n        room_number: 'B201',\n        room_name: 'Mathematics Room',\n        start_time: '10:00',\n        end_time: '12:00',\n        session_date: new Date().toISOString().split('T')[0],\n        status: 'scheduled',\n        created_at: null,\n        attendance_count: 0\n      }];\n      const mockSchedules = [{\n        id: 1,\n        course_code: 'CS101',\n        course_name: 'Introduction to Computer Science',\n        instructor_name: 'Dr. John Smith',\n        instructor_id: 1,\n        room_number: 'A101',\n        room_name: 'Computer Lab 1',\n        room_id: 1,\n        day_of_week: 'Monday',\n        start_time: '08:00',\n        end_time: '10:00'\n      }, {\n        id: 2,\n        course_code: 'MATH101',\n        course_name: 'Calculus I',\n        instructor_name: 'Prof. Jane Doe',\n        instructor_id: 2,\n        room_number: 'B201',\n        room_name: 'Mathematics Room',\n        room_id: 2,\n        day_of_week: 'Tuesday',\n        start_time: '10:00',\n        end_time: '12:00'\n      }];\n      const mockInstructors = [{\n        id: 1,\n        FIRSTNAME: 'John',\n        LASTNAME: 'Smith',\n        EMPLOYEEID: 'E001'\n      }, {\n        id: 2,\n        FIRSTNAME: 'Jane',\n        LASTNAME: 'Doe',\n        EMPLOYEEID: 'E002'\n      }, {\n        id: 3,\n        FIRSTNAME: 'Bob',\n        LASTNAME: 'Johnson',\n        EMPLOYEEID: 'E003'\n      }];\n      setSessions(mockSessions);\n      setSchedules(mockSchedules);\n      setInstructors(mockInstructors);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error('Failed to load session data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleScanSimulation = async () => {\n    if (!selectedInstructor || !selectedRoom) {\n      toast.error('Please select instructor and room');\n      return;\n    }\n    try {\n      // Find instructor and room details\n      const instructor = instructors.find(i => i.id == selectedInstructor);\n      const room = rooms.find(r => r.id == selectedRoom);\n      if (!instructor || !room) {\n        toast.error('Invalid instructor or room selection');\n        return;\n      }\n\n      // Simulate scan delay\n      toast.loading('Processing scan...', {\n        duration: 2000\n      });\n      setTimeout(async () => {\n        try {\n          // Find today's schedule for this instructor and room\n          const today = new Date().toLocaleDateString('en-US', {\n            weekday: 'long'\n          });\n          const schedule = schedules.find(s => s.instructor_id == selectedInstructor && s.room_id == selectedRoom && s.day_of_week === today);\n          if (!schedule) {\n            toast.error(`No schedule found for ${instructor.FIRSTNAME} ${instructor.LASTNAME} in ${room.room_number} on ${today}`);\n            return;\n          }\n\n          // Check if session already exists\n          const existingSession = sessions.find(s => s.course_code === schedule.course_code && s.session_date === new Date().toISOString().split('T')[0]);\n          if (scanLocation === 'outside') {\n            if (existingSession && existingSession.status === 'active') {\n              // End session\n              const updatedSessions = sessions.map(s => s.id === existingSession.id ? {\n                ...s,\n                status: 'completed',\n                ended_at: new Date().toISOString()\n              } : s);\n              setSessions(updatedSessions);\n              toast.success(`âœ… Session ended successfully!\\nðŸšª Door locked\\nðŸ“š ${schedule.course_code} session completed`);\n            } else {\n              // Start new session\n              const newSession = {\n                id: Date.now(),\n                course_code: schedule.course_code,\n                course_name: schedule.course_name,\n                instructor_name: schedule.instructor_name,\n                room_number: schedule.room_number,\n                room_name: schedule.room_name,\n                start_time: schedule.start_time,\n                end_time: schedule.end_time,\n                session_date: new Date().toISOString().split('T')[0],\n                status: 'active',\n                created_at: new Date().toISOString(),\n                attendance_count: 0\n              };\n              setSessions([...sessions.filter(s => s.id !== (existingSession === null || existingSession === void 0 ? void 0 : existingSession.id)), newSession]);\n              toast.success(`âœ… Session started successfully!\\nðŸšª Door unlocked\\nðŸ“š ${schedule.course_code} is now active\\nâ° Session: ${schedule.start_time} - ${schedule.end_time}`);\n            }\n          } else {\n            // Inside scan - can only end session\n            if (existingSession && existingSession.status === 'active') {\n              const updatedSessions = sessions.map(s => s.id === existingSession.id ? {\n                ...s,\n                status: 'completed',\n                ended_at: new Date().toISOString()\n              } : s);\n              setSessions(updatedSessions);\n              toast.success(`âœ… Session ended from inside\\nðŸ“š ${schedule.course_code} session completed`);\n            } else {\n              toast.error('No active session to end');\n            }\n          }\n\n          // Reset form\n          setSelectedInstructor('');\n          setSelectedRoom('');\n          setScanLocation('outside');\n          setShowScanModal(false);\n        } catch (error) {\n          console.error('Error processing scan:', error);\n          toast.error('Failed to process scan');\n        }\n      }, 2000);\n    } catch (error) {\n      console.error('Error in scan simulation:', error);\n      toast.error('Scan simulation failed');\n    }\n  };\n  const getSessionStatus = session => {\n    if (session.status === 'active') {\n      return {\n        color: 'bg-green-100 text-green-800',\n        icon: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }, this),\n        text: 'Active'\n      };\n    } else if (session.status === 'completed') {\n      return {\n        color: 'bg-gray-100 text-gray-800',\n        icon: /*#__PURE__*/_jsxDEV(XCircleIcon, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 15\n        }, this),\n        text: 'Completed'\n      };\n    } else {\n      return {\n        color: 'bg-yellow-100 text-yellow-800',\n        icon: /*#__PURE__*/_jsxDEV(ExclamationTriangleIcon, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this),\n        text: 'Scheduled'\n      };\n    }\n  };\n  const formatTime = time => {\n    const [hours, minutes] = time.split(':');\n    const hour = parseInt(hours);\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const displayHour = hour % 12 || 12;\n    return `${displayHour}:${minutes} ${ampm}`;\n  };\n  const formatDateTime = dateString => {\n    if (!dateString) return 'Not started';\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Session Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Monitor active class sessions and simulate device scans\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setScanType('fingerprint');\n            setShowScanModal(true);\n          },\n          className: \"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\",\n          children: [/*#__PURE__*/_jsxDEV(FingerPrintIcon, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), \"Simulate Fingerprint\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setScanType('rfid');\n            setShowScanModal(true);\n          },\n          className: \"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700\",\n          children: [/*#__PURE__*/_jsxDEV(IdentificationIcon, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), \"Simulate RFID\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900 mb-4\",\n          children: [\"Today's Sessions (\", new Date().toLocaleDateString(), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 gap-4\",\n          children: sessions.map(session => {\n            const status = getSessionStatus(session);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border border-gray-200 rounded-lg p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"text-lg font-semibold text-gray-900\",\n                      children: [session.course_code, \" - \", session.course_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${status.color}`,\n                      children: [status.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-1\",\n                        children: status.text\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 grid grid-cols-1 sm:grid-cols-4 gap-4 text-sm text-gray-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Instructor:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 328,\n                        columnNumber: 27\n                      }, this), \" \", session.instructor_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Room:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 27\n                      }, this), \" \", session.room_number, \" - \", session.room_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Time:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 27\n                      }, this), \" \", formatTime(session.start_time), \" - \", formatTime(session.end_time)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Attendance:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 337,\n                        columnNumber: 27\n                      }, this), \" \", session.attendance_count, \" students\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 23\n                  }, this), session.created_at && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 text-xs text-gray-500\",\n                    children: [\"Started: \", formatDateTime(session.created_at), session.ended_at && ` â€¢ Ended: ${formatDateTime(session.ended_at)}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: session.status === 'active' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-green-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-2 h-2 bg-green-600 rounded-full animate-pulse mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      children: \"Live\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)\n            }, session.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), sessions.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n            className: \"mx-auto h-12 w-12 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mt-2 text-sm font-medium text-gray-900\",\n            children: \"No sessions today\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-gray-500\",\n            children: \"Sessions will appear here when instructors scan in.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900 mb-4\",\n          children: \"Today's Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n          children: schedules.map(schedule => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-gray-900\",\n              children: schedule.course_code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: schedule.course_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 21\n                }, this), formatTime(schedule.start_time), \" - \", formatTime(schedule.end_time)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Instructor:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this), \" \", schedule.instructor_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Room:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this), \" \", schedule.room_number, \" - \", schedule.room_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)]\n          }, schedule.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), showScanModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-4\",\n              children: [scanType === 'fingerprint' ? /*#__PURE__*/_jsxDEV(FingerPrintIcon, {\n                className: \"h-8 w-8 text-blue-600 mr-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(IdentificationIcon, {\n                className: \"h-8 w-8 text-green-600 mr-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-900\",\n                children: [\"Simulate \", scanType === 'fingerprint' ? 'Fingerprint' : 'RFID', \" Scan\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Instructor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedInstructor,\n                  onChange: e => setSelectedInstructor(e.target.value),\n                  className: \"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Instructor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 23\n                  }, this), instructors.map(instructor => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: instructor.id,\n                    children: [instructor.FIRSTNAME, \" \", instructor.LASTNAME, \" (\", instructor.EMPLOYEEID, \")\"]\n                  }, instructor.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedRoom,\n                  onChange: e => setSelectedRoom(e.target.value),\n                  className: \"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Room\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 23\n                  }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: room.id,\n                    children: [room.room_number, \" - \", room.room_name]\n                  }, room.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Scan Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: scanLocation,\n                  onChange: e => setScanLocation(e.target.value),\n                  className: \"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"outside\",\n                    children: \"Outside Room (Start/End Session + Door Control)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"inside\",\n                    children: \"Inside Room (End Session Only)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 p-4 rounded-md\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-blue-800\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"How it works:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"mt-2 list-disc list-inside space-y-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Outside Scan:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 474,\n                        columnNumber: 29\n                      }, this), \" Starts new session OR ends active session + controls door lock\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Inside Scan:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 475,\n                        columnNumber: 29\n                      }, this), \" Ends active session only (no door control)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Sessions are matched to today's schedule for the instructor and room\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Door unlocks when session starts, locks when session ends\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 477,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleScanSimulation,\n              className: \"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm\",\n              children: \"Simulate Scan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowScanModal(false);\n                setSelectedInstructor('');\n                setSelectedRoom('');\n                setScanLocation('outside');\n              },\n              className: \"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, this);\n}\n_s(Sessions, \"o8rQXv6BZTlppkU5SJs/0gLjo2k=\");\n_c = Sessions;\nexport default Sessions;\nvar _c;\n$RefreshReg$(_c, \"Sessions\");","map":{"version":3,"names":["React","useState","useEffect","PlayIcon","StopIcon","ClockIcon","UserGroupIcon","FingerPrintIcon","IdentificationIcon","CheckCircleIcon","XCircleIcon","ExclamationTriangleIcon","axios","toast","jsxDEV","_jsxDEV","Sessions","_s","sessions","setSessions","schedules","setSchedules","instructors","setInstructors","loading","setLoading","showScanModal","setShowScanModal","scanType","setScanType","selectedInstructor","setSelectedInstructor","selectedRoom","setSelectedRoom","scanLocation","setScanLocation","rooms","id","room_number","room_name","fetchData","interval","setInterval","clearInterval","mockSessions","course_code","course_name","instructor_name","start_time","end_time","session_date","Date","toISOString","split","status","created_at","now","attendance_count","mockSchedules","instructor_id","room_id","day_of_week","mockInstructors","FIRSTNAME","LASTNAME","EMPLOYEEID","error","console","handleScanSimulation","instructor","find","i","room","r","duration","setTimeout","today","toLocaleDateString","weekday","schedule","s","existingSession","updatedSessions","map","ended_at","success","newSession","filter","getSessionStatus","session","color","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","text","formatTime","time","hours","minutes","hour","parseInt","ampm","displayHour","formatDateTime","dateString","date","toLocaleString","children","onClick","length","value","onChange","e","target","required","_c","$RefreshReg$"],"sources":["C:/Users/Harley/Desktop/Capstone/attendanceiot/IOTCapstone/frontend/src/pages/Sessions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  PlayIcon, \r\n  StopIcon, \r\n  ClockIcon, \r\n  UserGroupIcon, \r\n  FingerPrintIcon,\r\n  IdentificationIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ExclamationTriangleIcon\r\n} from '@heroicons/react/24/outline';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nfunction Sessions() {\r\n  const [sessions, setSessions] = useState([]);\r\n  const [schedules, setSchedules] = useState([]);\r\n  const [instructors, setInstructors] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showScanModal, setShowScanModal] = useState(false);\r\n  const [scanType, setScanType] = useState('fingerprint'); // 'fingerprint' or 'rfid'\r\n  const [selectedInstructor, setSelectedInstructor] = useState('');\r\n  const [selectedRoom, setSelectedRoom] = useState('');\r\n  const [scanLocation, setScanLocation] = useState('outside'); // 'inside' or 'outside'\r\n\r\n  const rooms = [\r\n    { id: 1, room_number: 'A101', room_name: 'Computer Lab 1' },\r\n    { id: 2, room_number: 'B201', room_name: 'Mathematics Room' },\r\n    { id: 3, room_number: 'C301', room_name: 'English Classroom' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    // Set up real-time updates\r\n    const interval = setInterval(fetchData, 30000); // Update every 30 seconds\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      // Mock data for demonstration\r\n      const mockSessions = [\r\n        {\r\n          id: 1,\r\n          course_code: 'CS101',\r\n          course_name: 'Introduction to Computer Science',\r\n          instructor_name: 'Dr. John Smith',\r\n          room_number: 'A101',\r\n          room_name: 'Computer Lab 1',\r\n          start_time: '08:00',\r\n          end_time: '10:00',\r\n          session_date: new Date().toISOString().split('T')[0],\r\n          status: 'active',\r\n          created_at: new Date(Date.now() - 3600000).toISOString(), // 1 hour ago\r\n          attendance_count: 15\r\n        },\r\n        {\r\n          id: 2,\r\n          course_code: 'MATH101',\r\n          course_name: 'Calculus I',\r\n          instructor_name: 'Prof. Jane Doe',\r\n          room_number: 'B201',\r\n          room_name: 'Mathematics Room',\r\n          start_time: '10:00',\r\n          end_time: '12:00',\r\n          session_date: new Date().toISOString().split('T')[0],\r\n          status: 'scheduled',\r\n          created_at: null,\r\n          attendance_count: 0\r\n        }\r\n      ];\r\n\r\n      const mockSchedules = [\r\n        {\r\n          id: 1,\r\n          course_code: 'CS101',\r\n          course_name: 'Introduction to Computer Science',\r\n          instructor_name: 'Dr. John Smith',\r\n          instructor_id: 1,\r\n          room_number: 'A101',\r\n          room_name: 'Computer Lab 1',\r\n          room_id: 1,\r\n          day_of_week: 'Monday',\r\n          start_time: '08:00',\r\n          end_time: '10:00'\r\n        },\r\n        {\r\n          id: 2,\r\n          course_code: 'MATH101',\r\n          course_name: 'Calculus I',\r\n          instructor_name: 'Prof. Jane Doe',\r\n          instructor_id: 2,\r\n          room_number: 'B201',\r\n          room_name: 'Mathematics Room',\r\n          room_id: 2,\r\n          day_of_week: 'Tuesday',\r\n          start_time: '10:00',\r\n          end_time: '12:00'\r\n        }\r\n      ];\r\n\r\n      const mockInstructors = [\r\n        { id: 1, FIRSTNAME: 'John', LASTNAME: 'Smith', EMPLOYEEID: 'E001' },\r\n        { id: 2, FIRSTNAME: 'Jane', LASTNAME: 'Doe', EMPLOYEEID: 'E002' },\r\n        { id: 3, FIRSTNAME: 'Bob', LASTNAME: 'Johnson', EMPLOYEEID: 'E003' }\r\n      ];\r\n\r\n      setSessions(mockSessions);\r\n      setSchedules(mockSchedules);\r\n      setInstructors(mockInstructors);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      toast.error('Failed to load session data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleScanSimulation = async () => {\r\n    if (!selectedInstructor || !selectedRoom) {\r\n      toast.error('Please select instructor and room');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Find instructor and room details\r\n      const instructor = instructors.find(i => i.id == selectedInstructor);\r\n      const room = rooms.find(r => r.id == selectedRoom);\r\n      \r\n      if (!instructor || !room) {\r\n        toast.error('Invalid instructor or room selection');\r\n        return;\r\n      }\r\n\r\n      // Simulate scan delay\r\n      toast.loading('Processing scan...', { duration: 2000 });\r\n\r\n      setTimeout(async () => {\r\n        try {\r\n          // Find today's schedule for this instructor and room\r\n          const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });\r\n          const schedule = schedules.find(s => \r\n            s.instructor_id == selectedInstructor && \r\n            s.room_id == selectedRoom &&\r\n            s.day_of_week === today\r\n          );\r\n\r\n          if (!schedule) {\r\n            toast.error(`No schedule found for ${instructor.FIRSTNAME} ${instructor.LASTNAME} in ${room.room_number} on ${today}`);\r\n            return;\r\n          }\r\n\r\n          // Check if session already exists\r\n          const existingSession = sessions.find(s => \r\n            s.course_code === schedule.course_code && \r\n            s.session_date === new Date().toISOString().split('T')[0]\r\n          );\r\n\r\n          if (scanLocation === 'outside') {\r\n            if (existingSession && existingSession.status === 'active') {\r\n              // End session\r\n              const updatedSessions = sessions.map(s => \r\n                s.id === existingSession.id \r\n                  ? { ...s, status: 'completed', ended_at: new Date().toISOString() }\r\n                  : s\r\n              );\r\n              setSessions(updatedSessions);\r\n              \r\n              toast.success(`âœ… Session ended successfully!\\nðŸšª Door locked\\nðŸ“š ${schedule.course_code} session completed`);\r\n            } else {\r\n              // Start new session\r\n              const newSession = {\r\n                id: Date.now(),\r\n                course_code: schedule.course_code,\r\n                course_name: schedule.course_name,\r\n                instructor_name: schedule.instructor_name,\r\n                room_number: schedule.room_number,\r\n                room_name: schedule.room_name,\r\n                start_time: schedule.start_time,\r\n                end_time: schedule.end_time,\r\n                session_date: new Date().toISOString().split('T')[0],\r\n                status: 'active',\r\n                created_at: new Date().toISOString(),\r\n                attendance_count: 0\r\n              };\r\n\r\n              setSessions([...sessions.filter(s => s.id !== existingSession?.id), newSession]);\r\n              \r\n              toast.success(`âœ… Session started successfully!\\nðŸšª Door unlocked\\nðŸ“š ${schedule.course_code} is now active\\nâ° Session: ${schedule.start_time} - ${schedule.end_time}`);\r\n            }\r\n          } else {\r\n            // Inside scan - can only end session\r\n            if (existingSession && existingSession.status === 'active') {\r\n              const updatedSessions = sessions.map(s => \r\n                s.id === existingSession.id \r\n                  ? { ...s, status: 'completed', ended_at: new Date().toISOString() }\r\n                  : s\r\n              );\r\n              setSessions(updatedSessions);\r\n              \r\n              toast.success(`âœ… Session ended from inside\\nðŸ“š ${schedule.course_code} session completed`);\r\n            } else {\r\n              toast.error('No active session to end');\r\n            }\r\n          }\r\n\r\n          // Reset form\r\n          setSelectedInstructor('');\r\n          setSelectedRoom('');\r\n          setScanLocation('outside');\r\n          setShowScanModal(false);\r\n\r\n        } catch (error) {\r\n          console.error('Error processing scan:', error);\r\n          toast.error('Failed to process scan');\r\n        }\r\n      }, 2000);\r\n\r\n    } catch (error) {\r\n      console.error('Error in scan simulation:', error);\r\n      toast.error('Scan simulation failed');\r\n    }\r\n  };\r\n\r\n  const getSessionStatus = (session) => {\r\n    if (session.status === 'active') {\r\n      return {\r\n        color: 'bg-green-100 text-green-800',\r\n        icon: <CheckCircleIcon className=\"h-4 w-4\" />,\r\n        text: 'Active'\r\n      };\r\n    } else if (session.status === 'completed') {\r\n      return {\r\n        color: 'bg-gray-100 text-gray-800',\r\n        icon: <XCircleIcon className=\"h-4 w-4\" />,\r\n        text: 'Completed'\r\n      };\r\n    } else {\r\n      return {\r\n        color: 'bg-yellow-100 text-yellow-800',\r\n        icon: <ExclamationTriangleIcon className=\"h-4 w-4\" />,\r\n        text: 'Scheduled'\r\n      };\r\n    }\r\n  };\r\n\r\n  const formatTime = (time) => {\r\n    const [hours, minutes] = time.split(':');\r\n    const hour = parseInt(hours);\r\n    const ampm = hour >= 12 ? 'PM' : 'AM';\r\n    const displayHour = hour % 12 || 12;\r\n    return `${displayHour}:${minutes} ${ampm}`;\r\n  };\r\n\r\n  const formatDateTime = (dateString) => {\r\n    if (!dateString) return 'Not started';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Session Management</h1>\r\n          <p className=\"text-gray-600\">Monitor active class sessions and simulate device scans</p>\r\n        </div>\r\n        <div className=\"flex space-x-3\">\r\n          <button\r\n            onClick={() => {\r\n              setScanType('fingerprint');\r\n              setShowScanModal(true);\r\n            }}\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\r\n          >\r\n            <FingerPrintIcon className=\"h-4 w-4 mr-2\" />\r\n            Simulate Fingerprint\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setScanType('rfid');\r\n              setShowScanModal(true);\r\n            }}\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700\"\r\n          >\r\n            <IdentificationIcon className=\"h-4 w-4 mr-2\" />\r\n            Simulate RFID\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Active Sessions */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\r\n            Today's Sessions ({new Date().toLocaleDateString()})\r\n          </h3>\r\n          \r\n          <div className=\"grid grid-cols-1 gap-4\">\r\n            {sessions.map((session) => {\r\n              const status = getSessionStatus(session);\r\n              return (\r\n                <div key={session.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <h4 className=\"text-lg font-semibold text-gray-900\">\r\n                          {session.course_code} - {session.course_name}\r\n                        </h4>\r\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${status.color}`}>\r\n                          {status.icon}\r\n                          <span className=\"ml-1\">{status.text}</span>\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      <div className=\"mt-2 grid grid-cols-1 sm:grid-cols-4 gap-4 text-sm text-gray-600\">\r\n                        <div>\r\n                          <strong>Instructor:</strong> {session.instructor_name}\r\n                        </div>\r\n                        <div>\r\n                          <strong>Room:</strong> {session.room_number} - {session.room_name}\r\n                        </div>\r\n                        <div>\r\n                          <strong>Time:</strong> {formatTime(session.start_time)} - {formatTime(session.end_time)}\r\n                        </div>\r\n                        <div>\r\n                          <strong>Attendance:</strong> {session.attendance_count} students\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      {session.created_at && (\r\n                        <div className=\"mt-2 text-xs text-gray-500\">\r\n                          Started: {formatDateTime(session.created_at)}\r\n                          {session.ended_at && ` â€¢ Ended: ${formatDateTime(session.ended_at)}`}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {session.status === 'active' && (\r\n                        <div className=\"flex items-center text-green-600\">\r\n                          <div className=\"w-2 h-2 bg-green-600 rounded-full animate-pulse mr-2\"></div>\r\n                          <span className=\"text-sm font-medium\">Live</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {sessions.length === 0 && (\r\n            <div className=\"text-center py-8\">\r\n              <ClockIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No sessions today</h3>\r\n              <p className=\"mt-1 text-sm text-gray-500\">Sessions will appear here when instructors scan in.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Upcoming Schedules */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\r\n            Today's Schedule\r\n          </h3>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {schedules.map((schedule) => (\r\n              <div key={schedule.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                <h4 className=\"font-semibold text-gray-900\">{schedule.course_code}</h4>\r\n                <p className=\"text-sm text-gray-600 mb-2\">{schedule.course_name}</p>\r\n                \r\n                <div className=\"space-y-1 text-sm text-gray-600\">\r\n                  <div className=\"flex items-center\">\r\n                    <ClockIcon className=\"h-4 w-4 mr-2\" />\r\n                    {formatTime(schedule.start_time)} - {formatTime(schedule.end_time)}\r\n                  </div>\r\n                  <div>\r\n                    <strong>Instructor:</strong> {schedule.instructor_name}\r\n                  </div>\r\n                  <div>\r\n                    <strong>Room:</strong> {schedule.room_number} - {schedule.room_name}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Scan Simulation Modal */}\r\n      {showScanModal && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"></div>\r\n            \r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"flex items-center mb-4\">\r\n                  {scanType === 'fingerprint' ? (\r\n                    <FingerPrintIcon className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n                  ) : (\r\n                    <IdentificationIcon className=\"h-8 w-8 text-green-600 mr-3\" />\r\n                  )}\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">\r\n                    Simulate {scanType === 'fingerprint' ? 'Fingerprint' : 'RFID'} Scan\r\n                  </h3>\r\n                </div>\r\n                \r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Instructor</label>\r\n                    <select\r\n                      value={selectedInstructor}\r\n                      onChange={(e) => setSelectedInstructor(e.target.value)}\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select Instructor</option>\r\n                      {instructors.map(instructor => (\r\n                        <option key={instructor.id} value={instructor.id}>\r\n                          {instructor.FIRSTNAME} {instructor.LASTNAME} ({instructor.EMPLOYEEID})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Room</label>\r\n                    <select\r\n                      value={selectedRoom}\r\n                      onChange={(e) => setSelectedRoom(e.target.value)}\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select Room</option>\r\n                      {rooms.map(room => (\r\n                        <option key={room.id} value={room.id}>\r\n                          {room.room_number} - {room.room_name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Scan Location</label>\r\n                    <select\r\n                      value={scanLocation}\r\n                      onChange={(e) => setScanLocation(e.target.value)}\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                    >\r\n                      <option value=\"outside\">Outside Room (Start/End Session + Door Control)</option>\r\n                      <option value=\"inside\">Inside Room (End Session Only)</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"bg-blue-50 p-4 rounded-md\">\r\n                    <div className=\"text-sm text-blue-800\">\r\n                      <strong>How it works:</strong>\r\n                      <ul className=\"mt-2 list-disc list-inside space-y-1\">\r\n                        <li><strong>Outside Scan:</strong> Starts new session OR ends active session + controls door lock</li>\r\n                        <li><strong>Inside Scan:</strong> Ends active session only (no door control)</li>\r\n                        <li>Sessions are matched to today's schedule for the instructor and room</li>\r\n                        <li>Door unlocks when session starts, locks when session ends</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                <button\r\n                  onClick={handleScanSimulation}\r\n                  className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm\"\r\n                >\r\n                  Simulate Scan\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowScanModal(false);\r\n                    setSelectedInstructor('');\r\n                    setSelectedRoom('');\r\n                    setScanLocation('outside');\r\n                  }}\r\n                  className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sessions; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}