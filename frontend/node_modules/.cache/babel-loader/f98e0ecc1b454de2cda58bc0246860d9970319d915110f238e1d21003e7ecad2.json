{"ast":null,"code":"import _objectSpread from\"C:/Users/Harley/Desktop/Capstone/attendanceiot/IOTCapstone/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{ChartBarIcon,CalendarDaysIcon,ClockIcon,UserGroupIcon,MagnifyingGlassIcon,FunnelIcon,DocumentArrowDownIcon,EyeIcon,CheckCircleIcon,ExclamationTriangleIcon,XCircleIcon,AcademicCapIcon,MapPinIcon,BuildingOfficeIcon,BookOpenIcon,ChevronRightIcon,ChevronDownIcon,PresentationChartBarIcon,CalendarIcon,UsersIcon}from'@heroicons/react/24/outline';import toast from'react-hot-toast';import axios from'axios';// Set up axios defaults\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.baseURL='http://localhost:5000';function Reports(){const[reports,setReports]=useState([]);const[loading,setLoading]=useState(true);const[filters,setFilters]=useState({startDate:'',endDate:'',subjectId:'',academicYear:'',semester:'',status:'',search:''});const[subjects,setSubjects]=useState([]);const[academicYears,setAcademicYears]=useState([]);const[semesters,setSemesters]=useState([]);const[statistics,setStatistics]=useState(null);const[showFilters,setShowFilters]=useState(false);const[selectedReport,setSelectedReport]=useState(null);const[showDetailModal,setShowDetailModal]=useState(false);const[groupedReports,setGroupedReports]=useState({});const[groupBy,setGroupBy]=useState('subject');// 'subject', 'date', 'session'\nconst[expandedCards,setExpandedCards]=useState(new Set());const[viewMode,setViewMode]=useState('cards');// 'cards', 'table'\nconst[selectedGroup,setSelectedGroup]=useState(null);const[showGroupDetails,setShowGroupDetails]=useState(false);const[showClearDialog,setShowClearDialog]=useState(false);const[clearing,setClearing]=useState(false);useEffect(()=>{fetchInitialData();},[]);useEffect(()=>{fetchReports();},[filters]);useEffect(()=>{if(reports.length>0){groupReports(reports);}},[groupBy,reports]);const fetchInitialData=async()=>{try{const token=localStorage.getItem('token');if(!token){toast.error('Please login to access reports');return;}const headers={Authorization:\"Bearer \".concat(token)};// Fetch subjects, academic years, and semesters in parallel\nconst[subjectsRes,academicYearsRes,semestersRes]=await Promise.all([axios.get('/api/subjects',{headers}),axios.get('/api/logs/attendance/stats',{headers}),axios.get('/api/logs/attendance/stats',{headers})]);setSubjects(subjectsRes.data.subjects||[]);// Extract unique academic years and semesters from the data\nconst uniqueYears=[...new Set((subjectsRes.data.subjects||[]).map(s=>s.ACADEMICYEAR).filter(Boolean))];const uniqueSemesters=[...new Set((subjectsRes.data.subjects||[]).map(s=>s.SEMESTER).filter(Boolean))];setAcademicYears(uniqueYears);setSemesters(uniqueSemesters);}catch(error){console.error('Error fetching initial data:',error);toast.error('Failed to load initial data');}};const fetchReports=async()=>{try{setLoading(true);const token=localStorage.getItem('token');const headers={Authorization:\"Bearer \".concat(token)};// For now, use the basic endpoint without complex filtering\nconst response=await axios.get(\"/api/logs/attendance\",{headers});let reports=response.data.logs||[];// Apply client-side filtering for now\nif(filters.search){const searchLower=filters.search.toLowerCase();reports=reports.filter(report=>{var _report$FIRSTNAME,_report$LASTNAME,_report$STUDENTID,_report$SUBJECTCODE,_report$SUBJECTNAME;return((_report$FIRSTNAME=report.FIRSTNAME)===null||_report$FIRSTNAME===void 0?void 0:_report$FIRSTNAME.toLowerCase().includes(searchLower))||((_report$LASTNAME=report.LASTNAME)===null||_report$LASTNAME===void 0?void 0:_report$LASTNAME.toLowerCase().includes(searchLower))||((_report$STUDENTID=report.STUDENTID)===null||_report$STUDENTID===void 0?void 0:_report$STUDENTID.toLowerCase().includes(searchLower))||((_report$SUBJECTCODE=report.SUBJECTCODE)===null||_report$SUBJECTCODE===void 0?void 0:_report$SUBJECTCODE.toLowerCase().includes(searchLower))||((_report$SUBJECTNAME=report.SUBJECTNAME)===null||_report$SUBJECTNAME===void 0?void 0:_report$SUBJECTNAME.toLowerCase().includes(searchLower));});}if(filters.status){reports=reports.filter(report=>report.STATUS===filters.status);}if(filters.startDate){reports=reports.filter(report=>{const reportDate=new Date(report.SCANDATETIME).toISOString().split('T')[0];return reportDate>=filters.startDate;});}if(filters.endDate){reports=reports.filter(report=>{const reportDate=new Date(report.SCANDATETIME).toISOString().split('T')[0];return reportDate<=filters.endDate;});}setReports(reports);// Group reports based on selected grouping\ngroupReports(reports);// Calculate statistics\nconst stats={totalStudents:new Set(reports.map(r=>r.USERID||r.STUDENTID)).size,presentCount:reports.filter(r=>r.STATUS==='Present').length,lateCount:reports.filter(r=>r.STATUS==='Late').length,absentCount:reports.filter(r=>r.STATUS==='Absent').length};setStatistics(stats);}catch(error){var _error$response;console.error('Error fetching reports:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){toast.error('Session expired. Please login again.');localStorage.removeItem('token');window.location.href='/login';}else{toast.error('Failed to load reports');}}finally{setLoading(false);}};const groupReports=reports=>{const grouped={};reports.forEach(report=>{let key;let title;let subtitle;switch(groupBy){case'subject':key=\"\".concat(report.SUBJECTCODE,\"-\").concat(report.SUBJECTNAME);title=\"\".concat(report.SUBJECTCODE,\" - \").concat(report.SUBJECTNAME);subtitle=\"\".concat(report.ACADEMICYEAR,\" \\u2022 \").concat(report.SEMESTER);break;case'date':const date=new Date(report.SCANDATETIME).toISOString().split('T')[0];key=date;title=new Date(date).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});subtitle=\"\".concat(reports.filter(r=>new Date(r.SCANDATETIME).toISOString().split('T')[0]===date).length,\" records\");break;case'session':key=\"\".concat(report.SUBJECTCODE,\"-\").concat(report.DAYOFWEEK,\"-\").concat(report.STARTTIME);title=\"\".concat(report.SUBJECTCODE,\" - \").concat(report.DAYOFWEEK);subtitle=\"\".concat(formatTime(report.STARTTIME),\" - \").concat(formatTime(report.ENDTIME),\" \\u2022 \").concat(report.ROOMNUMBER);break;default:key='all';title='All Reports';subtitle=\"\".concat(reports.length,\" records\");}if(!grouped[key]){grouped[key]={title,subtitle,reports:[],stats:{total:0,present:0,late:0,absent:0}};}grouped[key].reports.push(report);grouped[key].stats.total++;if(report.STATUS==='Present')grouped[key].stats.present++;else if(report.STATUS==='Late')grouped[key].stats.late++;else if(report.STATUS==='Absent')grouped[key].stats.absent++;});setGroupedReports(grouped);};const handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};const toggleCardExpansion=cardKey=>{setExpandedCards(prev=>{const newSet=new Set(prev);if(newSet.has(cardKey)){newSet.delete(cardKey);}else{newSet.add(cardKey);}return newSet;});};const viewGroupDetails=(groupKey,groupData)=>{setSelectedGroup(_objectSpread({key:groupKey},groupData));setShowGroupDetails(true);};const backToMainView=()=>{setShowGroupDetails(false);setSelectedGroup(null);};const clearGroupAttendanceRecords=async()=>{try{setClearing(true);const token=localStorage.getItem('token');const headers={Authorization:\"Bearer \".concat(token)};// Get the attendance IDs for this specific group\nconst attendanceIds=selectedGroup.reports.map(report=>report.ATTENDANCEID);console.log('Attempting to clear group records:',{attendanceIds,count:attendanceIds.length,endpoint:'/api/logs/attendance/clear-group'});const response=await axios.delete('/api/logs/attendance/clear-group',{headers,data:{attendanceIds}});if(response.data.success){toast.success(\"\".concat(response.data.affectedRows,\" attendance records have been cleared successfully!\"));// Refresh the reports data\nawait fetchReports();setShowClearDialog(false);// Go back to main view since the group is now empty\nbackToMainView();}else{toast.error('Failed to clear attendance records');}}catch(error){var _error$response2;console.error('Error clearing attendance records:',error);if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===401){toast.error('Session expired. Please login again.');localStorage.removeItem('token');window.location.href='/login';}else{toast.error('Failed to clear attendance records. Please try again.');}}finally{setClearing(false);}};const clearFilters=()=>{setFilters({startDate:'',endDate:'',subjectId:'',academicYear:'',semester:'',status:'',search:''});};const exportReports=async()=>{try{// Export the currently filtered reports\nconst exportData={reports:reports,statistics:statistics,filters:filters,exportDate:new Date().toISOString(),totalRecords:reports.length};const dataStr=JSON.stringify(exportData,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=window.URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download=\"attendance-reports-\".concat(new Date().toISOString().split('T')[0],\".json\");document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);toast.success('Reports exported successfully!');}catch(error){console.error('Error exporting reports:',error);toast.error('Failed to export reports');}};const getStatusIcon=status=>{switch(status===null||status===void 0?void 0:status.toLowerCase()){case'present':return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-green-500\"});case'late':return/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-yellow-500\"});case'absent':return/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5 text-red-500\"});default:return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-gray-500\"});}};const getStatusColor=status=>{switch(status===null||status===void 0?void 0:status.toLowerCase()){case'present':return'bg-green-100 text-green-800';case'late':return'bg-yellow-100 text-yellow-800';case'absent':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};const formatDateTime=dateTime=>{if(!dateTime)return'N/A';const date=new Date(dateTime);return date.toLocaleString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const formatTime=time=>{if(!time)return'';const[hours,minutes]=time.split(':');const hour=parseInt(hours);const ampm=hour>=12?'PM':'AM';const displayHour=hour%12||12;return\"\".concat(displayHour,\":\").concat(minutes,\" \").concat(ampm);};const viewReportDetails=report=>{setSelectedReport(report);setShowDetailModal(true);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}// Show detailed group view\nif(showGroupDetails&&selectedGroup){return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:backToMainView,className:\"text-blue-600 hover:text-blue-800 flex items-center\",children:[/*#__PURE__*/_jsx(ChevronRightIcon,{className:\"h-4 w-4 mr-1 rotate-180\"}),\"Back to Reports\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 font-medium\",children:selectedGroup.title})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:selectedGroup.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:selectedGroup.subtitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>exportReports(),className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700\",children:[/*#__PURE__*/_jsx(DocumentArrowDownIcon,{className:\"h-4 w-4 mr-2\"}),\"Export Group\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowClearDialog(true),className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4 mr-2\"}),\"Clear Group Records\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-8 w-8 text-green-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Present\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:selectedGroup.stats.present})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-8 w-8 text-yellow-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Late\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:selectedGroup.stats.late})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-8 w-8 text-red-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Absent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:selectedGroup.stats.absent})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-8 w-8 text-blue-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:selectedGroup.stats.total})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Attendance Records\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[selectedGroup.reports.length,\" record\",selectedGroup.reports.length!==1?'s':'',\" found\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Method\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:selectedGroup.reports.map(report=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-5 w-5 text-blue-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[report.FIRSTNAME,\" \",report.LASTNAME]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"ID: \",report.STUDENTID||'N/A']})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:formatDateTime(report.SCANDATETIME)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:report.AUTHMETHOD||'Fingerprint'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[getStatusIcon(report.STATUS),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getStatusColor(report.STATUS)),children:report.STATUS||'Unknown'})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:report.AUTHMETHOD||'Fingerprint'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-900\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-4 w-4 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:report.ROOMNUMBER||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:report.ROOMNAME||''})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>viewReportDetails(report),className:\"text-blue-600 hover:text-blue-900 flex items-center\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4 mr-1\"}),\"View Details\"]})})]},report.ATTENDANCEID))})]})})]}),showClearDialog&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-6 w-6 text-red-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mt-4\",children:\"Clear Group Attendance Records\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 px-7 py-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"This action will permanently delete \",selectedGroup.reports.length,\" attendance record\",selectedGroup.reports.length!==1?'s':'',\" for \",/*#__PURE__*/_jsx(\"strong\",{children:selectedGroup.title}),\".\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 font-medium mt-2\",children:\"This action cannot be undone. Are you sure you want to proceed?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowClearDialog(false),className:\"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 text-sm font-medium\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearGroupAttendanceRecords,disabled:clearing,className:\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed\",children:clearing?'Clearing...':'Yes, Clear Group Records'})]})]})})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Attendance Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"View attendance logs for each class schedule with comprehensive filtering\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(FunnelIcon,{className:\"h-4 w-4 mr-2\"}),showFilters?'Hide Filters':'Show Filters']}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportReports,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700\",children:[/*#__PURE__*/_jsx(DocumentArrowDownIcon,{className:\"h-4 w-4 mr-2\"}),\"Export Reports\"]})]})]}),statistics&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-8 w-8 text-blue-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Total Students\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:statistics.totalStudents||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-8 w-8 text-green-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Present\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:statistics.presentCount||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-8 w-8 text-yellow-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Late\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:statistics.lateCount||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-8 w-8 text-red-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Absent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:statistics.absentCount||0})]})]})})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Filter Reports\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.startDate,onChange:e=>handleFilterChange('startDate',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.endDate,onChange:e=>handleFilterChange('endDate',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Subject\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.subjectId,onChange:e=>handleFilterChange('subjectId',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Subjects\"}),subjects.map(subject=>/*#__PURE__*/_jsxs(\"option\",{value:subject.SUBJECTID,children:[subject.SUBJECTCODE,\" - \",subject.SUBJECTNAME]},subject.SUBJECTID))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Academic Year\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.academicYear,onChange:e=>handleFilterChange('academicYear',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Years\"}),academicYears.map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Semester\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.semester,onChange:e=>handleFilterChange('semester',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Semesters\"}),semesters.map(semester=>/*#__PURE__*/_jsx(\"option\",{value:semester,children:semester},semester))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Present\",children:\"Present\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Late\",children:\"Late\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Absent\",children:\"Absent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name, student ID...\",value:filters.search,onChange:e=>handleFilterChange('search',e.target.value),className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Clear Filters\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Attendance Reports\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[reports.length,\" report\",reports.length!==1?'s':'',\" found \\u2022 \",Object.keys(groupedReports).length,\" group\",Object.keys(groupedReports).length!==1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Group by:\"}),/*#__PURE__*/_jsxs(\"select\",{value:groupBy,onChange:e=>setGroupBy(e.target.value),className:\"border border-gray-300 rounded-md px-3 py-1 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"subject\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"session\",children:\"Session\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"View:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border border-gray-300 rounded-md\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('cards'),className:\"px-3 py-1 text-sm \".concat(viewMode==='cards'?'bg-blue-600 text-white':'bg-white text-gray-700'),children:\"Cards\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('table'),className:\"px-3 py-1 text-sm \".concat(viewMode==='table'?'bg-blue-600 text-white':'bg-white text-gray-700'),children:\"Table\"})]})]})]})]})}),reports.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 bg-white rounded-lg shadow border border-gray-200\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No reports found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Try adjusting your filters or check if there are any attendance records.\"})]}):viewMode==='cards'?/*#__PURE__*//* Card View */_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:Object.entries(groupedReports).map(_ref=>{let[key,group]=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1\",children:group.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:group.subtitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:group.stats.present}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Present\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-600\",children:group.stats.late}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Late\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-red-600\",children:group.stats.absent}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Absent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:group.stats.total}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Total\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>viewGroupDetails(key,group),className:\"ml-4 p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5\"})})]})})},key);})}):/*#__PURE__*//* Table View */_jsx(\"div\",{className:\"bg-white rounded-lg shadow border border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Subject & Schedule\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:reports.map(report=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-5 w-5 text-blue-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[report.FIRSTNAME,\" \",report.LASTNAME]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"ID: \",report.STUDENTID||'N/A']})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:report.SUBJECTCODE}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:report.SUBJECTNAME}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[report.DAYOFWEEK,\" \\u2022 \",formatTime(report.STARTTIME),\" - \",formatTime(report.ENDTIME)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[report.ACADEMICYEAR,\" \\u2022 \",report.SEMESTER]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:formatDateTime(report.SCANDATETIME)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:report.AUTHMETHOD||'Fingerprint'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[getStatusIcon(report.STATUS),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getStatusColor(report.STATUS)),children:report.STATUS||'Unknown'})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-900\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-4 w-4 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:report.ROOMNUMBER||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:report.ROOMNAME||''})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>viewReportDetails(report),className:\"text-blue-600 hover:text-blue-900 flex items-center\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4 mr-1\"}),\"View Details\"]})})]},report.ATTENDANCEID))})]})})}),showDetailModal&&selectedReport&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Report Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetailModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-3\",children:\"Student Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Name:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:[selectedReport.FIRSTNAME,\" \",selectedReport.LASTNAME]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Student ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:selectedReport.STUDENTID||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getStatusColor(selectedReport.STATUS)),children:selectedReport.STATUS||'Unknown'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-3\",children:\"Schedule Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Subject:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:[selectedReport.SUBJECTCODE,\" - \",selectedReport.SUBJECTNAME]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Day:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:selectedReport.DAYOFWEEK})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Time:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:[formatTime(selectedReport.STARTTIME),\" - \",formatTime(selectedReport.ENDTIME)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Room:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:[selectedReport.ROOMNUMBER,\" - \",selectedReport.ROOMNAME]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-3\",children:\"Attendance Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Scan Time:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:formatDateTime(selectedReport.SCANDATETIME)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Authentication Method:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:selectedReport.AUTHMETHOD||'Fingerprint'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Location:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:selectedReport.LOCATION||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Academic Period:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:[selectedReport.ACADEMICYEAR,\" \\u2022 \",selectedReport.SEMESTER]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-3\",children:\"Additional Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Attendance ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900 font-mono text-xs\",children:selectedReport.ATTENDANCEID})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Schedule ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900 font-mono text-xs\",children:selectedReport.SCHEDULEID||'N/A'})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetailModal(false),className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Close\"})})]})})})]});}export default Reports;","map":{"version":3,"names":["React","useState","useEffect","ChartBarIcon","CalendarDaysIcon","ClockIcon","UserGroupIcon","MagnifyingGlassIcon","FunnelIcon","DocumentArrowDownIcon","EyeIcon","CheckCircleIcon","ExclamationTriangleIcon","XCircleIcon","AcademicCapIcon","MapPinIcon","BuildingOfficeIcon","BookOpenIcon","ChevronRightIcon","ChevronDownIcon","PresentationChartBarIcon","CalendarIcon","UsersIcon","toast","axios","jsx","_jsx","jsxs","_jsxs","defaults","baseURL","Reports","reports","setReports","loading","setLoading","filters","setFilters","startDate","endDate","subjectId","academicYear","semester","status","search","subjects","setSubjects","academicYears","setAcademicYears","semesters","setSemesters","statistics","setStatistics","showFilters","setShowFilters","selectedReport","setSelectedReport","showDetailModal","setShowDetailModal","groupedReports","setGroupedReports","groupBy","setGroupBy","expandedCards","setExpandedCards","Set","viewMode","setViewMode","selectedGroup","setSelectedGroup","showGroupDetails","setShowGroupDetails","showClearDialog","setShowClearDialog","clearing","setClearing","fetchInitialData","fetchReports","length","groupReports","token","localStorage","getItem","error","headers","Authorization","concat","subjectsRes","academicYearsRes","semestersRes","Promise","all","get","data","uniqueYears","map","s","ACADEMICYEAR","filter","Boolean","uniqueSemesters","SEMESTER","console","response","logs","searchLower","toLowerCase","report","_report$FIRSTNAME","_report$LASTNAME","_report$STUDENTID","_report$SUBJECTCODE","_report$SUBJECTNAME","FIRSTNAME","includes","LASTNAME","STUDENTID","SUBJECTCODE","SUBJECTNAME","STATUS","reportDate","Date","SCANDATETIME","toISOString","split","stats","totalStudents","r","USERID","size","presentCount","lateCount","absentCount","_error$response","removeItem","window","location","href","grouped","forEach","key","title","subtitle","date","toLocaleDateString","weekday","year","month","day","DAYOFWEEK","STARTTIME","formatTime","ENDTIME","ROOMNUMBER","total","present","late","absent","push","handleFilterChange","value","prev","_objectSpread","toggleCardExpansion","cardKey","newSet","has","delete","add","viewGroupDetails","groupKey","groupData","backToMainView","clearGroupAttendanceRecords","attendanceIds","ATTENDANCEID","log","count","endpoint","success","affectedRows","_error$response2","clearFilters","exportReports","exportData","exportDate","totalRecords","dataStr","JSON","stringify","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL","getStatusIcon","className","getStatusColor","formatDateTime","dateTime","toLocaleString","hour","minute","time","hours","minutes","parseInt","ampm","displayHour","viewReportDetails","children","onClick","AUTHMETHOD","ROOMNAME","disabled","onChange","e","target","subject","SUBJECTID","placeholder","Object","keys","entries","_ref","group","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","LOCATION","SCHEDULEID"],"sources":["C:/Users/Harley/Desktop/Capstone/attendanceiot/IOTCapstone/frontend/src/pages/Reports.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  ChartBarIcon,\r\n  CalendarDaysIcon,\r\n  ClockIcon,\r\n  UserGroupIcon,\r\n  MagnifyingGlassIcon,\r\n  FunnelIcon,\r\n  DocumentArrowDownIcon,\r\n  EyeIcon,\r\n  CheckCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  XCircleIcon,\r\n  AcademicCapIcon,\r\n  MapPinIcon,\r\n  BuildingOfficeIcon,\r\n  BookOpenIcon,\r\n  ChevronRightIcon,\r\n  ChevronDownIcon,\r\n  PresentationChartBarIcon,\r\n  CalendarIcon,\r\n  UsersIcon\r\n} from '@heroicons/react/24/outline';\r\nimport toast from 'react-hot-toast';\r\nimport axios from 'axios';\r\n\r\n// Set up axios defaults\r\naxios.defaults.baseURL = 'http://localhost:5000';\r\n\r\nfunction Reports() {\r\n  const [reports, setReports] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    subjectId: '',\r\n    academicYear: '',\r\n    semester: '',\r\n    status: '',\r\n    search: ''\r\n  });\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [academicYears, setAcademicYears] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [statistics, setStatistics] = useState(null);\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [groupedReports, setGroupedReports] = useState({});\r\n  const [groupBy, setGroupBy] = useState('subject'); // 'subject', 'date', 'session'\r\n  const [expandedCards, setExpandedCards] = useState(new Set());\r\n  const [viewMode, setViewMode] = useState('cards'); // 'cards', 'table'\r\n  const [selectedGroup, setSelectedGroup] = useState(null);\r\n  const [showGroupDetails, setShowGroupDetails] = useState(false);\r\n  const [showClearDialog, setShowClearDialog] = useState(false);\r\n  const [clearing, setClearing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchInitialData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n  }, [filters]);\r\n\r\n  useEffect(() => {\r\n    if (reports.length > 0) {\r\n      groupReports(reports);\r\n    }\r\n  }, [groupBy, reports]);\r\n\r\n  const fetchInitialData = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        toast.error('Please login to access reports');\r\n        return;\r\n      }\r\n\r\n      const headers = { Authorization: `Bearer ${token}` };\r\n\r\n      // Fetch subjects, academic years, and semesters in parallel\r\n      const [subjectsRes, academicYearsRes, semestersRes] = await Promise.all([\r\n        axios.get('/api/subjects', { headers }),\r\n        axios.get('/api/logs/attendance/stats', { headers }),\r\n        axios.get('/api/logs/attendance/stats', { headers })\r\n      ]);\r\n\r\n      setSubjects(subjectsRes.data.subjects || []);\r\n      \r\n      // Extract unique academic years and semesters from the data\r\n      const uniqueYears = [...new Set((subjectsRes.data.subjects || []).map(s => s.ACADEMICYEAR).filter(Boolean))];\r\n      const uniqueSemesters = [...new Set((subjectsRes.data.subjects || []).map(s => s.SEMESTER).filter(Boolean))];\r\n      \r\n      setAcademicYears(uniqueYears);\r\n      setSemesters(uniqueSemesters);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching initial data:', error);\r\n      toast.error('Failed to load initial data');\r\n    }\r\n  };\r\n\r\n  const fetchReports = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const headers = { Authorization: `Bearer ${token}` };\r\n\r\n      // For now, use the basic endpoint without complex filtering\r\n      const response = await axios.get(`/api/logs/attendance`, { headers });\r\n      let reports = response.data.logs || [];\r\n      \r\n      // Apply client-side filtering for now\r\n      if (filters.search) {\r\n        const searchLower = filters.search.toLowerCase();\r\n        reports = reports.filter(report => \r\n          report.FIRSTNAME?.toLowerCase().includes(searchLower) ||\r\n          report.LASTNAME?.toLowerCase().includes(searchLower) ||\r\n          report.STUDENTID?.toLowerCase().includes(searchLower) ||\r\n          report.SUBJECTCODE?.toLowerCase().includes(searchLower) ||\r\n          report.SUBJECTNAME?.toLowerCase().includes(searchLower)\r\n        );\r\n      }\r\n      \r\n      if (filters.status) {\r\n        reports = reports.filter(report => report.STATUS === filters.status);\r\n      }\r\n      \r\n      if (filters.startDate) {\r\n        reports = reports.filter(report => {\r\n          const reportDate = new Date(report.SCANDATETIME).toISOString().split('T')[0];\r\n          return reportDate >= filters.startDate;\r\n        });\r\n      }\r\n      \r\n      if (filters.endDate) {\r\n        reports = reports.filter(report => {\r\n          const reportDate = new Date(report.SCANDATETIME).toISOString().split('T')[0];\r\n          return reportDate <= filters.endDate;\r\n        });\r\n      }\r\n\r\n      setReports(reports);\r\n      \r\n      // Group reports based on selected grouping\r\n      groupReports(reports);\r\n      \r\n      // Calculate statistics\r\n      const stats = {\r\n        totalStudents: new Set(reports.map(r => r.USERID || r.STUDENTID)).size,\r\n        presentCount: reports.filter(r => r.STATUS === 'Present').length,\r\n        lateCount: reports.filter(r => r.STATUS === 'Late').length,\r\n        absentCount: reports.filter(r => r.STATUS === 'Absent').length\r\n      };\r\n      setStatistics(stats);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching reports:', error);\r\n      if (error.response?.status === 401) {\r\n        toast.error('Session expired. Please login again.');\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n      } else {\r\n        toast.error('Failed to load reports');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const groupReports = (reports) => {\r\n    const grouped = {};\r\n    \r\n    reports.forEach(report => {\r\n      let key;\r\n      let title;\r\n      let subtitle;\r\n      \r\n      switch (groupBy) {\r\n        case 'subject':\r\n          key = `${report.SUBJECTCODE}-${report.SUBJECTNAME}`;\r\n          title = `${report.SUBJECTCODE} - ${report.SUBJECTNAME}`;\r\n          subtitle = `${report.ACADEMICYEAR}  ${report.SEMESTER}`;\r\n          break;\r\n        case 'date':\r\n          const date = new Date(report.SCANDATETIME).toISOString().split('T')[0];\r\n          key = date;\r\n          title = new Date(date).toLocaleDateString('en-US', { \r\n            weekday: 'long', \r\n            year: 'numeric', \r\n            month: 'long', \r\n            day: 'numeric' \r\n          });\r\n          subtitle = `${reports.filter(r => new Date(r.SCANDATETIME).toISOString().split('T')[0] === date).length} records`;\r\n          break;\r\n        case 'session':\r\n          key = `${report.SUBJECTCODE}-${report.DAYOFWEEK}-${report.STARTTIME}`;\r\n          title = `${report.SUBJECTCODE} - ${report.DAYOFWEEK}`;\r\n          subtitle = `${formatTime(report.STARTTIME)} - ${formatTime(report.ENDTIME)}  ${report.ROOMNUMBER}`;\r\n          break;\r\n        default:\r\n          key = 'all';\r\n          title = 'All Reports';\r\n          subtitle = `${reports.length} records`;\r\n      }\r\n      \r\n      if (!grouped[key]) {\r\n        grouped[key] = {\r\n          title,\r\n          subtitle,\r\n          reports: [],\r\n          stats: {\r\n            total: 0,\r\n            present: 0,\r\n            late: 0,\r\n            absent: 0\r\n          }\r\n        };\r\n      }\r\n      \r\n      grouped[key].reports.push(report);\r\n      grouped[key].stats.total++;\r\n      if (report.STATUS === 'Present') grouped[key].stats.present++;\r\n      else if (report.STATUS === 'Late') grouped[key].stats.late++;\r\n      else if (report.STATUS === 'Absent') grouped[key].stats.absent++;\r\n    });\r\n    \r\n    setGroupedReports(grouped);\r\n  };\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n  };\r\n\r\n  const toggleCardExpansion = (cardKey) => {\r\n    setExpandedCards(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(cardKey)) {\r\n        newSet.delete(cardKey);\r\n      } else {\r\n        newSet.add(cardKey);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const viewGroupDetails = (groupKey, groupData) => {\r\n    setSelectedGroup({ key: groupKey, ...groupData });\r\n    setShowGroupDetails(true);\r\n  };\r\n\r\n  const backToMainView = () => {\r\n    setShowGroupDetails(false);\r\n    setSelectedGroup(null);\r\n  };\r\n\r\n  const clearGroupAttendanceRecords = async () => {\r\n    try {\r\n      setClearing(true);\r\n      const token = localStorage.getItem('token');\r\n      const headers = { Authorization: `Bearer ${token}` };\r\n\r\n      // Get the attendance IDs for this specific group\r\n      const attendanceIds = selectedGroup.reports.map(report => report.ATTENDANCEID);\r\n      \r\n      console.log('Attempting to clear group records:', {\r\n        attendanceIds,\r\n        count: attendanceIds.length,\r\n        endpoint: '/api/logs/attendance/clear-group'\r\n      });\r\n      \r\n      const response = await axios.delete('/api/logs/attendance/clear-group', { \r\n        headers,\r\n        data: { attendanceIds }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        toast.success(`${response.data.affectedRows} attendance records have been cleared successfully!`);\r\n        // Refresh the reports data\r\n        await fetchReports();\r\n        setShowClearDialog(false);\r\n        // Go back to main view since the group is now empty\r\n        backToMainView();\r\n      } else {\r\n        toast.error('Failed to clear attendance records');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error clearing attendance records:', error);\r\n      if (error.response?.status === 401) {\r\n        toast.error('Session expired. Please login again.');\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n      } else {\r\n        toast.error('Failed to clear attendance records. Please try again.');\r\n      }\r\n    } finally {\r\n      setClearing(false);\r\n    }\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFilters({\r\n      startDate: '',\r\n      endDate: '',\r\n      subjectId: '',\r\n      academicYear: '',\r\n      semester: '',\r\n      status: '',\r\n      search: ''\r\n    });\r\n  };\r\n\r\n  const exportReports = async () => {\r\n    try {\r\n      // Export the currently filtered reports\r\n      const exportData = {\r\n        reports: reports,\r\n        statistics: statistics,\r\n        filters: filters,\r\n        exportDate: new Date().toISOString(),\r\n        totalRecords: reports.length\r\n      };\r\n\r\n      const dataStr = JSON.stringify(exportData, null, 2);\r\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n      const url = window.URL.createObjectURL(dataBlob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `attendance-reports-${new Date().toISOString().split('T')[0]}.json`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n\r\n      toast.success('Reports exported successfully!');\r\n\r\n    } catch (error) {\r\n      console.error('Error exporting reports:', error);\r\n      toast.error('Failed to export reports');\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'present':\r\n        return <CheckCircleIcon className=\"h-5 w-5 text-green-500\" />;\r\n      case 'late':\r\n        return <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-500\" />;\r\n      case 'absent':\r\n        return <XCircleIcon className=\"h-5 w-5 text-red-500\" />;\r\n      default:\r\n        return <ClockIcon className=\"h-5 w-5 text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'present':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'late':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'absent':\r\n        return 'bg-red-100 text-red-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateTime) => {\r\n    if (!dateTime) return 'N/A';\r\n    const date = new Date(dateTime);\r\n    return date.toLocaleString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const formatTime = (time) => {\r\n    if (!time) return '';\r\n    const [hours, minutes] = time.split(':');\r\n    const hour = parseInt(hours);\r\n    const ampm = hour >= 12 ? 'PM' : 'AM';\r\n    const displayHour = hour % 12 || 12;\r\n    return `${displayHour}:${minutes} ${ampm}`;\r\n  };\r\n\r\n  const viewReportDetails = (report) => {\r\n    setSelectedReport(report);\r\n    setShowDetailModal(true);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show detailed group view\r\n  if (showGroupDetails && selectedGroup) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        {/* Breadcrumb Navigation */}\r\n        <div className=\"bg-white rounded-lg shadow border border-gray-200 p-4\">\r\n          <nav className=\"flex items-center space-x-2 text-sm\">\r\n            <button\r\n              onClick={backToMainView}\r\n              className=\"text-blue-600 hover:text-blue-800 flex items-center\"\r\n            >\r\n              <ChevronRightIcon className=\"h-4 w-4 mr-1 rotate-180\" />\r\n              Back to Reports\r\n            </button>\r\n            <span className=\"text-gray-400\">/</span>\r\n            <span className=\"text-gray-900 font-medium\">{selectedGroup.title}</span>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Group Header */}\r\n        <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">{selectedGroup.title}</h1>\r\n              <p className=\"text-gray-600 mt-1\">{selectedGroup.subtitle}</p>\r\n            </div>\r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={() => exportReports()}\r\n                className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700\"\r\n              >\r\n                <DocumentArrowDownIcon className=\"h-4 w-4 mr-2\" />\r\n                Export Group\r\n              </button>\r\n              <button\r\n                onClick={() => setShowClearDialog(true)}\r\n                className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700\"\r\n              >\r\n                <XCircleIcon className=\"h-4 w-4 mr-2\" />\r\n                Clear Group Records\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Group Statistics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <CheckCircleIcon className=\"h-8 w-8 text-green-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Present</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{selectedGroup.stats.present}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <ExclamationTriangleIcon className=\"h-8 w-8 text-yellow-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Late</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{selectedGroup.stats.late}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <XCircleIcon className=\"h-8 w-8 text-red-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Absent</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{selectedGroup.stats.absent}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <UserGroupIcon className=\"h-8 w-8 text-blue-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Total</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{selectedGroup.stats.total}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Detailed Attendance Records */}\r\n        <div className=\"bg-white rounded-lg shadow border border-gray-200\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">Attendance Records</h3>\r\n            <p className=\"text-sm text-gray-500\">\r\n              {selectedGroup.reports.length} record{selectedGroup.reports.length !== 1 ? 's' : ''} found\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Student\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date & Time\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Method\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Location\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {selectedGroup.reports.map((report) => (\r\n                  <tr key={report.ATTENDANCEID} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0 h-10 w-10\">\r\n                          <div className=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                            <AcademicCapIcon className=\"h-5 w-5 text-blue-600\" />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">\r\n                            {report.FIRSTNAME} {report.LASTNAME}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            ID: {report.STUDENTID || 'N/A'}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        {formatDateTime(report.SCANDATETIME)}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        {report.AUTHMETHOD || 'Fingerprint'}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        {getStatusIcon(report.STATUS)}\r\n                        <span className={`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(report.STATUS)}`}>\r\n                          {report.STATUS || 'Unknown'}\r\n                        </span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        {report.AUTHMETHOD || 'Fingerprint'}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center text-sm text-gray-900\">\r\n                        <MapPinIcon className=\"h-4 w-4 mr-2 text-gray-400\" />\r\n                        <div>\r\n                          <div>{report.ROOMNUMBER || 'N/A'}</div>\r\n                          <div className=\"text-xs text-gray-500\">{report.ROOMNAME || ''}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <button\r\n                        onClick={() => viewReportDetails(report)}\r\n                        className=\"text-blue-600 hover:text-blue-900 flex items-center\"\r\n                      >\r\n                        <EyeIcon className=\"h-4 w-4 mr-1\" />\r\n                        View Details\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Clear Group Records Confirmation Dialog */}\r\n        {showClearDialog && (\r\n          <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n            <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n              <div className=\"mt-3 text-center\">\r\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\">\r\n                  <XCircleIcon className=\"h-6 w-6 text-red-600\" />\r\n                </div>\r\n                <h3 className=\"text-lg font-medium text-gray-900 mt-4\">Clear Group Attendance Records</h3>\r\n                <div className=\"mt-2 px-7 py-3\">\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    This action will permanently delete {selectedGroup.reports.length} attendance record{selectedGroup.reports.length !== 1 ? 's' : ''} for <strong>{selectedGroup.title}</strong>.\r\n                  </p>\r\n                  <p className=\"text-sm text-red-600 font-medium mt-2\">\r\n                    This action cannot be undone. Are you sure you want to proceed?\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex justify-center space-x-4 mt-4\">\r\n                  <button\r\n                    onClick={() => setShowClearDialog(false)}\r\n                    className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 text-sm font-medium\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={clearGroupAttendanceRecords}\r\n                    disabled={clearing}\r\n                    className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    {clearing ? 'Clearing...' : 'Yes, Clear Group Records'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-start\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Attendance Reports</h1>\r\n          <p className=\"text-gray-600\">View attendance logs for each class schedule with comprehensive filtering</p>\r\n        </div>\r\n        <div className=\"flex space-x-3\">\r\n          <button\r\n            onClick={() => setShowFilters(!showFilters)}\r\n            className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            <FunnelIcon className=\"h-4 w-4 mr-2\" />\r\n            {showFilters ? 'Hide Filters' : 'Show Filters'}\r\n          </button>\r\n          <button\r\n            onClick={exportReports}\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700\"\r\n          >\r\n            <DocumentArrowDownIcon className=\"h-4 w-4 mr-2\" />\r\n            Export Reports\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      {statistics && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <UserGroupIcon className=\"h-8 w-8 text-blue-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Total Students</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{statistics.totalStudents || 0}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <CheckCircleIcon className=\"h-8 w-8 text-green-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Present</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{statistics.presentCount || 0}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <ExclamationTriangleIcon className=\"h-8 w-8 text-yellow-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Late</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{statistics.lateCount || 0}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <XCircleIcon className=\"h-8 w-8 text-red-500\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Absent</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{statistics.absentCount || 0}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      {showFilters && (\r\n        <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Filter Reports</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n            {/* Date Range */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Start Date</label>\r\n              <input\r\n                type=\"date\"\r\n                value={filters.startDate}\r\n                onChange={(e) => handleFilterChange('startDate', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">End Date</label>\r\n              <input\r\n                type=\"date\"\r\n                value={filters.endDate}\r\n                onChange={(e) => handleFilterChange('endDate', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\r\n              />\r\n            </div>\r\n\r\n            {/* Subject Filter */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Subject</label>\r\n              <select\r\n                value={filters.subjectId}\r\n                onChange={(e) => handleFilterChange('subjectId', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"\">All Subjects</option>\r\n                {subjects.map(subject => (\r\n                  <option key={subject.SUBJECTID} value={subject.SUBJECTID}>\r\n                    {subject.SUBJECTCODE} - {subject.SUBJECTNAME}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Academic Year Filter */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Academic Year</label>\r\n              <select\r\n                value={filters.academicYear}\r\n                onChange={(e) => handleFilterChange('academicYear', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"\">All Years</option>\r\n                {academicYears.map(year => (\r\n                  <option key={year} value={year}>{year}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Semester Filter */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Semester</label>\r\n              <select\r\n                value={filters.semester}\r\n                onChange={(e) => handleFilterChange('semester', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"\">All Semesters</option>\r\n                {semesters.map(semester => (\r\n                  <option key={semester} value={semester}>{semester}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Status Filter */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n              <select\r\n                value={filters.status}\r\n                onChange={(e) => handleFilterChange('status', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"\">All Status</option>\r\n                <option value=\"Present\">Present</option>\r\n                <option value=\"Late\">Late</option>\r\n                <option value=\"Absent\">Absent</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Search */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search</label>\r\n              <div className=\"relative\">\r\n                <MagnifyingGlassIcon className=\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search by name, student ID...\"\r\n                  value={filters.search}\r\n                  onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Clear Filters */}\r\n            <div className=\"flex items-end\">\r\n              <button\r\n                onClick={clearFilters}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n              >\r\n                Clear Filters\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Grouping and View Controls */}\r\n      <div className=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n          <div>\r\n            <h3 className=\"text-lg font-medium text-gray-900\">Attendance Reports</h3>\r\n            <p className=\"text-sm text-gray-500\">\r\n              {reports.length} report{reports.length !== 1 ? 's' : ''} found  {Object.keys(groupedReports).length} group{Object.keys(groupedReports).length !== 1 ? 's' : ''}\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            {/* Group By Selector */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <label className=\"text-sm font-medium text-gray-700\">Group by:</label>\r\n              <select\r\n                value={groupBy}\r\n                onChange={(e) => setGroupBy(e.target.value)}\r\n                className=\"border border-gray-300 rounded-md px-3 py-1 text-sm\"\r\n              >\r\n                <option value=\"subject\">Subject</option>\r\n                <option value=\"date\">Date</option>\r\n                <option value=\"session\">Session</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* View Mode Toggle */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <label className=\"text-sm font-medium text-gray-700\">View:</label>\r\n              <div className=\"flex border border-gray-300 rounded-md\">\r\n                <button\r\n                  onClick={() => setViewMode('cards')}\r\n                  className={`px-3 py-1 text-sm ${viewMode === 'cards' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700'}`}\r\n                >\r\n                  Cards\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode('table')}\r\n                  className={`px-3 py-1 text-sm ${viewMode === 'table' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700'}`}\r\n                >\r\n                  Table\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Reports Content */}\r\n      {reports.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow border border-gray-200\">\r\n          <ChartBarIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No reports found</h3>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Try adjusting your filters or check if there are any attendance records.\r\n          </p>\r\n        </div>\r\n      ) : viewMode === 'cards' ? (\r\n        /* Card View */\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {Object.entries(groupedReports).map(([key, group]) => (\r\n            <div key={key} className=\"bg-white rounded-lg shadow border border-gray-200 overflow-hidden\">\r\n              <div className=\"p-6\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{group.title}</h3>\r\n                    <p className=\"text-sm text-gray-600 mb-4\">{group.subtitle}</p>\r\n                    \r\n                    {/* Statistics */}\r\n                    <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                      <div className=\"text-center\">\r\n                        <div className=\"text-2xl font-bold text-green-600\">{group.stats.present}</div>\r\n                        <div className=\"text-xs text-gray-500\">Present</div>\r\n                      </div>\r\n                      <div className=\"text-center\">\r\n                        <div className=\"text-2xl font-bold text-yellow-600\">{group.stats.late}</div>\r\n                        <div className=\"text-xs text-gray-500\">Late</div>\r\n                      </div>\r\n                      <div className=\"text-center\">\r\n                        <div className=\"text-2xl font-bold text-red-600\">{group.stats.absent}</div>\r\n                        <div className=\"text-xs text-gray-500\">Absent</div>\r\n                      </div>\r\n                      <div className=\"text-center\">\r\n                        <div className=\"text-2xl font-bold text-blue-600\">{group.stats.total}</div>\r\n                        <div className=\"text-xs text-gray-500\">Total</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <button\r\n                    onClick={() => viewGroupDetails(key, group)}\r\n                    className=\"ml-4 p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100\"\r\n                  >\r\n                    <EyeIcon className=\"h-5 w-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        /* Table View */\r\n        <div className=\"bg-white rounded-lg shadow border border-gray-200\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Student\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Subject & Schedule\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date & Time\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Location\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {reports.map((report) => (\r\n                  <tr key={report.ATTENDANCEID} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0 h-10 w-10\">\r\n                          <div className=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                            <AcademicCapIcon className=\"h-5 w-5 text-blue-600\" />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">\r\n                            {report.FIRSTNAME} {report.LASTNAME}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            ID: {report.STUDENTID || 'N/A'}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        <div className=\"font-medium\">{report.SUBJECTCODE}</div>\r\n                        <div className=\"text-gray-600\">{report.SUBJECTNAME}</div>\r\n                        <div className=\"text-xs text-gray-500 mt-1\">\r\n                          {report.DAYOFWEEK}  {formatTime(report.STARTTIME)} - {formatTime(report.ENDTIME)}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-500\">\r\n                          {report.ACADEMICYEAR}  {report.SEMESTER}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        {formatDateTime(report.SCANDATETIME)}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        {report.AUTHMETHOD || 'Fingerprint'}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        {getStatusIcon(report.STATUS)}\r\n                        <span className={`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(report.STATUS)}`}>\r\n                          {report.STATUS || 'Unknown'}\r\n                        </span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center text-sm text-gray-900\">\r\n                        <MapPinIcon className=\"h-4 w-4 mr-2 text-gray-400\" />\r\n                        <div>\r\n                          <div>{report.ROOMNUMBER || 'N/A'}</div>\r\n                          <div className=\"text-xs text-gray-500\">{report.ROOMNAME || ''}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <button\r\n                        onClick={() => viewReportDetails(report)}\r\n                        className=\"text-blue-600 hover:text-blue-900 flex items-center\"\r\n                      >\r\n                        <EyeIcon className=\"h-4 w-4 mr-1\" />\r\n                        View Details\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Report Details Modal */}\r\n      {showDetailModal && selectedReport && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Report Details</h3>\r\n                <button\r\n                  onClick={() => setShowDetailModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* Student Information */}\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-3\">Student Information</h4>\r\n                  <div className=\"space-y-2\">\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Name:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">\r\n                        {selectedReport.FIRSTNAME} {selectedReport.LASTNAME}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Student ID:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">{selectedReport.STUDENTID || 'N/A'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Status:</span>\r\n                      <span className={`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(selectedReport.STATUS)}`}>\r\n                        {selectedReport.STATUS || 'Unknown'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Schedule Information */}\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-3\">Schedule Information</h4>\r\n                  <div className=\"space-y-2\">\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Subject:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">\r\n                        {selectedReport.SUBJECTCODE} - {selectedReport.SUBJECTNAME}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Day:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">{selectedReport.DAYOFWEEK}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Time:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">\r\n                        {formatTime(selectedReport.STARTTIME)} - {formatTime(selectedReport.ENDTIME)}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Room:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">\r\n                        {selectedReport.ROOMNUMBER} - {selectedReport.ROOMNAME}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Attendance Details */}\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-3\">Attendance Details</h4>\r\n                  <div className=\"space-y-2\">\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Scan Time:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">\r\n                        {formatDateTime(selectedReport.SCANDATETIME)}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Authentication Method:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">{selectedReport.AUTHMETHOD || 'Fingerprint'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Location:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">{selectedReport.LOCATION || 'Unknown'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Academic Period:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900\">\r\n                        {selectedReport.ACADEMICYEAR}  {selectedReport.SEMESTER}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Additional Information */}\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-3\">Additional Information</h4>\r\n                  <div className=\"space-y-2\">\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Attendance ID:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900 font-mono text-xs\">\r\n                        {selectedReport.ATTENDANCEID}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-gray-500\">Schedule ID:</span>\r\n                      <span className=\"ml-2 text-sm text-gray-900 font-mono text-xs\">\r\n                        {selectedReport.SCHEDULEID || 'N/A'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6 flex justify-end\">\r\n                <button\r\n                  onClick={() => setShowDetailModal(false)}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reports;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}