/*! For license information please see main.db2bb624.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},75:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,t:()=>s});var r=console;function s(){return r}function a(e){r=e}},90:(e,t,n)=>{"use strict";n.d(t,{E:()=>y});var r=n(168),s=n(870),a=n(540),l=n(991),i=n(75),o=n(990),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,r.A)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,s.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,r,a=this.state.data,l=(0,s.Zw)(e,a);return(null==(n=(r=this.options).isDataEqual)?void 0:n.call(r,a,l))?l=a:!1!==this.options.structuralSharing&&(l=(0,s.BH)(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),l},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(s.lQ).catch(s.lQ):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,s.j3)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,r,a,l=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var d=this.observers.find(function(e){return e.options.queryFn});d&&this.setOptions(d.options)}var u=(0,s.HN)(this.queryKey),m=(0,s.jY)(),h={queryKey:u,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(m)return l.abortSignalConsumed=!0,m.signal}});var f,p,x={fetchOptions:t,options:this.options,queryKey:u,state:this.state,fetchFn:function(){return l.options.queryFn?(l.abortSignalConsumed=!1,l.options.queryFn(h)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(f=this.options.behavior)||f.onFetch(x));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=x.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(p=x.fetchOptions)?void 0:p.meta});return this.retryer=new o.eJ({fn:x.fetchFn,abort:null==m||null==(a=m.abort)?void 0:a.bind(m),onSuccess:function(e){l.setData(e),null==l.cache.config.onSuccess||l.cache.config.onSuccess(e,l),0===l.cacheTime&&l.optionalRemove()},onError:function(e){(0,o.wm)(e)&&e.silent||l.dispatch({type:"error",error:e}),(0,o.wm)(e)||(null==l.cache.config.onError||l.cache.config.onError(e,l),(0,i.t)().error(e)),0===l.cacheTime&&l.optionalRemove()},onFail:function(){l.dispatch({type:"failed"})},onPause:function(){l.dispatch({type:"pause"})},onContinue:function(){l.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),l.j.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var n,s;switch(t.type){case"failed":return(0,r.A)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,r.A)({},e,{isPaused:!0});case"continue":return(0,r.A)({},e,{isPaused:!1});case"fetch":return(0,r.A)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,r.A)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(s=t.dataUpdatedAt)?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=t.error;return(0,o.wm)(a)&&a.revert&&this.revertState?(0,r.A)({},this.revertState):(0,r.A)({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,r.A)({},e,{isInvalidated:!0});case"setState":return(0,r.A)({},e,t.state);default:return e}},e}(),d=n(422),u=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,a.A)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,a=t.queryKey,l=null!=(r=t.queryHash)?r:(0,s.F$)(a,t),i=this.get(l);return i||(i=new c({cache:this,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(i)),i},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;l.j.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,s.b_)(e,t)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find(function(e){return(0,s.MK)(n,e)})},n.findAll=function(e,t){var n=(0,s.b_)(e,t)[0];return Object.keys(n).length>0?this.queries.filter(function(e){return(0,s.MK)(n,e)}):this.queries},n.notify=function(e){var t=this;l.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){var e=this;l.j.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},n.onOnline=function(){var e=this;l.j.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(d.Q),m=function(){function e(e){this.options=(0,r.A)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(s.lQ).catch(s.lQ)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),r.then(function(){return t.executeMutation()}).then(function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,i.t)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new o.eJ({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.A)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.A)({},e,{isPaused:!0});case"continue":return(0,r.A)({},e,{isPaused:!1});case"loading":return(0,r.A)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.A)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.A)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.A)({},e,t.state);default:return e}}(this.state,e),l.j.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();var h=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,a.A)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new m({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},n.clear=function(){var e=this;l.j.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},n.getAll=function(){return this.mutations},n.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,s.nJ)(e,t)})},n.findAll=function(e){return this.mutations.filter(function(t){return(0,s.nJ)(e,t)})},n.notify=function(e){var t=this;l.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return l.j.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(s.lQ)})},Promise.resolve())})},t}(d.Q),f=n(244),p=n(317);function x(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function g(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var y=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new u,this.mutationCache=e.mutationCache||new h,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=f.m.subscribe(function(){f.m.isFocused()&&p.t.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=p.t.subscribe(function(){f.m.isFocused()&&p.t.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,s.b_)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.A)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,n){var r=(0,s.vh)(e),a=this.defaultQueryOptions(r);return this.queryCache.build(this,a).setData(t,n)},t.setQueriesData=function(e,t,n){var r=this;return l.j.batch(function(){return r.getQueryCache().findAll(e).map(function(e){var s=e.queryKey;return[s,r.setQueryData(s,t,n)]})})},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,s.b_)(e,t)[0],r=this.queryCache;l.j.batch(function(){r.findAll(n).forEach(function(e){r.remove(e)})})},t.resetQueries=function(e,t,n){var a=this,i=(0,s.b_)(e,t,n),o=i[0],c=i[1],d=this.queryCache,u=(0,r.A)({},o,{active:!0});return l.j.batch(function(){return d.findAll(o).forEach(function(e){e.reset()}),a.refetchQueries(u,c)})},t.cancelQueries=function(e,t,n){var r=this,a=(0,s.b_)(e,t,n),i=a[0],o=a[1],c=void 0===o?{}:o;"undefined"===typeof c.revert&&(c.revert=!0);var d=l.j.batch(function(){return r.queryCache.findAll(i).map(function(e){return e.cancel(c)})});return Promise.all(d).then(s.lQ).catch(s.lQ)},t.invalidateQueries=function(e,t,n){var a,i,o,c=this,d=(0,s.b_)(e,t,n),u=d[0],m=d[1],h=(0,r.A)({},u,{active:null==(a=null!=(i=u.refetchActive)?i:u.active)||a,inactive:null!=(o=u.refetchInactive)&&o});return l.j.batch(function(){return c.queryCache.findAll(u).forEach(function(e){e.invalidate()}),c.refetchQueries(h,m)})},t.refetchQueries=function(e,t,n){var a=this,i=(0,s.b_)(e,t,n),o=i[0],c=i[1],d=l.j.batch(function(){return a.queryCache.findAll(o).map(function(e){return e.fetch(void 0,(0,r.A)({},c,{meta:{refetchPage:null==o?void 0:o.refetchPage}}))})}),u=Promise.all(d).then(s.lQ);return(null==c?void 0:c.throwOnError)||(u=u.catch(s.lQ)),u},t.fetchQuery=function(e,t,n){var r=(0,s.vh)(e,t,n),a=this.defaultQueryOptions(r);"undefined"===typeof a.retry&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(s.lQ).catch(s.lQ)},t.fetchInfiniteQuery=function(e,t,n){var r=(0,s.vh)(e,t,n);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,r,a,l,i,c,d=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,u=null==(r=e.fetchOptions)||null==(a=r.meta)?void 0:a.fetchMore,m=null==u?void 0:u.pageParam,h="forward"===(null==u?void 0:u.direction),f="backward"===(null==u?void 0:u.direction),p=(null==(l=e.state.data)?void 0:l.pages)||[],y=(null==(i=e.state.data)?void 0:i.pageParams)||[],v=(0,s.jY)(),b=null==v?void 0:v.signal,j=y,w=!1,N=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,n,r){return j=r?[t].concat(j):[].concat(j,[t]),r?[n].concat(e):[].concat(e,[n])},E=function(t,n,r,s){if(w)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,signal:b,pageParam:r,meta:e.meta},l=N(a),i=Promise.resolve(l).then(function(e){return S(t,r,e,s)});return(0,o.dd)(l)&&(i.cancel=l.cancel),i};if(p.length)if(h){var k="undefined"!==typeof m,C=k?m:x(e.options,p);c=E(p,k,C)}else if(f){var T="undefined"!==typeof m,R=T?m:g(e.options,p);c=E(p,T,R,!0)}else!function(){j=[];var t="undefined"===typeof e.options.getNextPageParam,n=!d||!p[0]||d(p[0],0,p);c=n?E([],t,y[0]):Promise.resolve(S([],y[0],p[0]));for(var r=function(n){c=c.then(function(r){if(!d||!p[n]||d(p[n],n,p)){var s=t?y[n]:x(e.options,r);return E(r,t,s)}return Promise.resolve(S(r,y[n],p[n]))})},s=1;s<p.length;s++)r(s)}();else c=E([]);var A=c.then(function(e){return{pages:e,pageParams:j}});return A.cancel=function(){w=!0,null==v||v.abort(),(0,o.dd)(c)&&c.cancel()},A}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(s.lQ).catch(s.lQ)},t.cancelMutations=function(){var e=this,t=l.j.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(s.lQ).catch(s.lQ)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find(function(t){return(0,s.Od)(e)===(0,s.Od)(t.queryKey)});n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,s.Cp)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find(function(t){return(0,s.Od)(e)===(0,s.Od)(t.mutationKey)});n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,s.Cp)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,s.F$)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},153:(e,t,n)=>{"use strict";var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,p(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var s,a={},l=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,s)&&!S.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===a[s]&&(a[s]=o[s]);return{$$typeof:n,type:e,key:l,ref:i,props:a,_owner:N.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,s,a,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return l=l(o=e),e=""===a?"."+T(o,0):a,j(l)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),R(l,t,s,"",function(e){return e})):null!=l&&(k(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,s+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+T(i=e[c],c);o+=R(i,t,s,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=R(i=i.value,t,s,d=a+T(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function A(e,t,n){if(null==e)return e;var r=[],s=0;return R(e,r,"","",function(e){return t.call(n,e,s++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},D={transition:null},_={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=l,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),a=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:n,type:e.type,key:a,ref:l,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},223:(e,t,n)=>{"use strict";n.d(t,{QueryClientProvider:()=>m,useQuery:()=>C});var r=n(991),s=n(950).unstable_batchedUpdates;r.j.setBatchNotifyFunction(s);var a=n(75),l=console;(0,a.B)(l);var i=n(43),o=i.createContext(void 0),c=i.createContext(!1);function d(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=o),window.ReactQueryClientContext):o}var u=function(){var e=i.useContext(d(i.useContext(c)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},m=function(e){var t=e.client,n=e.contextSharing,r=void 0!==n&&n,s=e.children;i.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var a=d(r);return i.createElement(c.Provider,{value:r},i.createElement(a.Provider,{value:t},s))},h=n(168),f=n(540),p=n(870),x=n(244),g=n(422),y=n(990),v=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(n),r}(0,f.A)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),b(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return j(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return j(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var s=this.hasListeners();s&&w(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!s||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var a=this.computeRefetchInterval();!s||this.currentQuery===r&&this.options.enabled===n.enabled&&a===this.currentRefetchInterval||this.updateRefetchInterval(a)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,r={},s=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach(function(t){Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:function(){return s(t),e[t]}})}),(t.useErrorBoundary||t.suspense)&&s("error"),r},n.getNextResult=function(e){var t=this;return new Promise(function(n,r){var s=t.subscribe(function(t){t.isFetching||(s(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,h.A)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then(function(){return t.createResult(r,n)})},n.fetch=function(e){var t=this;return this.executeFetch(e).then(function(){return t.updateResult(),t.currentResult})},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(p.lQ)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!p.S$&&!this.currentResult.isStale&&(0,p.gn)(this.options.staleTime)){var t=(0,p.j3)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},t)}},n.computeRefetchInterval=function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!p.S$&&!1!==this.options.enabled&&(0,p.gn)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||x.m.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(e,t){var n,r=this.currentQuery,s=this.options,l=this.currentResult,i=this.currentResultState,o=this.currentResultOptions,c=e!==r,d=c?e.state:this.currentQueryInitialState,u=c?this.currentResult:this.previousQueryResult,m=e.state,h=m.dataUpdatedAt,f=m.error,x=m.errorUpdatedAt,g=m.isFetching,y=m.status,v=!1,j=!1;if(t.optimisticResults){var S=this.hasListeners(),E=!S&&b(e,t),k=S&&w(e,r,t,s);(E||k)&&(g=!0,h||(y="loading"))}if(t.keepPreviousData&&!m.dataUpdateCount&&(null==u?void 0:u.isSuccess)&&"error"!==y)n=u.data,h=u.dataUpdatedAt,y=u.status,v=!0;else if(t.select&&"undefined"!==typeof m.data)if(l&&m.data===(null==i?void 0:i.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(m.data),!1!==t.structuralSharing&&(n=(0,p.BH)(null==l?void 0:l.data,n)),this.selectResult=n,this.selectError=null}catch(T){(0,a.t)().error(T),this.selectError=T}else n=m.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&("loading"===y||"idle"===y)){var C;if((null==l?void 0:l.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData))C=l.data;else if(C="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof C)try{C=t.select(C),!1!==t.structuralSharing&&(C=(0,p.BH)(null==l?void 0:l.data,C)),this.selectError=null}catch(T){(0,a.t)().error(T),this.selectError=T}"undefined"!==typeof C&&(y="success",n=C,j=!0)}return this.selectError&&(f=this.selectError,n=this.selectResult,x=Date.now(),y="error"),{status:y,isLoading:"loading"===y,isSuccess:"success"===y,isError:"error"===y,isIdle:"idle"===y,data:n,dataUpdatedAt:h,error:f,errorUpdatedAt:x,failureCount:m.fetchFailureCount,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&"loading"!==y,isLoadingError:"error"===y&&0===m.dataUpdatedAt,isPlaceholderData:j,isPreviousData:v,isRefetchError:"error"===y&&0!==m.dataUpdatedAt,isStale:N(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,r=n.notifyOnChangeProps,s=n.notifyOnChangePropsExclusions;if(!r&&!s)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var a="tracked"===r?this.trackedProps:r;return Object.keys(e).some(function(n){var r=n,l=e[r]!==t[r],i=null==a?void 0:a.some(function(e){return e===n}),o=null==s?void 0:s.some(function(e){return e===n});return l&&!o&&(!a||i)})},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,p.f8)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,h.A)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,y.wm)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;r.j.batch(function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)}),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},t}(g.Q);function b(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&j(e,t,t.refetchOnMount)}function j(e,t,n){if(!1!==t.enabled){var r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&N(e,t)}return!1}function w(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&N(e,n)}function N(e,t){return e.isStaleByTime(t.staleTime)}function S(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var E=i.createContext(S()),k=function(){return i.useContext(E)};function C(e,t,n){return function(e,t){var n=i.useRef(!1),s=i.useState(0)[1],a=u(),l=k(),o=a.defaultQueryObserverOptions(e);o.optimisticResults=!0,o.onError&&(o.onError=r.j.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=r.j.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=r.j.batchCalls(o.onSettled)),o.suspense&&("number"!==typeof o.staleTime&&(o.staleTime=1e3),0===o.cacheTime&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(l.isReset()||(o.retryOnMount=!1));var c,d,m,h=i.useState(function(){return new t(a,o)})[0],f=h.getOptimisticResult(o);if(i.useEffect(function(){n.current=!0,l.clearReset();var e=h.subscribe(r.j.batchCalls(function(){n.current&&s(function(e){return e+1})}));return h.updateResult(),function(){n.current=!1,e()}},[l,h]),i.useEffect(function(){h.setOptions(o,{listeners:!1})},[o,h]),o.suspense&&f.isLoading)throw h.fetchOptimistic(o).then(function(e){var t=e.data;null==o.onSuccess||o.onSuccess(t),null==o.onSettled||o.onSettled(t,null)}).catch(function(e){l.clearReset(),null==o.onError||o.onError(e),null==o.onSettled||o.onSettled(void 0,e)});if(f.isError&&!l.isReset()&&!f.isFetching&&(c=o.suspense,d=o.useErrorBoundary,m=[f.error,h.getCurrentQuery()],"function"===typeof d?d.apply(void 0,m):"boolean"===typeof d?d:c))throw f.error;return"tracked"===o.notifyOnChangeProps&&(f=h.trackResult(f,o)),f}((0,p.vh)(e,t,n),v)}},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,l=s>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>a(o,n))c<s&&0>a(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<s&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,f=!1,p=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(x=!1,b(e),!p)if(null!==r(c))p=!0,D(w);else{var t=r(d);null!==t&&_(j,t.startTime-e)}}function w(e,n){p=!1,x&&(x=!1,y(k),k=-1),f=!0;var a=h;try{for(b(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!R());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&s(c),b(n)}else s(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&_(j,u.startTime-n),o=!1}return o}finally{m=null,h=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,E=null,k=-1,C=5,T=-1;function R(){return!(t.unstable_now()-T<C)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?N():(S=!1,E=null)}}else S=!1}if("function"===typeof v)N=function(){v(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,I=O.port2;O.port1.onmessage=A,N=function(){I.postMessage(null)}}else N=function(){g(A,0)};function D(e){E=e,S||(S=!0,N())}function _(e,n){k=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(x?(y(k),k=-1):x=!0,_(j,a-l))):(e.sortIndex=i,n(c,e),p||f||(p=!0,D(w))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},244:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var r=n(540),s=n(422),a=n(870),l=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,r.A)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()})},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(e){e()})},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(s.Q))},298:()=>{},317:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(540),s=n(422),a=n(870),l=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,r.A)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()})},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(e){e()})},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(s.Q))},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},422:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var r=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==n}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},540:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>s})},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,n,r,s,a,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var s=x.hasOwnProperty(t)?x[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(f,e)||!u.call(h,e)&&(m.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var L,U=Object.assign;function P(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),l=s.length-1,i=a.length-1;1<=l&&0<=i&&s[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==a[i]){if(1!==l||1!==i)do{if(l--,0>--i||s[l]!==a[i]){var o="\n"+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function z(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function G(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Se=null;function Ee(e){if(e=vs(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=js(t),we(e.stateNode,e.type,t))}}function ke(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Re(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ne||null!==Se)&&(Re(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=js(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(d)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){De=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch(de){De=!1}function Me(e,t,n,r,s,a,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Ue=null,Pe=!1,Fe=null,Be={onError:function(e){Le=!0,Ue=e}};function ze(e,t,n,r,s,a,l,i,o){Le=!1,Ue=null,Me.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(r=s.return)){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return We(s),e;if(l===r)return We(s),t;l=l.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=l;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=l;break}if(o===r){i=!0,r=s,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=s;break}if(o===r){i=!0,r=l,n=s;break}o=o.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ve=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,$e=s.unstable_requestPaint,Ze=s.unstable_now,Ge=s.unstable_getCurrentPriorityLevel,Xe=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~s;0!==i?r=ut(i):0!==(a&=l)&&(r=ut(a))}else 0!==(l=n&~s)?r=ut(l):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-lt(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,St,Et,kt=!1,Ct=[],Tt=null,Rt=null,At=null,Ot=new Map,It=new Map,Dt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Lt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ut(e){var t=ys(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Pt(e)&&n.delete(t)}function Bt(){kt=!1,null!==Tt&&Pt(Tt)&&(Tt=null),null!==Rt&&Pt(Rt)&&(Rt=null),null!==At&&Pt(At)&&(At=null),Ot.forEach(Ft),It.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Rt&&zt(Rt,e),null!==At&&zt(At,e),Ot.forEach(t),It.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function Qt(e,t,n,r){var s=vt,a=Ht.transition;Ht.transition=null;try{vt=1,Vt(e,t,n,r)}finally{vt=s,Ht.transition=a}}function Yt(e,t,n,r){var s=vt,a=Ht.transition;Ht.transition=null;try{vt=4,Vt(e,t,n,r)}finally{vt=s,Ht.transition=a}}function Vt(e,t,n,r){if(Wt){var s=Kt(e,t,n,r);if(null===s)Wr(e,t,r,Jt,n),Mt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,s),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,s),!0;case"mouseover":return At=Lt(At,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,It.set(a,Lt(It.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<_t.indexOf(e)){for(;null!==s;){var a=vs(s);if(null!==a&&jt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Jt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=ys(e=je(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ge()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Gt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Gt,r=n.length,s="value"in Zt?Zt.value:Zt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===s[a-t];t++);return Xt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=U({},cn,{view:0,detail:0}),mn=sn(un),hn=U({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=sn(hn),pn=sn(U({},hn,{dataTransfer:0})),xn=sn(U({},un,{relatedTarget:0})),gn=sn(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(yn),bn=sn(U({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function En(){return Sn}var kn=U({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),Tn=sn(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(U({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=sn(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=sn(On),Dn=[9,13,27,32],_n=d&&"CompositionEvent"in window,Mn=null;d&&"documentMode"in document&&(Mn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Mn,Un=d&&(!_n||Mn&&8<Mn&&11>=Mn),Pn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){ke(r),0<(t=Yr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Vn=null;function Jn(e){Pr(e,0)}function Kn(e){if(V(bs(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(d){var Gn;if(d){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Gn=Xn}else Gn=!1;Zn=Gn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Vn=Yn=null)}function nr(e){if("value"===e.propertyName&&Kn(Vn)){var t=[];Qn(t,Vn,e,je(e)),Oe(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Vn)}function ar(e,t){if("click"===e)return Kn(t)}function lr(e,t){if("input"===e||"change"===e)return Kn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!ir(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=dr(n,a);var l=dr(n,r);s&&l&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=d&&"documentMode"in document&&11>=document.documentMode,xr=null,gr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==xr||xr!==J(r)||("selectionStart"in(r=xr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=Yr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Nr={},Sr={};function Er(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}d&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var kr=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),Rr=Er("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),o(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var _r=Or[Dr];Ir(_r.toLowerCase(),"on"+(_r[0].toUpperCase()+_r.slice(1)))}Ir(kr,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,l,i,o,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=Ue;Le=!1,Ue=null,Pe||(Pe=!0,Fe=d)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==a&&s.isPropagationStopped())break e;Ur(s,i,c),a=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==a&&s.isPropagationStopped())break e;Ur(s,i,c),a=o}}}if(Pe)throw e=Fe,Pe=!1,Fe=null,e}function Fr(e,t){var n=t[ps];void 0===n&&(n=t[ps]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,l.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var s=Qt;break;case 4:s=Yt;break;default:s=Vt}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;l=l.return}for(;null!==i;){if(null===(l=ys(i)))return;if(5===(o=l.tag)||6===o){r=a=l;continue e}i=i.parentNode}}r=r.return}Oe(function(){var r=a,s=je(n),l=[];e:{var i=Ar.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=xn;break;case"focusout":c="blur",o=xn;break;case"beforeblur":case"afterblur":o=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Rn;break;case kr:case Cr:case Tr:o=gn;break;case Rr:o=An;break;case"scroll":o=mn;break;case"wheel":o=In;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Tn}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,f=r;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Ie(f,m))&&d.push(Qr(f,p,h)))),u)break;f=f.return}0<d.length&&(i=new o(i,c,null,n,s),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[fs])&&(o||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=fn,p="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,p="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?i:bs(o),h=null==c?i:bs(c),(i=new d(p,f+"leave",o,n,s)).target=u,i.relatedTarget=h,p=null,ys(s)===r&&((d=new d(m,f+"enter",c,n,s)).target=h,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(m=c,f=0,h=d=o;h;h=Vr(h))f++;for(h=0,p=m;p;p=Vr(p))h++;for(;0<f-h;)d=Vr(d),f--;for(;0<h-f;)m=Vr(m),h--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=Vr(d),m=Vr(m)}d=null}else d=null;null!==o&&Jr(l,i,o,d,!1),null!==c&&null!==u&&Jr(l,u,c,d,!0)}if("select"===(o=(i=r?bs(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=$n;else if(Wn(i))if(Zn)x=lr;else{x=sr;var g=rr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=ar);switch(x&&(x=x(e,r))?Qn(l,x,n,s):(g&&g(e,i,r),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=r?bs(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(xr=g,gr=r,yr=null);break;case"focusout":yr=gr=xr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(l,n,s);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(l,n,s)}var y;if(_n)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(y=en()):(Gt="value"in(Zt=s)?Zt.value:Zt.textContent,qn=!0)),0<(g=Yr(r,v)).length&&(v=new bn(v,e,null,n,s),l.push({event:v,listeners:g}),y?v.data=y:null!==(y=zn(n))&&(v.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!_n&&Bn(e,t)?(e=en(),Xt=Gt=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),l.push({event:s,listeners:r}),s.data=y))}Pr(l,t)})}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Ie(e,n))&&r.unshift(Qr(e,a,s)),null!=(a=Ie(e,t))&&r.push(Qr(e,a,s))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,s){for(var a=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===r)break;5===i.tag&&null!==c&&(i=c,s?null!=(o=Ie(n,a))&&l.unshift(Qr(n,o,i)):s||null!=(o=Ie(n,a))&&l.push(Qr(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Gr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Xr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,ls="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(is)}:rs;function is(e){setTimeout(function(){throw e})}function os(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);qt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ms="__reactFiber$"+us,hs="__reactProps$"+us,fs="__reactContainer$"+us,ps="__reactEvents$"+us,xs="__reactListeners$"+us,gs="__reactHandles$"+us;function ys(e){var t=e[ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ms]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[ms])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[ms]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function js(e){return e[hs]||null}var ws=[],Ns=-1;function Ss(e){return{current:e}}function Es(e){0>Ns||(e.current=ws[Ns],ws[Ns]=null,Ns--)}function ks(e,t){Ns++,ws[Ns]=e.current,e.current=t}var Cs={},Ts=Ss(Cs),Rs=Ss(!1),As=Cs;function Os(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Is(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){Es(Rs),Es(Ts)}function _s(e,t,n){if(Ts.current!==Cs)throw Error(a(168));ks(Ts,t),ks(Rs,n)}function Ms(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,H(e)||"Unknown",s));return U({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,As=Ts.current,ks(Ts,e),ks(Rs,Rs.current),!0}function Us(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ms(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,Es(Rs),Es(Ts),ks(Ts,e)):Es(Rs),ks(Rs,n)}var Ps=null,Fs=!1,Bs=!1;function zs(e){null===Ps?Ps=[e]:Ps.push(e)}function qs(){if(!Bs&&null!==Ps){Bs=!0;var e=0,t=vt;try{var n=Ps;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ps=null,Fs=!1}catch(s){throw null!==Ps&&(Ps=Ps.slice(e+1)),Ve(Xe,qs),s}finally{vt=t,Bs=!1}}return null}var Hs=[],Ws=0,Qs=null,Ys=0,Vs=[],Js=0,Ks=null,$s=1,Zs="";function Gs(e,t){Hs[Ws++]=Ys,Hs[Ws++]=Qs,Qs=e,Ys=t}function Xs(e,t,n){Vs[Js++]=$s,Vs[Js++]=Zs,Vs[Js++]=Ks,Ks=e;var r=$s;e=Zs;var s=32-lt(r)-1;r&=~(1<<s),n+=1;var a=32-lt(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,$s=1<<32-lt(t)+s|n<<s|r,Zs=a+e}else $s=1<<a|n<<s|r,Zs=e}function ea(e){null!==e.return&&(Gs(e,1),Xs(e,1,0))}function ta(e){for(;e===Qs;)Qs=Hs[--Ws],Hs[Ws]=null,Ys=Hs[--Ws],Hs[Ws]=null;for(;e===Ks;)Ks=Vs[--Js],Vs[Js]=null,Zs=Vs[--Js],Vs[Js]=null,$s=Vs[--Js],Vs[Js]=null}var na=null,ra=null,sa=!1,aa=null;function la(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:$s,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!ia(e,t)){if(oa(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&ia(e,t)?la(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(oa(e))throw ma(),Error(a(418));for(;t;)la(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=ra;e;)e=cs(e.nextSibling)}function ha(){ra=na=null,sa=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var pa=b.ReactCurrentBatchConfig;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=s.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function va(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&ya(a)===t.type)?((r=s(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case w:return(t=Pc(t,e.mode,n)).return=e,t;case I:return m(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===s?c(e,t,n,r):null;case w:return n.key===s?d(e,t,n,r):null;case I:return h(e,t,(s=n._init)(n._payload),r)}if(te(n)||M(n))return null!==s?null:u(e,t,n,r,null);ga(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case I:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||M(r))return u(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function p(s,a,i,o){for(var c=null,d=null,u=a,p=a=0,x=null;null!==u&&p<i.length;p++){u.index>p?(x=u,u=null):x=u.sibling;var g=h(s,u,i[p],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(s,u),a=l(g,a,p),null===d?c=g:d.sibling=g,d=g,u=x}if(p===i.length)return n(s,u),sa&&Gs(s,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(s,i[p],o))&&(a=l(u,a,p),null===d?c=u:d.sibling=u,d=u);return sa&&Gs(s,p),c}for(u=r(s,u);p<i.length;p++)null!==(x=f(u,s,p,i[p],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?p:x.key),a=l(x,a,p),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(s,e)}),sa&&Gs(s,p),c}function x(s,i,o,c){var d=M(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,p=i,x=i=0,g=null,y=o.next();null!==p&&!y.done;x++,y=o.next()){p.index>x?(g=p,p=null):g=p.sibling;var v=h(s,p,y.value,c);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(s,p),i=l(v,i,x),null===u?d=v:u.sibling=v,u=v,p=g}if(y.done)return n(s,p),sa&&Gs(s,x),d;if(null===p){for(;!y.done;x++,y=o.next())null!==(y=m(s,y.value,c))&&(i=l(y,i,x),null===u?d=y:u.sibling=y,u=y);return sa&&Gs(s,x),d}for(p=r(s,p);!y.done;x++,y=o.next())null!==(y=f(p,s,x,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?x:y.key),i=l(y,i,x),null===u?d=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(s,e)}),sa&&Gs(s,x),d}return function e(r,a,l,o){if("object"===typeof l&&null!==l&&l.type===N&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=a;null!==d;){if(d.key===c){if((c=l.type)===N){if(7===d.tag){n(r,d.sibling),(a=s(d,l.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&ya(c)===d.type){n(r,d.sibling),(a=s(d,l.props)).ref=xa(r,d,l),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===N?((a=Mc(l.props.children,r.mode,o,l.key)).return=r,r=a):((o=_c(l.type,l.key,l.props,null,r.mode,o)).ref=xa(r,a,l),o.return=r,r=o)}return i(r);case w:e:{for(d=l.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(r,a.sibling),(a=s(a,l.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Pc(l,r.mode,o)).return=r,r=a}return i(r);case I:return e(r,a,(d=l._init)(l._payload),o)}if(te(l))return p(r,a,l,o);if(M(l))return x(r,a,l,o);ga(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,l)).return=r,r=a):(n(r,a),(a=Uc(l,r.mode,o)).return=r,r=a),i(r)):n(r,a)}}var ba=va(!0),ja=va(!1),wa=Ss(null),Na=null,Sa=null,Ea=null;function ka(){Ea=Sa=Na=null}function Ca(e){var t=wa.current;Es(wa),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ra(e,t){Na=e,Ea=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===Na)throw Error(a(308));Sa=e,Na.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Oa=null;function Ia(e){null===Oa?Oa=[e]:Oa.push(e)}function Da(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ia(t)):(n.next=s.next,s.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&To)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_a(e,n)}return null===(s=r.interleaved)?(t.next=t,Ia(r)):(t.next=s.next,s.next=t),r.interleaved=t,_a(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var s=e.updateQueue;Ma=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?a=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=s.baseState;for(l=0,d=c=o=null,i=a;;){var m=i.lane,h=i.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(m=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=p.payload)?f.call(h,u,m):f)||void 0===m)break e;u=U({},u,m);break e;case 2:Ma=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=m;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(m=i).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{l|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Lo|=l,e.lanes=l,e.memoizedState=u}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Wa={},Qa=Ss(Wa),Ya=Ss(Wa),Va=Ss(Wa);function Ja(e){if(e===Wa)throw Error(a(174));return e}function Ka(e,t){switch(ks(Va,t),ks(Ya,e),ks(Qa,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(Qa),ks(Qa,t)}function $a(){Es(Qa),Es(Ya),Es(Va)}function Za(e){Ja(Va.current);var t=Ja(Qa.current),n=oe(t,e.type);t!==n&&(ks(Ya,e),ks(Qa,n))}function Ga(e){Ya.current===e&&(Es(Qa),Es(Ya))}var Xa=Ss(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var rl=b.ReactCurrentDispatcher,sl=b.ReactCurrentBatchConfig,al=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function hl(){throw Error(a(321))}function fl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function pl(e,t,n,r,s,l){if(al=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=null===e||null===e.memoizedState?Gl:Xl,e=n(r,s),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(a(301));l+=1,ol=il=null,t.updateQueue=null,rl.current=ei,e=n(r,s)}while(dl)}if(rl.current=Zl,t=null!==il&&null!==il.next,al=0,ol=il=ll=null,cl=!1,t)throw Error(a(300));return e}function xl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function yl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(a(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function vl(e,t){return"function"===typeof t?t(e):t}function bl(e){var t=yl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=il,s=r.baseQueue,l=n.pending;if(null!==l){if(null!==s){var i=s.next;s.next=l.next,l.next=i}r.baseQueue=s=l,n.pending=null}if(null!==s){l=s.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((al&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=r):c=c.next=m,ll.lanes|=u,Lo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=r:c.next=o,ir(r,t.memoizedState)||(yi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{l=s.lane,ll.lanes|=l,Lo|=l,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=yl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{l=e(l,i.action),i=i.next}while(i!==s);ir(l,t.memoizedState)||(yi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function wl(){}function Nl(e,t){var n=ll,r=yl(),s=t(),l=!ir(r.memoizedState,s);if(l&&(r.memoizedState=s,yi=!0),r=r.queue,Ml(kl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(n.flags|=2048,Al(9,El.bind(null,n,r,s,t),void 0,null),null===Ro)throw Error(a(349));0!==(30&al)||Sl(n,t,s)}return s}function Sl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function El(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&Tl(e)}function kl(e,t,n){return n(function(){Cl(t)&&Tl(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Tl(e){var t=_a(e,1);null!==t&&nc(t,e,1,-1)}function Rl(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Vl.bind(null,ll,e),[t.memoizedState,e]}function Al(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ol(){return yl().memoizedState}function Il(e,t,n,r){var s=gl();ll.flags|=e,s.memoizedState=Al(1|t,n,void 0,void 0===r?null:r)}function Dl(e,t,n,r){var s=yl();r=void 0===r?null:r;var a=void 0;if(null!==il){var l=il.memoizedState;if(a=l.destroy,null!==r&&fl(r,l.deps))return void(s.memoizedState=Al(t,n,a,r))}ll.flags|=e,s.memoizedState=Al(1|t,n,a,r)}function _l(e,t){return Il(8390656,8,e,t)}function Ml(e,t){return Dl(2048,8,e,t)}function Ll(e,t){return Dl(4,2,e,t)}function Ul(e,t){return Dl(4,4,e,t)}function Pl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fl(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Dl(4,4,Pl.bind(null,t,e),n)}function Bl(){}function zl(e,t){var n=yl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ql(e,t){var n=yl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hl(e,t,n){return 0===(21&al)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),ll.lanes|=n,Lo|=n,e.baseState=!0),t)}function Wl(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=sl.transition;sl.transition={};try{e(!1),t()}finally{vt=n,sl.transition=r}}function Ql(){return yl().memoizedState}function Yl(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jl(e))Kl(t,n);else if(null!==(n=Da(e,t,n,r))){nc(n,e,r,ec()),$l(n,t,r)}}function Vl(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))Kl(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,n);if(s.hasEagerState=!0,s.eagerState=i,ir(i,l)){var o=t.interleaved;return null===o?(s.next=s,Ia(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Da(e,t,s,r))&&(nc(n,e,r,s=ec()),$l(n,t,r))}}function Jl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Kl(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $l(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zl={readContext:Aa,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Gl={readContext:Aa,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:_l,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Il(4194308,4,Pl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){return Il(4,2,e,t)},useMemo:function(e,t){var n=gl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yl.bind(null,ll,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Rl,useDebugValue:Bl,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Rl(!1),t=e[0];return e=Wl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ll,s=gl();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ro)throw Error(a(349));0!==(30&al)||Sl(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,_l(kl.bind(null,r,l,e),[e]),r.flags|=2048,Al(9,El.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=gl(),t=Ro.identifierPrefix;if(sa){var n=Zs;t=":"+t+"R"+(n=($s&~(1<<32-lt($s)-1)).toString(32)+n),0<(n=ul++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xl={readContext:Aa,useCallback:zl,useContext:Aa,useEffect:Ml,useImperativeHandle:Fl,useInsertionEffect:Ll,useLayoutEffect:Ul,useMemo:ql,useReducer:bl,useRef:Ol,useState:function(){return bl(vl)},useDebugValue:Bl,useDeferredValue:function(e){return Hl(yl(),il.memoizedState,e)},useTransition:function(){return[bl(vl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:Nl,useId:Ql,unstable_isNewReconciler:!1},ei={readContext:Aa,useCallback:zl,useContext:Aa,useEffect:Ml,useImperativeHandle:Fl,useInsertionEffect:Ll,useLayoutEffect:Ul,useMemo:ql,useReducer:jl,useRef:Ol,useState:function(){return jl(vl)},useDebugValue:Bl,useDeferredValue:function(e){var t=yl();return null===il?t.memoizedState=e:Hl(t,il.memoizedState,e)},useTransition:function(){return[jl(vl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:Nl,useId:Ql,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Pa(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,s))&&(nc(t,e,s,r),Ba(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Pa(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,s))&&(nc(t,e,s,r),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Pa(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Fa(e,s,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function si(e,t,n,r,s,a,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(s,a))}function ai(e,t,n){var r=!1,s=Cs,a=t.contextType;return"object"===typeof a&&null!==a?a=Aa(a):(s=Is(t)?As:Ts.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Os(e,s):Cs),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function li(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Aa(a):(a=Is(t)?As:Ts.current,s.context=Os(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ni(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ri.enqueueReplaceState(s,s.state,null),qa(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wo||(Wo=!0,Qo=r),di(0,t)},n}function hi(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Yo?Yo=new Set([this]):Yo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ui;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var gi=b.ReactCurrentOwner,yi=!1;function vi(e,t,n,r){t.child=null===e?ja(t,null,n,r):ba(t,e.child,n,r)}function bi(e,t,n,r,s){n=n.render;var a=t.ref;return Ra(t,s),r=pl(e,t,n,r,a,s),n=xl(),null===e||yi?(sa&&n&&ea(t),t.flags|=1,vi(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hi(e,t,s))}function ji(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Ic(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wi(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(l,r)&&e.ref===t.ref)return Hi(e,t,s)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(yi=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Hi(e,t,s);0!==(131072&e.flags)&&(yi=!0)}}return Ei(e,t,n,r,s)}function Ni(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ks(Do,Io),Io|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ks(Do,Io),Io|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,ks(Do,Io),Io|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ks(Do,Io),Io|=r;return vi(e,t,s,n),t.child}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ei(e,t,n,r,s){var a=Is(n)?As:Ts.current;return a=Os(t,a),Ra(t,s),n=pl(e,t,n,r,a,s),r=xl(),null===e||yi?(sa&&r&&ea(t),t.flags|=1,vi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hi(e,t,s))}function ki(e,t,n,r,s){if(Is(n)){var a=!0;Ls(t)}else a=!1;if(Ra(t,s),null===t.stateNode)qi(e,t),ai(t,n,r),ii(t,n,r,s),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Aa(c):c=Os(t,c=Is(n)?As:Ts.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||o!==c)&&li(t,l,r,c),Ma=!1;var m=t.memoizedState;l.state=m,qa(t,r,l,s),o=t.memoizedState,i!==r||m!==o||Rs.current||Ma?("function"===typeof d&&(ni(t,n,d,r),o=t.memoizedState),(i=Ma||si(t,n,i,r,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=c,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ua(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Aa(o):o=Os(t,o=Is(n)?As:Ts.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,r,o),Ma=!1,m=t.memoizedState,l.state=m,qa(t,r,l,s);var f=t.memoizedState;i!==u||m!==f||Rs.current||Ma?("function"===typeof h&&(ni(t,n,h,r),f=t.memoizedState),(c=Ma||si(t,n,c,r,m,f,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,f,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=o,r=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,a,s)}function Ci(e,t,n,r,s,a){Si(e,t);var l=0!==(128&t.flags);if(!r&&!l)return s&&Us(t,n,!1),Hi(e,t,a);r=t.stateNode,gi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,i,a)):vi(e,t,i,a),t.memoizedState=r.state,s&&Us(t,n,!0),t.child}function Ti(e){var t=e.stateNode;t.pendingContext?_s(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_s(0,t.context,!1),Ka(e,t.containerInfo)}function Ri(e,t,n,r,s){return ha(),fa(s),t.flags|=256,vi(e,t,n,r),t.child}var Ai,Oi,Ii,Di,_i={dehydrated:null,treeContext:null,retryLane:0};function Mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,n){var r,s=t.pendingProps,l=Xa.current,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),ks(Xa,1&l),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Lc(o,s,0,null),e=Mc(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mi(n),t.memoizedState=_i,e):Ui(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,s,l,i){if(n)return 256&t.flags?(t.flags&=-257,Pi(e,t,i,r=ci(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Lc({mode:"visible",children:r.children},s,0,null),(l=Mc(l,s,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,i),t.child.memoizedState=Mi(i),t.memoizedState=_i,l);if(0===(1&t.mode))return Pi(e,t,i,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var o=r.dgst;return r=o,Pi(e,t,i,r=ci(l=Error(a(419)),r,void 0))}if(o=0!==(i&e.childLanes),yi||o){if(null!==(r=Ro)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|i))?0:s)&&s!==l.retryLane&&(l.retryLane=s,_a(e,s),nc(r,e,s,-1))}return pc(),Pi(e,t,i,r=ci(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Vs[Js++]=$s,Vs[Js++]=Zs,Vs[Js++]=Ks,$s=e.id,Zs=e.overflow,Ks=t),t=Ui(t,r.children),t.flags|=4096,t)}(e,t,o,s,r,l,n);if(i){i=s.fallback,o=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==l?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Dc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=Dc(r,i):(i=Mc(i,o,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?Mi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=_i,s}return e=(i=e.child).sibling,s=Dc(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ui(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pi(e,t,n,r){return null!==r&&fa(r),ba(t,e.child,null,n),(e=Ui(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function Bi(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function zi(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(vi(e,t,r.children,n),0!==(2&(r=Xa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fi(e,n,t);else if(19===e.tag)Fi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ks(Xa,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===el(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bi(t,!0,n,null,a);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wi(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yi(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:case 17:return Is(t.type)&&Ds(),Qi(t),null;case 3:return r=t.stateNode,$a(),Es(Rs),Es(Ts),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(lc(aa),aa=null))),Oi(e,t),Qi(t),null;case 5:Ga(t);var s=Ja(Va.current);if(n=t.type,null!==e&&null!=t.stateNode)Ii(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qi(t),null}if(e=Ja(Qa.current),ua(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ms]=t,r[hs]=l,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)Fr(Mr[s],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,l),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Fr("invalid",r);break;case"textarea":se(r,l),Fr("invalid",r)}for(var o in ye(n,l),s=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Gr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Gr(r.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Fr("scroll",r)}switch(n){case"input":Y(r),X(r,l,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Xr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ms]=t,e[hs]=r,Ai(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),s=r;break;case"iframe":case"object":case"embed":Fr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)Fr(Mr[s],e);s=r;break;case"source":Fr("error",e),s=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),s=r;break;case"details":Fr("toggle",e),s=r;break;case"input":$(e,r),s=K(e,r),Fr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=U({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Fr("invalid",e)}for(l in ye(n,s),c=s)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Fr("scroll",e):null!=d&&v(e,l,d,o))}switch(n){case"input":Y(e),X(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&null!=t.stateNode)Di(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Va.current),Ja(Qa.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[ms]=t,(l=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Gr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Gr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ms]=t,t.stateNode=r}return Qi(t),null;case 13:if(Es(Xa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,l=!1;else if(l=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(a(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(a(317));l[ms]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),l=!1}else null!==aa&&(lc(aa),aa=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xa.current)?0===_o&&(_o=3):pc())),null!==t.updateQueue&&(t.flags|=4),Qi(t),null);case 4:return $a(),Oi(e,t),null===e&&qr(t.stateNode.containerInfo),Qi(t),null;case 10:return Ca(t.type._context),Qi(t),null;case 19:if(Es(Xa),null===(l=t.memoizedState))return Qi(t),null;if(r=0!==(128&t.flags),null===(o=l.rendering))if(r)Wi(l,!1);else{if(0!==_o||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Wi(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ks(Xa,1&Xa.current|2),t.child}e=e.sibling}null!==l.tail&&Ze()>qo&&(t.flags|=128,r=!0,Wi(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=el(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!sa)return Qi(t),null}else 2*Ze()-l.renderingStartTime>qo&&1073741824!==n&&(t.flags|=128,r=!0,Wi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,n=Xa.current,ks(Xa,r?1&n|2:1&n),t):(Qi(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Io)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Vi(e,t){switch(ta(t),t.tag){case 1:return Is(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),Es(Rs),Es(Ts),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ga(t),null;case 13:if(Es(Xa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(Xa),null;case 4:return $a(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ai=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oi=function(){},Ii=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ja(Qa.current);var a,l=null;switch(n){case"input":s=K(e,s),r=K(e,r),l=[];break;case"select":s=U({},s,{value:void 0}),r=U({},r,{value:void 0}),l=[];break;case"textarea":s=re(e,s),r=re(e,r),l=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(d in ye(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fr("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Di=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ji=!1,Ki=!1,$i="function"===typeof WeakSet?WeakSet:Set,Zi=null;function Gi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function Xi(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Xi(t,n,a)}s=s.next}while(s!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[hs],delete t[ps],delete t[xs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(io(e,t,n),e=e.sibling;null!==e;)io(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(i){}switch(n.tag){case 5:Ki||Gi(n,t);case 6:var r=co,s=uo;co=null,mo(e,t,n),uo=s,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),qt(e)):os(co,n.stateNode));break;case 4:r=co,s=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=r,uo=s;break;case 0:case 11:case 14:case 15:if(!Ki&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,void 0!==l&&(0!==(2&a)||0!==(4&a))&&Xi(n,t,l),s=s.next}while(s!==r)}mo(e,t,n);break;case 1:if(!Ki&&(Gi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Sc(n,t,i)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Ki=(r=Ki)||null!==n.memoizedState,mo(e,t,n),Ki=r):mo(e,t,n);break;default:mo(e,t,n)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $i),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function po(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(a(160));ho(l,i,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){Sc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),go(e),4&r){try{to(3,e,e.return),no(3,e)}catch(x){Sc(e,e.return,x)}try{to(5,e,e.return)}catch(x){Sc(e,e.return,x)}}break;case 1:po(t,e),go(e),512&r&&null!==n&&Gi(n,n.return);break;case 5:if(po(t,e),go(e),512&r&&null!==n&&Gi(n,n.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(x){Sc(e,e.return,x)}}if(4&r&&null!=(s=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Z(s,l),ve(o,i);var d=ve(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(s,m):"dangerouslySetInnerHTML"===u?ue(s,m):"children"===u?me(s,m):v(s,u,m,d)}switch(o){case"input":G(s,l);break;case"textarea":ae(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var f=l.value;null!=f?ne(s,!!l.multiple,f,!1):h!==!!l.multiple&&(null!=l.defaultValue?ne(s,!!l.multiple,l.defaultValue,!0):ne(s,!!l.multiple,l.multiple?[]:"",!1))}s[hs]=l}catch(x){Sc(e,e.return,x)}}break;case 6:if(po(t,e),go(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(x){Sc(e,e.return,x)}}break;case 3:if(po(t,e),go(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(x){Sc(e,e.return,x)}break;case 4:default:po(t,e),go(e);break;case 13:po(t,e),go(e),8192&(s=e.child).flags&&(l=null!==s.memoizedState,s.stateNode.isHidden=l,!l||null!==s.alternate&&null!==s.alternate.memoizedState||(zo=Ze())),4&r&&fo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ki=(d=Ki)||u,po(t,e),Ki=d):po(t,e),go(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(m=Zi=u;null!==Zi;){switch(f=(h=Zi).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Gi(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Sc(r,n,x)}}break;case 5:Gi(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==f?(f.return=h,Zi=f):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{s=m.stateNode,d?"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(x){Sc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Sc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),go(e),4&r&&fo(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ao(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(me(s,""),r.flags&=-33),oo(e,lo(e),s);break;case 3:case 4:var l=r.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(a(161))}}catch(i){Sc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,n){Zi=e,vo(e,t,n)}function vo(e,t,n){for(var r=0!==(1&e.mode);null!==Zi;){var s=Zi,a=s.child;if(22===s.tag&&r){var l=null!==s.memoizedState||Ji;if(!l){var i=s.alternate,o=null!==i&&null!==i.memoizedState||Ki;i=Ji;var c=Ki;if(Ji=l,(Ki=o)&&!c)for(Zi=s;null!==Zi;)o=(l=Zi).child,22===l.tag&&null!==l.memoizedState?wo(s):null!==o?(o.return=l,Zi=o):wo(s);for(;null!==a;)Zi=a,vo(a,t,n),a=a.sibling;Zi=s,Ji=i,Ki=c}bo(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Zi=a):bo(e)}}function bo(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ki||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ki)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Ha(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(a(163))}Ki||512&t.flags&&ro(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function jo(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function wo(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){Sc(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(o){Sc(t,s,o)}}var a=t.return;try{ro(t)}catch(o){Sc(t,a,o)}break;case 5:var l=t.return;try{ro(t)}catch(o){Sc(t,l,o)}}}catch(o){Sc(t,t.return,o)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var No,So=Math.ceil,Eo=b.ReactCurrentDispatcher,ko=b.ReactCurrentOwner,Co=b.ReactCurrentBatchConfig,To=0,Ro=null,Ao=null,Oo=0,Io=0,Do=Ss(0),_o=0,Mo=null,Lo=0,Uo=0,Po=0,Fo=null,Bo=null,zo=0,qo=1/0,Ho=null,Wo=!1,Qo=null,Yo=null,Vo=!1,Jo=null,Ko=0,$o=0,Zo=null,Go=-1,Xo=0;function ec(){return 0!==(6&To)?Ze():-1!==Go?Go:Go=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&To)&&0!==Oo?Oo&-Oo:null!==pa.transition?(0===Xo&&(Xo=pt()),Xo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$o)throw $o=0,Zo=null,Error(a(185));gt(e,n,r),0!==(2&To)&&e===Ro||(e===Ro&&(0===(2&To)&&(Uo|=n),4===_o&&ic(e,Oo)),rc(e,r),1===n&&0===To&&0===(1&t.mode)&&(qo=Ze()+500,Fs&&qs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-lt(a),i=1<<l,o=s[l];-1===o?0!==(i&n)&&0===(i&r)||(s[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=mt(e,e===Ro?Oo:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Fs=!0,zs(e)}(oc.bind(null,e)):zs(oc.bind(null,e)),ls(function(){0===(6&To)&&qs()}),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Go=-1,Xo=0,0!==(6&To))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=mt(e,e===Ro?Oo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var s=To;To|=2;var l=fc();for(Ro===e&&Oo===t||(Ho=null,qo=Ze()+500,mc(e,t));;)try{yc();break}catch(o){hc(e,o)}ka(),Eo.current=l,To=s,null!==Ao?t=0:(Ro=null,Oo=0,t=_o)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=ac(e,s))),1===t)throw n=Mo,mc(e,0),ic(e,r),rc(e,Ze()),n;if(6===t)ic(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ir(a(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=xc(e,r))&&(0!==(l=ft(e))&&(r=l,t=ac(e,l))),1===t))throw n=Mo,mc(e,0),ic(e,r),rc(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Bo,Ho);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=zo+500-Ze())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(jc.bind(null,e,Bo,Ho),t);break}jc(e,Bo,Ho);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-lt(r);l=1<<i,(i=t[i])>s&&(s=i),r&=~l}if(r=s,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*So(r/1960))-r)){e.timeoutHandle=rs(jc.bind(null,e,Bo,Ho),r);break}jc(e,Bo,Ho);break;default:throw Error(a(329))}}}return rc(e,Ze()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Fo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Bo,Bo=n,null!==t&&lc(t)),e}function lc(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function ic(e,t){for(t&=~Po,t&=~Uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&To))throw Error(a(327));wc();var t=mt(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Mo,mc(e,0),ic(e,t),rc(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bo,Ho),rc(e,Ze()),null}function cc(e,t){var n=To;To|=1;try{return e(t)}finally{0===(To=n)&&(qo=Ze()+500,Fs&&qs())}}function dc(e){null!==Jo&&0===Jo.tag&&0===(6&To)&&wc();var t=To;To|=1;var n=Co.transition,r=vt;try{if(Co.transition=null,vt=1,e)return e()}finally{vt=r,Co.transition=n,0===(6&(To=t))&&qs()}}function uc(){Io=Do.current,Es(Do)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Ao)for(n=Ao.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ds();break;case 3:$a(),Es(Rs),Es(Ts),nl();break;case 5:Ga(r);break;case 4:$a();break;case 13:case 19:Es(Xa);break;case 10:Ca(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Ro=e,Ao=e=Dc(e.current,null),Oo=Io=t,_o=0,Mo=null,Po=Uo=Lo=0,Bo=Fo=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(n=Oa[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var l=a.next;a.next=s,r.next=l}n.pending=r}Oa=null}return e}function hc(e,t){for(;;){var n=Ao;try{if(ka(),rl.current=Zl,cl){for(var r=ll.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}cl=!1}if(al=0,ol=il=ll=null,dl=!1,ul=0,ko.current=null,null===n||null===n.return){_o=1,Mo=t,Ao=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=Oo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=pi(i);if(null!==f){f.flags&=-257,xi(f,i,o,0,t),1&f.mode&&fi(l,d,t),c=d;var p=(t=f).updateQueue;if(null===p){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}if(0===(1&t)){fi(l,d,t),pc();break e}c=Error(a(426))}else if(sa&&1&o.mode){var g=pi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),xi(g,i,o,0,t),fa(oi(c,o));break e}}l=c=oi(c,o),4!==_o&&(_o=2),null===Fo?Fo=[l]:Fo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,za(l,mi(0,c,t));break e;case 1:o=c;var y=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Yo||!Yo.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,za(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}bc(n)}catch(b){t=b,Ao===n&&null!==n&&(Ao=n=n.return);continue}break}}function fc(){var e=Eo.current;return Eo.current=Zl,null===e?Zl:e}function pc(){0!==_o&&3!==_o&&2!==_o||(_o=4),null===Ro||0===(268435455&Lo)&&0===(268435455&Uo)||ic(Ro,Oo)}function xc(e,t){var n=To;To|=2;var r=fc();for(Ro===e&&Oo===t||(Ho=null,mc(e,t));;)try{gc();break}catch(s){hc(e,s)}if(ka(),To=n,Eo.current=r,null!==Ao)throw Error(a(261));return Ro=null,Oo=0,_o}function gc(){for(;null!==Ao;)vc(Ao)}function yc(){for(;null!==Ao&&!Ke();)vc(Ao)}function vc(e){var t=No(e.alternate,e,Io);e.memoizedProps=e.pendingProps,null===t?bc(e):Ao=t,ko.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yi(n,t,Io)))return void(Ao=n)}else{if(null!==(n=Vi(n,t)))return n.flags&=32767,void(Ao=n);if(null===e)return _o=6,void(Ao=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ao=t);Ao=t=e}while(null!==t);0===_o&&(_o=5)}function jc(e,t,n){var r=vt,s=Co.transition;try{Co.transition=null,vt=1,function(e,t,n,r){do{wc()}while(null!==Jo);if(0!==(6&To))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-lt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,l),e===Ro&&(Ao=Ro=null,Oo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vo||(Vo=!0,Rc(tt,function(){return wc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Co.transition,Co.transition=null;var i=vt;vt=1;var o=To;To|=4,ko.current=null,function(e,t){if(es=Wt,hr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==n||0!==s&&3!==m.nodeType||(o=i+s),m!==l||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===n&&++d===s&&(o=i),h===l&&++u===r&&(c=i),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Wt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var x=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:ti(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}p=eo,eo=!1}(e,n),xo(n,e),fr(ts),Wt=!!es,ts=es=null,e.current=n,yo(n,e,s),$e(),To=o,vt=i,Co.transition=l}else e.current=n;if(Vo&&(Vo=!1,Jo=e,Ko=s),l=e.pendingLanes,0===l&&(Yo=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wo)throw Wo=!1,e=Qo,Qo=null,e;0!==(1&Ko)&&0!==e.tag&&wc(),l=e.pendingLanes,0!==(1&l)?e===Zo?$o++:($o=0,Zo=e):$o=0,qs()}(e,t,n,r)}finally{Co.transition=s,vt=r}return null}function wc(){if(null!==Jo){var e=bt(Ko),t=Co.transition,n=vt;try{if(Co.transition=null,vt=16>e?16:e,null===Jo)var r=!1;else{if(e=Jo,Jo=null,Ko=0,0!==(6&To))throw Error(a(331));var s=To;for(To|=4,Zi=e.current;null!==Zi;){var l=Zi,i=l.child;if(0!==(16&Zi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Zi=d;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Zi=m;else for(;null!==Zi;){var h=(u=Zi).sibling,f=u.return;if(so(u),u===d){Zi=null;break}if(null!==h){h.return=f,Zi=h;break}Zi=f}}}var p=l.alternate;if(null!==p){var x=p.child;if(null!==x){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Zi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(l=Zi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Zi=y;break e}Zi=l.return}}var v=e.current;for(Zi=v;null!==Zi;){var b=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Zi=b;else e:for(i=v;null!==Zi;){if(0!==(2048&(o=Zi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(w){Sc(o,o.return,w)}if(o===i){Zi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Zi=j;break e}Zi=o.return}}if(To=s,qs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(w){}r=!0}return r}finally{vt=n,Co.transition=t}}return!1}function Nc(e,t,n){e=Fa(e,t=mi(0,t=oi(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yo||!Yo.has(r))){t=Fa(t,e=hi(t,e=oi(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ro===e&&(Oo&n)===n&&(4===_o||3===_o&&(130023424&Oo)===Oo&&500>Ze()-zo?mc(e,0):Po|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=_a(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),kc(e,n)}function Rc(e,t){return Ve(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,s,l){var i=2;if(r=e,"function"===typeof e)Ic(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Mc(n.children,s,l,t);case S:i=8,s|=8;break;case E:return(e=Oc(12,n,t,2|s)).elementType=E,e.lanes=l,e;case R:return(e=Oc(13,n,t,s)).elementType=R,e.lanes=l,e;case A:return(e=Oc(19,n,t,s)).elementType=A,e.lanes=l,e;case D:return Lc(n,s,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:i=10;break e;case C:i=9;break e;case T:i=11;break e;case O:i=14;break e;case I:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(i,n,t,s)).elementType=e,t.type=r,t.lanes=l,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Pc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,a,l,i,o){return e=new Fc(e,t,n,i,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function zc(e){if(!e)return Cs;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Is(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Is(n))return Ms(e,n,t)}return t}function qc(e,t,n,r,s,a,l,i,o){return(e=Bc(n,r,!0,e,0,a,0,i,o)).context=zc(null),n=e.current,(a=Pa(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,s),e.current.lanes=s,gt(e,s,r),rc(e,r),e}function Hc(e,t,n,r){var s=t.current,a=ec(),l=tc(s);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(s,t,l))&&(nc(e,s,l,a),Ba(e,s,l)),l}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}No=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Rs.current)yi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yi=!1,function(e,t,n){switch(t.tag){case 3:Ti(t),ha();break;case 5:Za(t);break;case 1:Is(t.type)&&Ls(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ks(wa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ks(Xa,1&Xa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Li(e,t,n):(ks(Xa,1&Xa.current),null!==(e=Hi(e,t,n))?e.sibling:null);ks(Xa,1&Xa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),ks(Xa,Xa.current),r)break;return null;case 22:case 23:return t.lanes=0,Ni(e,t,n)}return Hi(e,t,n)}(e,t,n);yi=0!==(131072&e.flags)}else yi=!1,sa&&0!==(1048576&t.flags)&&Xs(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var s=Os(t,Ts.current);Ra(t,n),s=pl(null,t,r,e,s,n);var l=xl();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Is(r)?(l=!0,Ls(t)):l=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,La(t),s.updater=ri,t.stateNode=s,s._reactInternals=t,ii(t,r,e,n),t=Ci(null,t,r,!0,l,n)):(t.tag=0,sa&&l&&ea(t),vi(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ti(r,e),s){case 0:t=Ei(null,t,r,e,n);break e;case 1:t=ki(null,t,r,e,n);break e;case 11:t=bi(null,t,r,e,n);break e;case 14:t=ji(null,t,r,ti(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ei(e,t,r,s=t.elementType===r?s:ti(r,s),n);case 1:return r=t.type,s=t.pendingProps,ki(e,t,r,s=t.elementType===r?s:ti(r,s),n);case 3:e:{if(Ti(t),null===e)throw Error(a(387));r=t.pendingProps,s=(l=t.memoizedState).element,Ua(e,t),qa(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ri(e,t,r,n,s=oi(Error(a(423)),t));break e}if(r!==s){t=Ri(e,t,r,n,s=oi(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===s){t=Hi(e,t,n);break e}vi(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ca(t),r=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,i=s.children,ns(r,s)?i=null:null!==l&&ns(r,l)&&(t.flags|=32),Si(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Li(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):vi(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,bi(e,t,r,s=t.elementType===r?s:ti(r,s),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,ks(wa,r._currentValue),r._currentValue=i,null!==l)if(ir(l.value,i)){if(l.children===s.children&&!Rs.current){t=Hi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Pa(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ta(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(a(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ta(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ra(t,n),r=r(s=Aa(s)),t.flags|=1,vi(e,t,r,n),t.child;case 14:return s=ti(r=t.type,t.pendingProps),ji(e,t,r,s=ti(r.type,s),n);case 15:return wi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ti(r,s),qi(e,t),t.tag=1,Is(r)?(e=!0,Ls(t)):e=!1,Ra(t,n),ai(t,r,s),ii(t,r,s,n),Ci(null,t,r,!0,e,n);case 19:return zi(e,t,n);case 22:return Ni(e,t,n)}throw Error(a(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gc(){}function Xc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if("function"===typeof s){var i=s;s=function(){var e=Wc(l);i.call(e)}}Hc(t,l,e,s)}else l=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=qc(t,r,e,0,null,!1,0,"",Gc);return e._reactRootContainer=l,e[fs]=l.current,qr(8===e.nodeType?e.parentNode:e),dc(),l}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var i=r;r=function(){var e=Wc(o);i.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Gc);return e._reactRootContainer=o,e[fs]=o.current,qr(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,o,n,r)}),o}(n,t,e,s,r);return Wc(l)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[fs]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),0===(6&To)&&(qo=Ze()+500,qs()))}break;case 13:dc(function(){var t=_a(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Yc(e,1)}},wt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=_a(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},St=function(){return vt},Et=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(G(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=js(r);if(!s)throw Error(a(90));V(r),G(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Re=dc;var ed={usingClientEntryPoint:!1,Events:[vs,bs,js,ke,Ce,cc]},td={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(nd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",s=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,qr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,l="",i=Vc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,s,0,l,i),e[fs]=t.current,qr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},819:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>r.E});var r=n(90),s=n(298);n.o(s,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return s.QueryClientProvider}}),n.o(s,"useQuery")&&n.d(t,{useQuery:function(){return s.useQuery}})},853:(e,t,n)=>{"use strict";e.exports=n(234)},870:(e,t,n)=>{"use strict";n.d(t,{BH:()=>y,Cp:()=>x,F$:()=>f,G6:()=>S,HN:()=>o,MK:()=>m,Od:()=>p,S$:()=>s,Zw:()=>l,b_:()=>u,f8:()=>v,gn:()=>i,j3:()=>c,jY:()=>E,lQ:()=>a,nJ:()=>h,vh:()=>d,yy:()=>N});var r=n(168),s="undefined"===typeof window;function a(){}function l(e,t){return"function"===typeof e?e(t):e}function i(e){return"number"===typeof e&&e>=0&&e!==1/0}function o(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function d(e,t,n){return w(e)?"function"===typeof t?(0,r.A)({},n,{queryKey:e,queryFn:t}):(0,r.A)({},t,{queryKey:e}):e}function u(e,t,n){return w(e)?[(0,r.A)({},t,{queryKey:e}),n]:[e||{},t]}function m(e,t){var n=e.active,r=e.exact,s=e.fetching,a=e.inactive,l=e.predicate,i=e.queryKey,o=e.stale;if(w(i))if(r){if(t.queryHash!==f(i,t.options))return!1}else if(!x(t.queryKey,i))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,a);if("none"===c)return!1;if("all"!==c){var d=t.isActive();if("active"===c&&!d)return!1;if("inactive"===c&&d)return!1}return("boolean"!==typeof o||t.isStale()===o)&&(("boolean"!==typeof s||t.isFetching()===s)&&!(l&&!l(t)))}function h(e,t){var n=e.exact,r=e.fetching,s=e.predicate,a=e.mutationKey;if(w(a)){if(!t.options.mutationKey)return!1;if(n){if(p(t.options.mutationKey)!==p(a))return!1}else if(!x(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(s&&!s(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||p)(e)}function p(e){var t,n=o(e);return t=n,JSON.stringify(t,function(e,t){return b(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t})}function x(e,t){return g(o(e),o(t))}function g(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(function(n){return!g(e[n],t[n])}))}function y(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||b(e)&&b(t)){for(var r=n?e.length:Object.keys(e).length,s=n?t:Object.keys(t),a=s.length,l=n?[]:{},i=0,o=0;o<a;o++){var c=n?o:s[o];l[c]=y(e[c],t[c]),l[c]===e[c]&&i++}return r===a&&i===r?e:l}return t}function v(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function b(e){if(!j(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!j(n)&&!!n.hasOwnProperty("isPrototypeOf")}function j(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){return"string"===typeof e||Array.isArray(e)}function N(e){return new Promise(function(t){setTimeout(t,e)})}function S(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function E(){if("function"===typeof AbortController)return new AbortController}},907:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>r.QueryClient,QueryClientProvider:()=>s.QueryClientProvider,useQuery:()=>s.useQuery});var r=n(819);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}}),n.o(r,"useQuery")&&n.d(t,{useQuery:function(){return r.useQuery}});var s=n(223)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},990:(e,t,n)=>{"use strict";n.d(t,{dd:()=>i,eJ:()=>d,wm:()=>c});var r=n(244),s=n(317),a=n(870);function l(e){return Math.min(1e3*Math.pow(2,e),3e4)}function i(e){return"function"===typeof(null==e?void 0:e.cancel)}var o=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof o}var d=function(e){var t,n,c,d,u=this,m=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){m=!0},this.continueRetry=function(){m=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){c=e,d=t});var h=function(t){u.isResolved||(u.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),c(t))},f=function(t){u.isResolved||(u.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),d(t))};!function c(){if(!u.isResolved){var d;try{d=e.fn()}catch(p){d=Promise.reject(p)}t=function(e){if(!u.isResolved&&(f(new o(e)),null==u.abort||u.abort(),i(d)))try{d.cancel()}catch(t){}},u.isTransportCancelable=i(d),Promise.resolve(d).then(h).catch(function(t){var i,o;if(!u.isResolved){var d=null!=(i=e.retry)?i:3,h=null!=(o=e.retryDelay)?o:l,p="function"===typeof h?h(u.failureCount,t):h,x=!0===d||"number"===typeof d&&u.failureCount<d||"function"===typeof d&&d(u.failureCount,t);!m&&x?(u.failureCount++,null==e.onFail||e.onFail(u.failureCount,t),(0,a.yy)(p).then(function(){if(!r.m.isFocused()||!s.t.isOnline())return new Promise(function(t){n=t,u.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){n=void 0,u.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){m?f(t):c()})):f(t)}})}}()}},991:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var r=n(870),s=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.G6)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];t.schedule(function(){e.apply(void 0,r)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.G6)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>r[e]);return l.default=()=>r,n.d(a,l),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>qt,hasStandardBrowserEnv:()=>Wt,hasStandardBrowserWebWorkerEnv:()=>Qt,navigator:()=>Ht,origin:()=>Yt});var t,r=n(43),s=n.t(r,2),a=n(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const i="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ur){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,n,r,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,f=t.Pop,p=null,x=g();function g(){return(h.state||{idx:null}).idx}function y(){f=t.Pop;let e=g(),n=null==e?null:e-x;x=e,p&&p({action:f,location:b.location,delta:n})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,h.replaceState(l({},h.state,{idx:x}),""));let b={get action(){return f},get location(){return e(a,h)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(i,y),p=e,()=>{a.removeEventListener(i,y),p=null}},createHref:e=>n(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;let s=u(b.location,e,n);r&&r(s,e),x=g()+1;let l=d(s,x),i=b.createHref(s);try{h.pushState(l,"",i)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;a.location.assign(i)}c&&p&&p({action:f,location:b.location,delta:1})},replace:function(e,n){f=t.Replace;let s=u(b.location,e,n);r&&r(s,e),x=g();let a=d(s,x),l=b.createHref(s);h.replaceState(a,"",l),c&&p&&p({action:f,location:b.location,delta:0})},go:e=>h.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let s=O(("string"===typeof t?h(t):t).pathname||"/",n);if(null==s)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let l=null;for(let i=0;null==l&&i<a.length;++i){let e=A(s);l=T(a[i],e,r)}return l}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};l.relativePath.startsWith("/")&&(o(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(r.length));let i=L([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),y(e.children,t,c,i)),(null!=e.path||e.index)&&t.push({path:i,score:C(i,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))s(e,t,r);else s(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let l=v(r.join("/")),i=[];return i.push(...l.map(e=>""===e?a:[a,e].join("/"))),s&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,j=3,w=2,N=1,S=10,E=-2,k=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=E),t&&(r+=w),n.filter(e=>!k(e)).reduce((e,t)=>e+(b.test(t)?j:""===t?N:S),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",l=[];for(let i=0;i<r.length;++i){let e=r[i],o=i===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!r[r.length-1].route.index&&(d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:L([a,d.pathname]),pathnameBase:U(L([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=L([a,d.pathnameBase]))}return l}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=i[n]||"";l=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[r]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:l,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function _(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function M(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=h(e):(s=l({},e),o(!s.pathname||!s.pathname.includes("?"),I("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),I("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),I("#","search","hash",s)));let a,i=""===e||""===s.pathname,c=i?"/":s.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:P(r),hash:F(s)}}(s,a),u=c&&"/"!==c&&c.endsWith("/"),m=(i||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const L=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const W=r.createContext(null);const Q=r.createContext(null);const Y=r.createContext(null);const V=r.createContext(null);const J=r.createContext({outlet:null,matches:[],isDataRoute:!1});const K=r.createContext(null);function $(){return null!=r.useContext(V)}function Z(){return $()||o(!1),r.useContext(V).location}function G(e){r.useContext(Y).static||r.useLayoutEffect(e)}function X(){let{isDataRoute:e}=r.useContext(J);return e?function(){let{router:e}=de(oe.UseNavigateStable),t=me(ce.UseNavigateStable),n=r.useRef(!1);return G(()=>{n.current=!0}),r.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},s)))},[e,t])}():function(){$()||o(!1);let e=r.useContext(W),{basename:t,future:n,navigator:s}=r.useContext(Y),{matches:a}=r.useContext(J),{pathname:l}=Z(),i=JSON.stringify(_(a,n.v7_relativeSplatPath)),c=r.useRef(!1);return G(()=>{c.current=!0}),r.useCallback(function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void s.go(n);let a=M(n,JSON.parse(i),l,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:L([t,a.pathname])),(r.replace?s.replace:s.push)(a,r.state,r)},[t,s,i,l,e])}()}const ee=r.createContext(null);function te(e,t){let{relative:n}=void 0===t?{}:t,{future:s}=r.useContext(Y),{matches:a}=r.useContext(J),{pathname:l}=Z(),i=JSON.stringify(_(a,s.v7_relativeSplatPath));return r.useMemo(()=>M(e,JSON.parse(i),l,"path"===n),[e,i,l,n])}function ne(e,n,s,a){$()||o(!1);let{navigator:l}=r.useContext(Y),{matches:i}=r.useContext(J),c=i[i.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let m,f=Z();if(n){var p;let e="string"===typeof n?h(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||o(!1),m=e}else m=f;let g=m.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=x(e,{pathname:y});let b=ie(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,s,a);return n&&b?r.createElement(V.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},b):b}function re(){let e=function(){var e;let t=r.useContext(K),n=ue(ce.UseRouteError),s=me(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[s]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const se=r.createElement(re,null);class ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:s}=e,a=r.useContext(W);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:t},s)}function ie(e,t,n,s){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===s&&(s=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=s)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=i.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||o(!1),i=i.slice(0,Math.min(i.length,e+1))}let d=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){d=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,s,a)=>{let l,o=!1,m=null,h=null;var f;n&&(l=c&&s.route.id?c[s.route.id]:void 0,m=s.route.errorElement||se,d&&(u<0&&0===a?(f="route-fallback",!1||he[f]||(he[f]=!0),o=!0,h=null):u===a&&(o=!0,h=s.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,a+1)),x=()=>{let t;return t=l?m:o?h:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(le,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:m,error:l,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=r.useContext(W);return t||o(!1),t}function ue(e){let t=r.useContext(Q);return t||o(!1),t}function me(e){let t=function(){let e=r.useContext(J);return e||o(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||o(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function pe(e){let{to:t,replace:n,state:s,relative:a}=e;$()||o(!1);let{future:l,static:i}=r.useContext(Y),{matches:c}=r.useContext(J),{pathname:d}=Z(),u=X(),m=M(t,_(c,l.v7_relativeSplatPath),d,"path"===a),h=JSON.stringify(m);return r.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:a}),[u,h,a,n,s]),null}function xe(e){return function(e){let t=r.useContext(J).outlet;return t?r.createElement(ee.Provider,{value:e},t):t}(e.context)}function ge(e){o(!1)}function ye(e){let{basename:n="/",children:s=null,location:a,navigationType:l=t.Pop,navigator:i,static:c=!1,future:d}=e;$()&&o(!1);let u=n.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:u,navigator:i,static:c,future:H({v7_relativeSplatPath:!1},d)}),[u,d,i,c]);"string"===typeof a&&(a=h(a));let{pathname:f="/",search:p="",hash:x="",state:g=null,key:y="default"}=a,v=r.useMemo(()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:x,state:g,key:y},navigationType:l}},[u,f,p,x,g,y,l]);return null==v?null:r.createElement(Y.Provider,{value:m},r.createElement(V.Provider,{children:s,value:v}))}function ve(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise(()=>{});r.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,s)=>{if(!r.isValidElement(e))return;let a=[...t,s];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,a));e.type!==ge&&o(!1),e.props.index&&e.props.children&&o(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=be(e.props.children,a)),n.push(l)}),n}var je=n(950),we=n.t(je,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ur){}new Map;const ke=s.startTransition;we.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:s,window:a}=e,l=r.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),f(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return u("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,i)));let o=l.current,[c,d]=r.useState({action:o.action,location:o.location}),{v7_startTransition:h}=s||{},p=r.useCallback(e=>{h&&ke?ke(()=>d(e)):d(e)},[d,h]);return r.useLayoutEffect(()=>o.listen(p),[o,p]),r.useEffect(()=>fe(s),[s]),r.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:s})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=r.forwardRef(function(e,t){let n,{onClick:s,relative:a,reloadDocument:l,replace:i,state:c,target:d,to:u,preventScrollReset:h,viewTransition:f}=e,p=Se(e,Ee),{basename:x}=r.useContext(Y),g=!1;if("string"===typeof u&&Re.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,x);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(ur){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;$()||o(!1);let{basename:s,navigator:a}=r.useContext(Y),{hash:l,pathname:i,search:c}=te(e,{relative:n}),d=i;return"/"!==s&&(d="/"===i?s:L([s,i])),a.createHref({pathname:d,search:c,hash:l})}(u,{relative:a}),v=function(e,t){let{target:n,replace:s,state:a,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=X(),d=Z(),u=te(e,{relative:i});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==s?s:m(d)===m(u);c(e,{replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,s,a,n,e,l,i,o])}(u,{replace:i,state:c,target:d,preventScrollReset:h,relative:a,viewTransition:f});return r.createElement("a",Ne({},p,{href:n||y,onClick:g||l?s:function(e){s&&s(e),e.defaultPrevented||v(e)},ref:t,target:d}))});var Oe,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function De(e,t){return function(){return e.apply(t,arguments)}}const{toString:_e}=Object.prototype,{getPrototypeOf:Me}=Object,{iterator:Le,toStringTag:Ue}=Symbol,Pe=(Fe=Object.create(null),e=>{const t=_e.call(e);return Fe[t]||(Fe[t]=t.slice(8,-1).toLowerCase())});var Fe;const Be=e=>(e=e.toLowerCase(),t=>Pe(t)===e),ze=e=>t=>typeof t===e,{isArray:qe}=Array,He=ze("undefined");const We=Be("ArrayBuffer");const Qe=ze("string"),Ye=ze("function"),Ve=ze("number"),Je=e=>null!==e&&"object"===typeof e,Ke=e=>{if("object"!==Pe(e))return!1;const t=Me(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ue in e)&&!(Le in e)},$e=Be("Date"),Ze=Be("File"),Ge=Be("Blob"),Xe=Be("FileList"),et=Be("URLSearchParams"),[tt,nt,rt,st]=["ReadableStream","Request","Response","Headers"].map(Be);function at(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),qe(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let l;for(n=0;n<a;n++)l=r[n],t.call(null,e[l],l,e)}}function lt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const it="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ot=e=>!He(e)&&e!==it;const ct=(dt="undefined"!==typeof Uint8Array&&Me(Uint8Array),e=>dt&&e instanceof dt);var dt;const ut=Be("HTMLFormElement"),mt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ht=Be("RegExp"),ft=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};at(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const pt=Be("AsyncFunction"),xt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],it.addEventListener("message",e=>{let{source:t,data:s}=e;t===it&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),it.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Ye(it.postMessage)),gt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(it):"undefined"!==typeof process&&process.nextTick||xt,yt={isArray:qe,isArrayBuffer:We,isBuffer:function(e){return null!==e&&!He(e)&&null!==e.constructor&&!He(e.constructor)&&Ye(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ye(e.append)&&("formdata"===(t=Pe(e))||"object"===t&&Ye(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&We(e.buffer),t},isString:Qe,isNumber:Ve,isBoolean:e=>!0===e||!1===e,isObject:Je,isPlainObject:Ke,isReadableStream:tt,isRequest:nt,isResponse:rt,isHeaders:st,isUndefined:He,isDate:$e,isFile:Ze,isBlob:Ge,isRegExp:ht,isFunction:Ye,isStream:e=>Je(e)&&Ye(e.pipe),isURLSearchParams:et,isTypedArray:ct,isFileList:Xe,forEach:at,merge:function e(){const{caseless:t}=ot(this)&&this||{},n={},r=(r,s)=>{const a=t&&lt(n,s)||s;Ke(n[a])&&Ke(r)?n[a]=e(n[a],r):Ke(r)?n[a]=e({},r):qe(r)?n[a]=r.slice():n[a]=r};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&at(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return at(t,(t,r)=>{n&&Ye(t)?e[r]=De(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,l;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)l=s[a],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&Me(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Pe,kindOfTest:Be,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(qe(e))return e;let t=e.length;if(!Ve(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Le]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ut,hasOwnProperty:mt,hasOwnProp:mt,reduceDescriptors:ft,freezeMethods:e=>{ft(e,(t,n)=>{if(Ye(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ye(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return qe(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:lt,global:it,isContextDefined:ot,isSpecCompliantForm:function(e){return!!(e&&Ye(e.append)&&"FormData"===e[Ue]&&e[Le])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Je(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=qe(e)?[]:{};return at(e,(e,t)=>{const a=n(e,r+1);!He(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:pt,isThenable:e=>e&&(Je(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),setImmediate:xt,asap:gt,isIterable:e=>null!=e&&Ye(e[Le])};function vt(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}yt.inherits(vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.status}}});const bt=vt.prototype,jt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jt[e]={value:e}}),Object.defineProperties(vt,jt),Object.defineProperty(bt,"isAxiosError",{value:!0}),vt.from=(e,t,n,r,s,a)=>{const l=Object.create(bt);return yt.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),vt.call(l,e.message,t,n,r,s),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const wt=vt;function Nt(e){return yt.isPlainObject(e)||yt.isArray(e)}function St(e){return yt.endsWith(e,"[]")?e.slice(0,-2):e}function Et(e,t,n){return e?e.concat(t).map(function(e,t){return e=St(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const kt=yt.toFlatObject(yt,{},null,function(e){return/^is[A-Z]/.test(e)});const Ct=function(e,t,n){if(!yt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=yt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!yt.isUndefined(t[e])})).metaTokens,s=n.visitor||c,a=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&yt.isSpecCompliantForm(t);if(!yt.isFunction(s))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(yt.isDate(e))return e.toISOString();if(yt.isBoolean(e))return e.toString();if(!i&&yt.isBlob(e))throw new wt("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(e)||yt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let i=e;if(e&&!s&&"object"===typeof e)if(yt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(yt.isArray(e)&&function(e){return yt.isArray(e)&&!e.some(Nt)}(e)||(yt.isFileList(e)||yt.endsWith(n,"[]"))&&(i=yt.toArray(e)))return n=St(n),i.forEach(function(e,r){!yt.isUndefined(e)&&null!==e&&t.append(!0===l?Et([n],r,a):null===l?n:n+"[]",o(e))}),!1;return!!Nt(e)||(t.append(Et(s,n,a),o(e)),!1)}const d=[],u=Object.assign(kt,{defaultVisitor:c,convertValue:o,isVisitable:Nt});if(!yt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!yt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),yt.forEach(n,function(n,a){!0===(!(yt.isUndefined(n)||null===n)&&s.call(t,n,yt.isString(a)?a.trim():a,r,u))&&e(n,r?r.concat(a):[a])}),d.pop()}}(e),t};function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Rt(e,t){this._pairs=[],e&&Ct(e,this,t)}const At=Rt.prototype;At.append=function(e,t){this._pairs.push([e,t])},At.toString=function(e){const t=e?function(t){return e.call(this,t,Tt)}:Tt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ot=Rt;function It(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dt(e,t,n){if(!t)return e;const r=n&&n.encode||It;yt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):yt.isURLSearchParams(t)?t.toString():new Ot(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const _t=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Ut(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:t+""}function Pt(e,t,n){return(t=Ut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const zt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ot,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qt="undefined"!==typeof window&&"undefined"!==typeof document,Ht="object"===typeof navigator&&navigator||void 0,Wt=qt&&(!Ht||["ReactNative","NativeScript","NS"].indexOf(Ht.product)<0),Qt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Yt=qt&&window.location.href||"http://localhost",Vt=Bt(Bt({},e),zt);const Jt=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const l=Number.isFinite(+a),i=s>=e.length;if(a=!a&&yt.isArray(r)?r.length:a,i)return yt.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!l;r[a]&&yt.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&yt.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!l}if(yt.isFormData(e)&&yt.isFunction(e.entries)){const n={};return yt.forEachEntry(e,(e,r)=>{t(function(e){return yt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Kt={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=yt.isObject(e);s&&yt.isHTMLForm(e)&&(e=new FormData(e));if(yt.isFormData(e))return r?JSON.stringify(Jt(e)):e;if(yt.isArrayBuffer(e)||yt.isBuffer(e)||yt.isStream(e)||yt.isFile(e)||yt.isBlob(e)||yt.isReadableStream(e))return e;if(yt.isArrayBufferView(e))return e.buffer;if(yt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ct(e,new Vt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Vt.isNode&&yt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=yt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ct(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(yt.isString(e))try{return(t||JSON.parse)(e),yt.trim(e)}catch(ur){if("SyntaxError"!==ur.name)throw ur}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Kt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(yt.isResponse(e)||yt.isReadableStream(e))return e;if(e&&yt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(ur){if(n){if("SyntaxError"===ur.name)throw wt.from(ur,wt.ERR_BAD_RESPONSE,this,null,this.response);throw ur}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vt.classes.FormData,Blob:Vt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],e=>{Kt.headers[e]={}});const $t=Kt,Zt=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gt=Symbol("internals");function Xt(e){return e&&String(e).trim().toLowerCase()}function en(e){return!1===e||null==e?e:yt.isArray(e)?e.map(en):String(e)}function tn(e,t,n,r,s){return yt.isFunction(r)?r.call(this,t,n):(s&&(t=n),yt.isString(t)?yt.isString(r)?-1!==t.indexOf(r):yt.isRegExp(r)?r.test(t):void 0:void 0)}class nn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Xt(t);if(!s)throw new Error("header name must be a non-empty string");const a=yt.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=en(e))}const a=(e,t)=>yt.forEach(e,(e,n)=>s(e,n,t));if(yt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(yt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Zt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(yt.isObject(e)&&yt.isIterable(e)){let n,r,s={};for(const t of e){if(!yt.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?yt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Xt(e)){const n=yt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(yt.isFunction(t))return t.call(this,e,n);if(yt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xt(e)){const n=yt.findKey(this,e);return!(!n||void 0===this[n]||t&&!tn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Xt(e)){const s=yt.findKey(n,e);!s||t&&!tn(0,n[s],s,t)||(delete n[s],r=!0)}}return yt.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!tn(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return yt.forEach(this,(r,s)=>{const a=yt.findKey(n,s);if(a)return t[a]=en(r),void delete t[s];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();l!==s&&delete t[s],t[l]=en(r),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return yt.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&yt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Gt]=this[Gt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Xt(e);t[r]||(!function(e,t){const n=yt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return yt.isArray(e)?e.forEach(r):r(e),this}}nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yt.reduceDescriptors(nn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),yt.freezeMethods(nn);const rn=nn;function sn(e,t){const n=this||$t,r=t||n,s=rn.from(r.headers);let a=r.data;return yt.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function an(e){return!(!e||!e.__CANCEL__)}function ln(e,t,n){wt.call(this,null==e?"canceled":e,wt.ERR_CANCELED,t,n),this.name="CanceledError"}yt.inherits(ln,wt,{__CANCEL__:!0});const on=ln;function cn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new wt("Request failed with status code "+n.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const dn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];s||(s=o),n[a]=i,r[a]=o;let d=l,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),o-s<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const un=function(e,t){let n,r,s=0,a=1e3/t;const l=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=a?l(o,e):(n=o,r||(r=setTimeout(()=>{r=null,l(n)},a-t)))},()=>n&&l(n)]},mn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=dn(50,250);return un(n=>{const a=n.loaded,l=n.lengthComputable?n.total:void 0,i=a-r,o=s(i);r=a;e({loaded:a,total:l,progress:l?a/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&a<=l?(l-a)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},hn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},fn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yt.asap(()=>e(...n))},pn=Vt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vt.origin),Vt.navigator&&/(msie|trident)/i.test(Vt.navigator.userAgent)):()=>!0,xn=Vt.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const l=[e+"="+encodeURIComponent(t)];yt.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),yt.isString(r)&&l.push("path="+r),yt.isString(s)&&l.push("domain="+s),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function gn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yn=e=>e instanceof rn?Bt({},e):e;function vn(e,t){t=t||{};const n={};function r(e,t,n,r){return yt.isPlainObject(e)&&yt.isPlainObject(t)?yt.merge.call({caseless:r},e,t):yt.isPlainObject(t)?yt.merge({},t):yt.isArray(t)?t.slice():t}function s(e,t,n,s){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!yt.isUndefined(t))return r(void 0,t)}function l(e,t){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const o={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>s(yn(e),yn(t),0,!0)};return yt.forEach(Object.keys(Object.assign({},e,t)),function(r){const a=o[r]||s,l=a(e[r],t[r],r);yt.isUndefined(l)&&a!==i||(n[r]=l)}),n}const bn=e=>{const t=vn({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=rn.from(i),t.url=Dt(gn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),yt.isFormData(r))if(Vt.hasStandardBrowserEnv||Vt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Vt.hasStandardBrowserEnv&&(s&&yt.isFunction(s)&&(s=s(t)),s||!1!==s&&pn(t.url))){const e=a&&l&&xn.read(l);e&&i.set(a,e)}return t},jn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=bn(e);let s=r.data;const a=rn.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function x(){if(!p)return;const r=rn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());cn(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(x)},p.onabort=function(){p&&(n(new wt("Request aborted",wt.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new wt("Network Error",wt.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Mt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new wt(t,s.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,p)),p=null},void 0===s&&a.setContentType(null),"setRequestHeader"in p&&yt.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),yt.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),h&&([o,d]=mn(h,!0),p.addEventListener("progress",o)),m&&p.upload&&([i,c]=mn(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{p&&(n(!t||t.type?new on(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===Vt.protocols.indexOf(g)?n(new wt("Unsupported protocol "+g+":",wt.ERR_BAD_REQUEST,e)):p.send(s||null)})},wn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof wt?t:new on(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new wt("timeout ".concat(t," of ms exceeded"),wt.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:i}=r;return i.unsubscribe=()=>yt.asap(l),i}};function Nn(e,t){this.v=e,this.k=t}function Sn(e){return function(){return new En(e.apply(this,arguments))}}function En(e){var t,n;function r(t,n){try{var a=e[t](n),l=a.value,i=l instanceof Nn;Promise.resolve(i?l.v:l).then(function(n){if(i){var o="return"===t?"return":"next";if(!l.k||n.done)return r(o,n);n=e[o](n).value}s(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(a,l){var i={key:e,arg:s,resolve:a,reject:l,next:null};n?n=n.next=i:(t=n=i,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function kn(e){return new Nn(e,0)}function Cn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Nn(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Tn(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Rn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Rn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Rn=function(e){this.s=e,this.n=e.next},Rn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Rn(e)}En.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},En.prototype.next=function(e){return this._invoke("next",e)},En.prototype.throw=function(e){return this._invoke("throw",e)},En.prototype.return=function(e){return this._invoke("return",e)};const An=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},On=function(){var e=Sn(function*(e,t){var n,r=!1,s=!1;try{for(var a,l=Tn(In(e));r=!(a=yield kn(l.next())).done;r=!1){const e=a.value;yield*Cn(Tn(An(e,t)))}}catch(i){s=!0,n=i}finally{try{r&&null!=l.return&&(yield kn(l.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),In=function(){var e=Sn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Cn(Tn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield kn(t.read());if(e)break;yield n}}finally{yield kn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Dn=(e,t,n,r)=>{const s=On(e,t);let a,l=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return i(),void e.close();let a=r.byteLength;if(n){let e=l+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},_n="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Mn=_n&&"function"===typeof ReadableStream,Ln=_n&&("function"===typeof TextEncoder?(Un=new TextEncoder,e=>Un.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Un;const Pn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(ur){return!1}},Fn=Mn&&Pn(()=>{let e=!1;const t=new Request(Vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Bn=Mn&&Pn(()=>yt.isReadableStream(new Response("").body)),zn={stream:Bn&&(e=>e.body)};var qn;_n&&(qn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zn[e]&&(zn[e]=yt.isFunction(qn[e])?t=>t[e]():(t,n)=>{throw new wt("Response type '".concat(e,"' is not supported"),wt.ERR_NOT_SUPPORT,n)})}));const Hn=async(e,t)=>{const n=yt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(yt.isBlob(e))return e.size;if(yt.isSpecCompliantForm(e)){const t=new Request(Vt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return yt.isArrayBufferView(e)||yt.isArrayBuffer(e)?e.byteLength:(yt.isURLSearchParams(e)&&(e+=""),yt.isString(e)?(await Ln(e)).byteLength:void 0)})(t):n},Wn=_n&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=bn(e);c=c?(c+"").toLowerCase():"text";let h,f=wn([s,a&&a.toAbortSignal()],l);const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(o&&Fn&&"get"!==n&&"head"!==n&&0!==(x=await Hn(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(yt.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=hn(x,mn(fn(o)));r=Dn(n.body,65536,e,t)}}yt.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;h=new Request(t,Bt(Bt({},m),{},{signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:s?u:void 0}));let a=await fetch(h,m);const l=Bn&&("stream"===c||"response"===c);if(Bn&&(i||l&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=yt.toFiniteNumber(a.headers.get("content-length")),[n,r]=i&&hn(t,mn(fn(i),!0))||[];a=new Response(Dn(a.body,65536,n,()=>{r&&r(),p&&p()}),e)}c=c||"text";let g=await zn[yt.findKey(zn,c)||"text"](a,e);return!l&&p&&p(),await new Promise((t,n)=>{cn(t,n,{data:g,headers:rn.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})})}catch(g){if(p&&p(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new wt("Network Error",wt.ERR_NETWORK,e,h),{cause:g.cause||g});throw wt.from(g,g&&g.code,e,h)}}),Qn={http:null,xhr:jn,fetch:Wn};yt.forEach(Qn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ur){}Object.defineProperty(e,"adapterName",{value:t})}});const Yn=e=>"- ".concat(e),Vn=e=>yt.isFunction(e)||null===e||!1===e,Jn=e=>{e=yt.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Vn(n)&&(r=Qn[(t=String(n)).toLowerCase()],void 0===r))throw new wt("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+a]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Yn).join("\n"):" "+Yn(e[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Kn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function $n(e){Kn(e),e.headers=rn.from(e.headers),e.data=sn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Jn(e.adapter||$t.adapter)(e).then(function(t){return Kn(e),t.data=sn.call(e,e.transformResponse,t),t.headers=rn.from(t.headers),t},function(t){return an(t)||(Kn(e),t&&t.response&&(t.response.data=sn.call(e,e.transformResponse,t.response),t.response.headers=rn.from(t.response.headers))),Promise.reject(t)})}const Zn="1.10.0",Gn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Xn={};Gn.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Zn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new wt(r(s," has been removed"+(t?" in "+t:"")),wt.ERR_DEPRECATED);return t&&!Xn[s]&&(Xn[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},Gn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const er={assertOptions:function(e,t,n){if("object"!==typeof e)throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],l=t[a];if(l){const t=e[a],n=void 0===t||l(t,a,e);if(!0!==n)throw new wt("option "+a+" must be "+n,wt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new wt("Unknown option "+a,wt.ERR_BAD_OPTION)}},validators:Gn},tr=er.validators;class nr{constructor(e){this.defaults=e||{},this.interceptors={request:new _t,response:new _t}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ur){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=vn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&er.assertOptions(n,{silentJSONParsing:tr.transitional(tr.boolean),forcedJSONParsing:tr.transitional(tr.boolean),clarifyTimeoutError:tr.transitional(tr.boolean)},!1),null!=r&&(yt.isFunction(r)?t.paramsSerializer={serialize:r}:er.assertOptions(r,{encode:tr.function,serialize:tr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),er.assertOptions(t,{baseUrl:tr.spelling("baseURL"),withXsrfToken:tr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&yt.merge(s.common,s[t.method]);s&&yt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=rn.concat(a,s);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[$n.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=$n.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Dt(gn((e=vn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}yt.forEach(["delete","get","head","options"],function(e){nr.prototype[e]=function(t,n){return this.request(vn(n||{},{method:e,url:t,data:(n||{}).data}))}}),yt.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(vn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}nr.prototype[e]=t(),nr.prototype[e+"Form"]=t(!0)});const rr=nr;class sr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new on(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new sr(function(t){e=t});return{token:t,cancel:e}}}const ar=sr;const lr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lr).forEach(e=>{let[t,n]=e;lr[n]=t});const ir=lr;const or=function e(t){const n=new rr(t),r=De(rr.prototype.request,n);return yt.extend(r,rr.prototype,n,{allOwnKeys:!0}),yt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(vn(t,n))},r}($t);or.Axios=rr,or.CanceledError=on,or.CancelToken=ar,or.isCancel=an,or.VERSION=Zn,or.toFormData=Ct,or.AxiosError=wt,or.Cancel=or.CanceledError,or.all=function(e){return Promise.all(e)},or.spread=function(e){return function(t){return e.apply(null,t)}},or.isAxiosError=function(e){return yt.isObject(e)&&!0===e.isAxiosError},or.mergeConfig=vn,or.AxiosHeaders=rn,or.formToJSON=e=>Jt(yt.isHTMLForm(e)?new FormData(e):e),or.getAdapter=Jn,or.HttpStatusCode=ir,or.default=or;const cr=or;function dr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let ur={data:""},mr=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ur,hr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fr=/\/\*[^]*?\*\/|  +/g,pr=/\n+/g,xr=(e,t)=>{let n="",r="",s="";for(let a in e){let l=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+l+";":r+="f"==a[1]?xr(l,a):a+"{"+xr(l,"k"==a[1]?"":t)+"}":"object"==typeof l?r+=xr(l,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=l&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=xr.p?xr.p(a,l):a+":"+l+";")}return n+(t&&s?t+"{"+s+"}":s)+r},gr={},yr=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+yr(e[n]);return t}return e},vr=(e,t,n,r,s)=>{let a=yr(e),l=gr[a]||(gr[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!gr[l]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=hr.exec(e.replace(fr,""));)t[4]?r.shift():t[3]?(n=t[3].replace(pr," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(pr," ").trim();return r[0]})(e);gr[l]=xr(s?{["@keyframes "+l]:t}:t,n?"":"."+l)}let i=n&&gr.g?gr.g:null;return n&&(gr.g=gr[l]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(gr[l],t,r,i),l};function br(e){let t=this||{},n=e.call?e(t.p):e;return vr(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,s)=>{let a=t[s];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":xr(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,mr(t.target),t.g,t.o,t.k)}br.bind({g:1});let jr,wr,Nr,Sr=br.bind({k:1});function Er(e,t){let n=this||{};return function(){let r=arguments;function s(a,l){let i=Object.assign({},a),o=i.className||s.className;n.p=Object.assign({theme:wr&&wr()},i),n.o=/ *go\d+/.test(o),i.className=br.apply(n,r)+(o?" "+o:""),t&&(i.ref=l);let c=e;return e[0]&&(c=i.as||e,delete i.as),Nr&&c[0]&&Nr(i),jr(c,i)}return t?t(s):s}}var kr,Cr,Tr,Rr,Ar,Or,Ir,Dr,_r,Mr,Lr,Ur,Pr,Fr,Br,zr,qr=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Hr=(()=>{let e=0;return()=>(++e).toString()})(),Wr=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Qr=(e,t)=>{switch(t.type){case 0:return Bt(Bt({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return Bt(Bt({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Bt(Bt({},e),t.toast):e)});case 2:let{toast:n}=t;return Qr(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return Bt(Bt({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?Bt(Bt({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Bt(Bt({},e),{},{toasts:[]}):Bt(Bt({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Bt(Bt({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return Bt(Bt({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Bt(Bt({},e),{},{pauseDuration:e.pauseDuration+s}))})}},Yr=[],Vr={toasts:[],pausedAt:void 0},Jr=e=>{Vr=Qr(Vr,e),Yr.forEach(e=>{e(Vr)})},Kr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$r=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Bt(Bt({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Hr()})}(t,e,n);return Jr({type:2,toast:r}),r.id},Zr=(e,t)=>$r("blank")(e,t);Zr.error=$r("error"),Zr.success=$r("success"),Zr.loading=$r("loading"),Zr.custom=$r("custom"),Zr.dismiss=e=>{Jr({type:3,toastId:e})},Zr.remove=e=>Jr({type:4,toastId:e}),Zr.promise=(e,t,n)=>{let r=Zr.loading(t.loading,Bt(Bt({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?qr(t.success,e):void 0;return s?Zr.success(s,Bt(Bt({id:r},n),null==n?void 0:n.success)):Zr.dismiss(r),e}).catch(e=>{let s=t.error?qr(t.error,e):void 0;s?Zr.error(s,Bt(Bt({id:r},n),null==n?void 0:n.error)):Zr.dismiss(r)}),e};var Gr=(e,t)=>{Jr({type:1,toast:{id:e,height:t}})},Xr=()=>{Jr({type:5,time:Date.now()})},es=new Map,ts=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(Vr),s=(0,r.useRef)(Vr);(0,r.useEffect)(()=>(s.current!==Vr&&n(Vr),Yr.push(n),()=>{let e=Yr.indexOf(n);e>-1&&Yr.splice(e,1)}),[]);let a=t.toasts.map(t=>{var n,r,s;return Bt(Bt(Bt(Bt({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Kr[t.type],style:Bt(Bt(Bt({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return Bt(Bt({},t),{},{toasts:a})}(e);(0,r.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>Zr.dismiss(t.id),n);t.visible&&Zr.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let s=(0,r.useCallback)(()=>{n&&Jr({type:6,time:Date.now()})},[n]),a=(0,r.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:a}=n||{},l=t.filter(t=>(t.position||a)===(e.position||a)&&t.height),i=l.findIndex(t=>t.id===e.id),o=l.filter((e,t)=>t<i&&e.visible).length;return l.filter(e=>e.visible).slice(...r?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+s,0)},[t]);return(0,r.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(es.has(e))return;let n=setTimeout(()=>{es.delete(e),Jr({type:4,toastId:e})},t);es.set(e,n)}(e.id,e.removeDelay);else{let t=es.get(e.id);t&&(clearTimeout(t),es.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:Gr,startPause:Xr,endPause:s,calculateOffset:a}}},ns=Sr(kr||(kr=dr(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),rs=Sr(Cr||(Cr=dr(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ss=Sr(Tr||(Tr=dr(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),as=Er("div")(Rr||(Rr=dr(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",ns,rs,e=>e.secondary||"#fff",ss),ls=Sr(Ar||(Ar=dr(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),is=Er("div")(Or||(Or=dr(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ls),os=Sr(Ir||(Ir=dr(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),cs=Sr(Dr||(Dr=dr(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ds=Er("div")(_r||(_r=dr(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",os,cs,e=>e.secondary||"#fff"),us=Er("div")(Mr||(Mr=dr(["\n  position: absolute;\n"]))),ms=Er("div")(Lr||(Lr=dr(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),hs=Sr(Ur||(Ur=dr(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),fs=Er("div")(Pr||(Pr=dr(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),hs),ps=e=>{let{toast:t}=e,{icon:n,type:s,iconTheme:a}=t;return void 0!==n?"string"==typeof n?r.createElement(fs,null,n):n:"blank"===s?null:r.createElement(ms,null,r.createElement(is,Bt({},a)),"loading"!==s&&r.createElement(us,null,"error"===s?r.createElement(as,Bt({},a)):r.createElement(ds,Bt({},a))))},xs=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),gs=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),ys=Er("div")(Fr||(Fr=dr(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),vs=Er("div")(Br||(Br=dr(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),bs=r.memo(e=>{let{toast:t,position:n,style:s,children:a}=e,l=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Wr()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[xs(n),gs(n)];return{animation:t?"".concat(Sr(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Sr(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},i=r.createElement(ps,{toast:t}),o=r.createElement(vs,Bt({},t.ariaProps),qr(t.message,t));return r.createElement(ys,{className:t.className,style:Bt(Bt(Bt({},l),s),t.style)},"function"==typeof a?a({icon:i,message:o}):r.createElement(r.Fragment,null,i,o))});!function(e,t,n,r){xr.p=t,jr=e,wr=n,Nr=r}(r.createElement);var js=e=>{let{id:t,className:n,style:s,onHeightUpdate:a,children:l}=e,i=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return r.createElement("div",{ref:i,className:n,style:s},l)},ws=br(zr||(zr=dr(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Ns=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:s,gutter:a,children:l,containerStyle:i,containerClassName:o}=e,{toasts:c,handlers:d}=ts(s);return r.createElement("div",{id:"_rht_toaster",style:Bt({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},i),className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(e=>{let s=e.position||n,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Bt(Bt({left:0,right:0,display:"flex",position:"absolute",transition:Wr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),s)})(s,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return r.createElement(js,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?ws:"",style:i},"custom"===e.type?qr(e.message,e):l?l(e):r.createElement(bs,{toast:e,position:s}))}))},Ss=Zr,Es=n(579);const ks=(0,r.createContext)(),Cs=()=>{const e=(0,r.useContext)(ks);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ts={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000";cr.defaults.baseURL=Ts;const Rs=e=>{let{children:t}=e;const[n,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=localStorage.getItem("token");e&&(cr.defaults.headers.common.Authorization="Bearer ".concat(e))},[]),(0,r.useEffect)(()=>{(async()=>{if(localStorage.getItem("token"))try{const e=await cr.get("/api/auth/verify");s(e.data.user)}catch(e){console.error("Auth verification failed:",e),localStorage.removeItem("token"),delete cr.defaults.headers.common.Authorization}finally{l(!1)}else l(!1)})()},[]);const i={user:n,loading:a,login:async(e,t)=>{try{const n=await cr.post("/api/auth/login",{email:e,password:t}),{token:r,user:a}=n.data;return localStorage.setItem("token",r),cr.defaults.headers.common.Authorization="Bearer ".concat(r),s(a),Ss.success("Login successful!"),{success:!0}}catch(a){var n,r;const e=(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Login failed";return Ss.error(e),{success:!1,message:e}}},logout:async()=>{try{await cr.post("/api/auth/logout")}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("token"),delete cr.defaults.headers.common.Authorization,s(null),Ss.success("Logged out successfully")}},changePassword:async(e,t)=>{try{return await cr.post("/api/auth/change-password",{currentPassword:e,newPassword:t}),Ss.success("Password changed successfully"),{success:!0}}catch(s){var n,r;const e=(null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Password change failed";return Ss.error(e),{success:!1,message:e}}}};return(0,Es.jsx)(ks.Provider,{value:i,children:t})};function As(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const Os=["title","titleId"];function Is(e,t){let{title:n,titleId:s}=e,a=As(e,Os);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Ds=r.forwardRef(Is),_s=["title","titleId"];function Ms(e,t){let{title:n,titleId:s}=e,a=As(e,_s);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Ls=r.forwardRef(Ms),Us=["title","titleId"];function Ps(e,t){let{title:n,titleId:s}=e,a=As(e,Us);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Fs=r.forwardRef(Ps),Bs=["title","titleId"];function zs(e,t){let{title:n,titleId:s}=e,a=As(e,Bs);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const qs=r.forwardRef(zs),Hs=["title","titleId"];function Ws(e,t){let{title:n,titleId:s}=e,a=As(e,Hs);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Qs=r.forwardRef(Ws),Ys=["title","titleId"];function Vs(e,t){let{title:n,titleId:s}=e,a=As(e,Ys);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Js=r.forwardRef(Vs),Ks=["title","titleId"];function $s(e,t){let{title:n,titleId:s}=e,a=As(e,Ks);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Zs=r.forwardRef($s),Gs=["title","titleId"];function Xs(e,t){let{title:n,titleId:s}=e,a=As(e,Gs);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const ea=r.forwardRef(Xs),ta=["title","titleId"];function na(e,t){let{title:n,titleId:s}=e,a=As(e,ta);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ra=r.forwardRef(na),sa=["title","titleId"];function aa(e,t){let{title:n,titleId:s}=e,a=As(e,sa);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const la=r.forwardRef(aa),ia=["title","titleId"];function oa(e,t){let{title:n,titleId:s}=e,a=As(e,ia);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const ca=r.forwardRef(oa),da=[{name:"Dashboard",href:"/dashboard",icon:Ds},{name:"Academic Management",href:"/management",icon:Ls},{name:"Attendance Logs",href:"/attendance-logs",icon:Fs},{name:"Reports",href:"/reports",icon:qs},{name:"Sessions",href:"/sessions",icon:Qs},{name:"Users",href:"/users",icon:Js}];const ua=function(){const[e,t]=(0,r.useState)(!1),[n,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),{user:i,logout:o}=Cs(),c=Z(),d=(0,r.useRef)(null),u=e=>c.pathname===e;return(0,r.useEffect)(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&l(!1)};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a]),(0,Es.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Es.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden ".concat(e?"":"pointer-events-none"),children:[(0,Es.jsx)("div",{className:"fixed inset-0 bg-maroon-900 bg-opacity-30 backdrop-blur-sm transition-opacity ".concat(e?"opacity-100":"opacity-0"),onClick:()=>t(!1)}),(0,Es.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col transform transition-transform ".concat(e?"translate-x-0":"-translate-x-full"),style:{background:"linear-gradient(135deg, #1a0611 0%, #2d0a1a 25%, #4a1528 50%, #2d0a1a 75%, #1a0611 100%)"},children:[(0,Es.jsx)("div",{className:"absolute inset-0",style:{background:"rgba(128, 0, 32, 0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(128, 0, 32, 0.2)",boxShadow:"0 8px 32px 0 rgba(128, 0, 32, 0.2)"}}),(0,Es.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[(0,Es.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b border-maroon-200/30",children:[(0,Es.jsx)("img",{className:"h-8 w-auto",src:"/ldcu.png",alt:"Liceo de Cagayan University"}),(0,Es.jsxs)("div",{className:"ml-3",children:[(0,Es.jsx)("h1",{className:"text-sm font-semibold text-white",children:"IoT Attendance"}),(0,Es.jsx)("p",{className:"text-xs text-maroon-100",children:"Liceo de Cagayan"})]}),(0,Es.jsx)("button",{onClick:()=>t(!1),className:"text-maroon-200 hover:text-white transition-colors",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),(0,Es.jsx)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:da.map(e=>(0,Es.jsxs)(Ae,{to:e.href,className:"group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 ".concat(u(e.href)?"bg-white/20 text-white shadow-lg backdrop-blur-sm border border-white/10":"text-maroon-100 hover:bg-white/10 hover:text-white hover:backdrop-blur-sm"),onClick:()=>t(!1),children:[(0,Es.jsx)(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),e.name]},e.name))})]})]})]}),(0,Es.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col transition-all duration-300 ".concat(n?"lg:w-16":"lg:w-64"),style:{background:"linear-gradient(135deg, #1a0611 0%, #2d0a1a 25%, #4a1528 50%, #2d0a1a 75%, #1a0611 100%)"},children:(0,Es.jsxs)("div",{className:"flex flex-col flex-grow relative",style:{background:"rgba(128, 0, 32, 0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(128, 0, 32, 0.2)",boxShadow:"0 8px 32px 0 rgba(128, 0, 32, 0.2)"},children:[(0,Es.jsxs)("div",{className:"flex h-16 items-center px-4 border-b border-maroon-200/30",children:[(0,Es.jsx)("button",{onClick:()=>s(!n),className:"mr-3 text-maroon-200 hover:text-white transition-colors duration-200 p-1 rounded-md hover:bg-white/10",title:"Toggle Sidebar",children:(0,Es.jsx)(ea,{className:"h-5 w-5"})}),!n&&(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("img",{className:"h-8 w-auto",src:"/ldcu.png",alt:"Liceo de Cagayan University"}),(0,Es.jsxs)("div",{className:"ml-3",children:[(0,Es.jsx)("h1",{className:"text-sm font-semibold text-white",children:"IoT Attendance"}),(0,Es.jsx)("p",{className:"text-xs text-maroon-100",children:"Liceo de Cagayan"})]})]})]}),(0,Es.jsx)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:da.map(e=>(0,Es.jsxs)(Ae,{to:e.href,className:"group flex items-center ".concat(n?"px-2 py-3 justify-center":"px-3 py-2.5"," text-sm font-medium rounded-lg transition-all duration-200 ").concat(u(e.href)?"bg-white/20 text-white shadow-lg backdrop-blur-sm border border-white/10":"text-maroon-100 hover:bg-white/10 hover:text-white hover:backdrop-blur-sm"),title:n?e.name:"",children:[(0,Es.jsx)(e.icon,{className:"".concat(n?"h-6 w-6":"mr-3 h-5 w-5"," flex-shrink-0")}),!n&&e.name]},e.name))}),n&&(0,Es.jsx)("div",{className:"p-3 border-t border-maroon-200/30",children:(0,Es.jsx)("div",{className:"flex justify-center",children:(0,Es.jsx)("img",{className:"h-8 w-8 rounded-md opacity-80 hover:opacity-100 transition-opacity duration-200",src:"/ldcu.png",alt:"Liceo de Cagayan University",title:"Liceo de Cagayan University"})})})]})}),(0,Es.jsxs)("div",{className:"transition-all duration-300 ".concat(n?"lg:pl-16":"lg:pl-64"),children:[(0,Es.jsxs)("div",{className:"sticky top-0 z-10 relative",style:{background:"linear-gradient(135deg, #1a0611 0%, #2d0a1a 25%, #4a1528 50%, #2d0a1a 75%, #1a0611 100%)"},children:[(0,Es.jsx)("div",{className:"absolute inset-0",style:{background:"rgba(128, 0, 32, 0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(128, 0, 32, 0.2)",borderTop:"none",borderLeft:"none",borderRight:"none"}}),(0,Es.jsxs)("div",{className:"relative z-10 flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,Es.jsx)("div",{className:"flex items-center",children:(0,Es.jsx)("button",{onClick:()=>t(!0),className:"lg:hidden text-maroon-200 hover:text-white transition-colors duration-200 p-1 rounded-md hover:bg-white/10",children:(0,Es.jsx)(ea,{className:"h-6 w-6"})})}),(0,Es.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Es.jsx)("div",{className:"flex items-center space-x-2",children:(0,Es.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Es.jsx)("div",{className:"h-2 w-2 bg-green-400 rounded-full animate-pulse"}),(0,Es.jsx)("span",{className:"text-xs text-white/80",children:"System Online"})]})}),(0,Es.jsxs)("div",{className:"relative",ref:d,children:[(0,Es.jsxs)("button",{onClick:()=>l(!a),className:"flex items-center space-x-2 text-sm text-white hover:text-maroon-100 transition-colors duration-200",children:[(0,Es.jsx)(ra,{className:"h-8 w-8 text-maroon-200"}),(0,Es.jsxs)("span",{className:"hidden sm:block",children:[null===i||void 0===i?void 0:i.FIRSTNAME," ",null===i||void 0===i?void 0:i.LASTNAME]}),(0,Es.jsx)(la,{className:"h-4 w-4"})]}),(0,Es.jsxs)("div",{className:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg ring-1 ring-white/10 transition-all duration-300 ease-in-out transform ".concat(a?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-2 scale-95 pointer-events-none"),style:{background:"linear-gradient(135deg, #1a0611 0%, #2d0a1a 25%, #4a1528 50%, #2d0a1a 75%, #1a0611 100%)"},children:[(0,Es.jsx)("div",{className:"absolute inset-0 rounded-lg",style:{background:"rgba(128, 0, 32, 0.2)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(128, 0, 32, 0.3)"}}),(0,Es.jsxs)("div",{className:"relative z-10 py-1",children:[(0,Es.jsxs)("div",{className:"px-4 py-2 text-sm border-b border-white/10",children:[(0,Es.jsxs)("p",{className:"font-medium text-white",children:[null===i||void 0===i?void 0:i.FIRSTNAME," ",null===i||void 0===i?void 0:i.LASTNAME]}),(0,Es.jsx)("p",{className:"text-maroon-100",children:null===i||void 0===i?void 0:i.EMAIL}),(0,Es.jsx)("p",{className:"text-xs text-maroon-200 capitalize",children:null===i||void 0===i?void 0:i.USERTYPE})]}),(0,Es.jsxs)("button",{onClick:()=>{l(!1),o()},className:"flex items-center w-full px-4 py-2 text-sm text-maroon-100 hover:bg-white/10 hover:text-white transition-colors duration-200",children:[(0,Es.jsx)(ca,{className:"mr-3 h-4 w-4"}),"Sign out"]})]})]})]})]})]})]}),(0,Es.jsx)("main",{className:"py-6",children:(0,Es.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,Es.jsx)(xe,{})})})]})]})},ma=["title","titleId"];function ha(e,t){let{title:n,titleId:s}=e,a=As(e,ma);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const fa=r.forwardRef(ha),pa=["title","titleId"];function xa(e,t){let{title:n,titleId:s}=e,a=As(e,pa);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ga=r.forwardRef(xa);const ya=function(){const[e,t]=(0,r.useState)({email:"",password:""}),[n,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),{login:i}=Cs(),o=n=>{t(Bt(Bt({},e),{},{[n.target.name]:n.target.value}))};return(0,Es.jsx)("div",{className:"min-h-screen py-10 px-4 sm:px-6 lg:px-8 flex items-center justify-center",style:{backgroundImage:"url(/bg.png)",backgroundSize:"cover",backgroundPosition:"center"},children:(0,Es.jsxs)("div",{className:"relative w-full max-w-5xl",children:[(0,Es.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-white/10 backdrop-blur-sm border-2 border-maroon-600/60"}),(0,Es.jsxs)("div",{className:"relative grid grid-cols-1 md:grid-cols-2 overflow-hidden rounded-3xl shadow-2xl border-2 border-maroon-700 ring-2 ring-white/50",children:[(0,Es.jsx)("div",{className:"hidden md:block p-10 md:border-r-2 md:border-maroon-600/40",style:{background:"linear-gradient(135deg, rgba(128,0,32,0.85) 0%, rgba(38,10,22,0.85) 100%)"},children:(0,Es.jsxs)("div",{className:"h-full w-full rounded-2xl border-2 border-white/30 bg-white/5 backdrop-blur-md p-8 flex flex-col justify-center",children:[(0,Es.jsx)("div",{className:"mb-6 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium text-white/90 bg-white/10 ring-1 ring-white/20 w-max",children:"Secure Access"}),(0,Es.jsx)("h2",{className:"text-3xl font-extrabold text-white leading-tight",children:"IoT Attendance System"}),(0,Es.jsx)("p",{className:"mt-2 text-white/80",children:"Liceo de Cagayan University"}),(0,Es.jsx)("p",{className:"mt-8 text-sm text-white/70",children:"Sign in to your account to manage sessions, monitor attendance, and administer users."})]})}),(0,Es.jsx)("div",{className:"p-6 sm:p-8 md:p-10 bg-white/85 backdrop-blur-xl md:border-l-2 md:border-maroon-600/40",children:(0,Es.jsxs)("div",{className:"mx-auto w-full max-w-sm",children:[(0,Es.jsxs)("div",{className:"md:hidden mb-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-extrabold text-gray-900",children:"IoT Attendance System"}),(0,Es.jsx)("p",{className:"text-sm text-gray-600",children:"Liceo de Cagayan University"}),(0,Es.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Sign in to your account"})]}),(0,Es.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:async t=>{t.preventDefault(),l(!0);try{await i(e.email,e.password)}catch(n){console.error("Login error:",n)}finally{l(!1)}},children:[(0,Es.jsxs)("div",{className:"space-y-5",children:[(0,Es.jsx)("div",{className:"group relative",children:(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"peer relative z-10 block w-full rounded-2xl border-0 bg-white/70 backdrop-blur-sm px-6 py-4 pl-6 text-gray-900 placeholder-transparent shadow-lg ring-1 ring-inset ring-gray-200/60 transition-all duration-300 focus:bg-white/90 focus:ring-2 focus:ring-maroon-500/50 focus:ring-offset-2 focus:ring-offset-transparent hover:bg-white/80 hover:ring-gray-300/60",placeholder:"Email address",value:e.email,onChange:o}),(0,Es.jsx)("label",{htmlFor:"email",className:"absolute left-6 -top-2.5 z-20 text-sm font-medium text-gray-600 bg-white/90 px-2 rounded-full transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-maroon-600 peer-focus:bg-white/90 peer-focus:px-2 peer-hover:text-maroon-500 pointer-events-none",children:"Email address"}),(0,Es.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-maroon-500/10 to-primary-500/10 opacity-0 transition-opacity duration-300 peer-focus:opacity-100 pointer-events-none"})]})}),(0,Es.jsx)("div",{className:"group relative",children:(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",required:!0,className:"peer relative z-10 block w-full rounded-2xl border-0 bg-white/70 backdrop-blur-sm px-6 py-4 pl-6 pr-14 text-gray-900 placeholder-transparent shadow-lg ring-1 ring-inset ring-gray-200/60 transition-all duration-300 focus:bg-white/90 focus:ring-2 focus:ring-maroon-500/50 focus:ring-offset-2 focus:ring-offset-transparent hover:bg-white/80 hover:ring-gray-300/60",placeholder:"Password",value:e.password,onChange:o}),(0,Es.jsx)("label",{htmlFor:"password",className:"absolute left-6 -top-2.5 z-20 text-sm font-medium text-gray-600 bg-white/90 px-2 rounded-full transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-maroon-600 peer-focus:bg-white/90 peer-focus:px-2 peer-hover:text-maroon-500 pointer-events-none",children:"Password"}),(0,Es.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 z-30 flex items-center pr-4 text-gray-400 transition-colors duration-200 hover:text-maroon-500 focus:text-maroon-500 focus:outline-none",onClick:()=>s(!n),children:(0,Es.jsx)("div",{className:"rounded-full p-1.5 hover:bg-maroon-50 transition-colors duration-200",children:n?(0,Es.jsx)(fa,{className:"h-5 w-5"}):(0,Es.jsx)(ga,{className:"h-5 w-5"})})}),(0,Es.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-maroon-500/10 to-primary-500/10 opacity-0 transition-opacity duration-300 peer-focus:opacity-100 pointer-events-none"})]})})]}),(0,Es.jsxs)("button",{type:"submit",disabled:a,className:"group relative mt-4 inline-flex w-full items-center justify-center rounded-2xl bg-gradient-to-r from-maroon-600 to-maroon-700 py-4 px-6 text-sm font-semibold text-white shadow-xl ring-1 ring-inset ring-maroon-700/20 transition-all duration-300 hover:from-maroon-700 hover:to-maroon-800 hover:-translate-y-1 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-maroon-500/50 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[(0,Es.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-white/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),(0,Es.jsx)("div",{className:"relative flex items-center",children:a?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing in..."]}):(0,Es.jsxs)(Es.Fragment,{children:["Sign in",(0,Es.jsx)("svg",{className:"ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Es.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]})]})})]})]})})};var va=n(907);const ba=["title","titleId"];function ja(e,t){let{title:n,titleId:s}=e,a=As(e,ba);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const wa=r.forwardRef(ja),Na=["title","titleId"];function Sa(e,t){let{title:n,titleId:s}=e,a=As(e,Na);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ea=r.forwardRef(Sa),ka=["title","titleId"];function Ca(e,t){let{title:n,titleId:s}=e,a=As(e,ka);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ta=r.forwardRef(Ca),Ra=e=>{let{title:t,value:n,icon:r,color:s="primary",change:a,changeType:l}=e;return(0,Es.jsx)("div",{className:"card",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"p-3 rounded-lg ".concat({primary:"bg-primary-50 text-primary-600",success:"bg-success-50 text-success-600",warning:"bg-warning-50 text-warning-600",danger:"bg-danger-50 text-danger-600"}[s]),children:(0,Es.jsx)(r,{className:"h-6 w-6"})}),(0,Es.jsxs)("div",{className:"ml-4 flex-1",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:n}),a&&(0,Es.jsxs)("p",{className:"text-sm ".concat("increase"===l?"text-success-600":"text-danger-600"),children:["increase"===l?"\u2191":"\u2193"," ",a]})]})]})})};const Aa=function(){var e;const{data:t,isLoading:n}=(0,va.useQuery)("dashboard-stats",async()=>(await cr.get("/api/dashboard/stats")).data),{data:r}=(0,va.useQuery)("recent-activity",async()=>(await cr.get("/api/dashboard/recent-activity")).data),{data:s}=(0,va.useQuery)("devices-online",async()=>{var e;return(null===(e=(await cr.get("/api/devices/online")).data)||void 0===e?void 0:e.devices)||[]},{refetchInterval:5e3});return n?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"Welcome to the IoT Attendance System"})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Es.jsx)(Ra,{title:"Total Users",value:(null===t||void 0===t?void 0:t.totalUsers)||0,icon:Js,color:"primary"}),(0,Es.jsx)(Ra,{title:"Active Sessions",value:(null===t||void 0===t?void 0:t.activeSessions)||0,icon:Qs,color:"success"}),(0,Es.jsx)(Ra,{title:"Today's Attendance",value:(null===t||void 0===t?void 0:t.todayAttendance)||0,icon:Fs,color:"warning"}),(0,Es.jsx)(Ra,{title:"Total Rooms",value:(null===t||void 0===t?void 0:t.totalRooms)||0,icon:wa,color:"primary"})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Es.jsxs)("div",{className:"card",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Health"}),(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(Ea,{className:"h-5 w-5 text-success-500 mr-2"}),(0,Es.jsx)("span",{className:"text-sm text-gray-700",children:"Database Connection"})]}),(0,Es.jsx)("span",{className:"badge-success",children:"Online"})]}),(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(Ea,{className:"h-5 w-5 text-success-500 mr-2"}),(0,Es.jsx)("span",{className:"text-sm text-gray-700",children:"API Server"})]}),(0,Es.jsx)("span",{className:"badge-success",children:"Running"})]}),(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(Ta,{className:"h-5 w-5 mr-2 ".concat(s&&s.length>0?"text-success-500":"text-danger-500")}),(0,Es.jsx)("span",{className:"text-sm text-gray-700",children:"IoT Devices"})]}),s&&s.length>0?(0,Es.jsxs)("span",{className:"badge-success",children:["Online: ",s.length]}):(0,Es.jsx)("span",{className:"badge-danger",children:"Offline"})]}),s&&s.length>0&&(0,Es.jsxs)("div",{className:"mt-2 space-y-1",children:[s.slice(0,5).map(e=>(0,Es.jsxs)("div",{className:"flex text-xs text-gray-600 justify-between",children:[(0,Es.jsxs)("span",{children:[e.deviceType||"Device",e.roomNumber?" \u2022 Room ".concat(e.roomNumber):e.location?" \u2022 ".concat(e.location):""]}),(0,Es.jsx)("span",{className:"text-gray-400",children:e.ipAddress||e.hostname||""})]},e.deviceId)),s.length>5&&(0,Es.jsxs)("div",{className:"text-xs text-gray-400",children:["and ",s.length-5," more\u2026"]})]})]})]}),(0,Es.jsxs)("div",{className:"card",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),(0,Es.jsx)("div",{className:"space-y-3",children:(null===r||void 0===r?void 0:r.length)>0?r.slice(0,5).map((e,t)=>(0,Es.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Es.jsx)("div",{className:"w-2 h-2 bg-primary-400 rounded-full mr-3"}),(0,Es.jsx)("span",{className:"text-gray-700",children:e.description}),(0,Es.jsx)("span",{className:"text-gray-500 ml-auto",children:e.time})]},t)):(0,Es.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent activity"})})]})]}),(0,Es.jsxs)("div",{className:"card",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Es.jsx)("button",{className:"btn-outline",children:"View Attendance"}),(0,Es.jsx)("button",{className:"btn-outline",children:"Manage Users"})]})]}),(0,Es.jsxs)("div",{className:"card",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Today's Sessions"}),(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Es.jsx)("thead",{className:"bg-gray-50",children:(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Room"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Instructor"})]})}),(0,Es.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(null===t||void 0===t||null===(e=t.todaySessions)||void 0===e?void 0:e.length)>0?t.todaySessions.map((e,t)=>(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.subject_name}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.room_number}),(0,Es.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.start_time," - ",e.end_time]}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsx)("span",{className:"badge ".concat("active"===e.status?"badge-success":"scheduled"===e.status?"badge-warning":"badge-gray"),children:e.status})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.instructor_name})]},t)):(0,Es.jsx)("tr",{children:(0,Es.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No sessions scheduled for today"})})})]})})]})]})},Oa=["title","titleId"];function Ia(e,t){let{title:n,titleId:s}=e,a=As(e,Oa);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Da=r.forwardRef(Ia),_a=["title","titleId"];function Ma(e,t){let{title:n,titleId:s}=e,a=As(e,_a);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const La=r.forwardRef(Ma),Ua=["title","titleId"];function Pa(e,t){let{title:n,titleId:s}=e,a=As(e,Ua);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Fa=r.forwardRef(Pa),Ba=["title","titleId"];function za(e,t){let{title:n,titleId:s}=e,a=As(e,Ba);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qa=r.forwardRef(za),Ha=["title","titleId"];function Wa(e,t){let{title:n,titleId:s}=e,a=As(e,Ha);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Qa=r.forwardRef(Wa),Ya=["title","titleId"];function Va(e,t){let{title:n,titleId:s}=e,a=As(e,Ya);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ja=r.forwardRef(Va),Ka=["title","titleId"];function $a(e,t){let{title:n,titleId:s}=e,a=As(e,Ka);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Za=r.forwardRef($a);const Ga=function(){const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(1),[h,f]=(0,r.useState)(1),[p,x]=(0,r.useState)(null),[g,y]=(0,r.useState)([]),v=(0,r.useRef)(!1),b=(0,r.useRef)(new Set),j=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.ATTENDANCEID)&&void 0!==t?t:null!==e&&void 0!==e&&e.STUDENTID&&null!==e&&void 0!==e&&e.SCANDATETIME?"".concat(e.STUDENTID,"-").concat(e.SCANDATETIME):void 0};(0,r.useEffect)(()=>{w()},[u,a,i,c]),(0,r.useEffect)(()=>{const e=setInterval(()=>{v.current||N()},5e3);return()=>clearInterval(e)},[u,a,i,c]);const w=async()=>{try{s(!0);const e=new URLSearchParams(Bt(Bt(Bt({page:u,limit:10},a&&{search:a}),i&&{date:i}),c&&{status:c})),n=await cr.get("http://localhost:5000/api/logs/attendance?".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});t(n.data.logs||[]),f(Math.ceil((n.data.total||0)/10)),x(new Date)}catch(e){console.error("Error fetching attendance logs:",e),Zr.error("Failed to load attendance logs"),t([])}finally{s(!1)}},N=async()=>{try{if(v.current)return;v.current=!0;const n=new URLSearchParams(Bt(Bt(Bt({page:u,limit:10},a&&{search:a}),i&&{date:i}),c&&{status:c})),r=await cr.get("http://localhost:5000/api/logs/attendance?".concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),s=r.data.logs||[],l=new Set((e||[]).map(e=>j(e)).filter(Boolean)),o=s.filter(e=>{const t=j(e);return t&&!l.has(t)});if(o.length>0){const n=[...o,...e].slice(0,10);t(n),f(Math.ceil((r.data.total||0)/10)),x(new Date);const s=j(o[0]);s&&!b.current.has(s)?(b.current.add(s),y([s]),setTimeout(()=>{y([])},800)):y([])}}catch(n){console.error("Error silently fetching attendance logs:",n)}finally{v.current=!1}},S=e=>{let{log:t,isNew:n}=e;const[s,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(n){const e=requestAnimationFrame(()=>a(!0));return()=>cancelAnimationFrame(e)}},[n]);const l=n?" bg-green-50":"",i=n?"".concat(s?"opacity-100 translate-x-0":"opacity-0 translate-x-8"," transition-all duration-500 ease-out will-change-transform will-change-opacity transform"):"";return(0,Es.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200"+l,children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center ".concat(i),children:[(0,Es.jsx)(Da,{className:"h-8 w-8 text-gray-400 mr-3"}),(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[t.FIRSTNAME," ",t.LASTNAME]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",t.STUDENTID||"N/A"]})]})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center ".concat(i),children:[(0,Es.jsx)(Qs,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"text-sm text-gray-900",children:C(t.SCANDATETIME)}),(0,Es.jsx)("div",{className:"text-sm text-gray-500",children:t.DATE})]})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center ".concat(i),children:[E(t.STATUS),(0,Es.jsx)("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(k(t.STATUS)),children:t.STATUS||"Unknown"})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center ".concat(i),children:[(0,Es.jsx)(La,{className:"h-5 w-5 text-purple-500 mr-2"}),(0,Es.jsx)("span",{className:"text-sm text-gray-900",children:t.AUTHMETHOD||"Fingerprint"})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center ".concat(i),children:[(0,Es.jsx)(Fa,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Es.jsx)("span",{className:"text-sm text-gray-900",children:t.LOCATION||"Unknown"})]})}),(0,Es.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Es.jsx)("div",{className:"text-sm text-gray-900 ".concat(i),children:t.ROOMNUMBER||"N/A"}),(0,Es.jsx)("div",{className:"text-sm text-gray-500 ".concat(i),children:t.ROOMNAME||""})]}),(0,Es.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Es.jsx)("div",{className:"text-sm text-gray-900 ".concat(i),children:t.SUBJECTCODE||"N/A"}),(0,Es.jsx)("div",{className:"text-sm text-gray-500 ".concat(i),children:t.SUBJECTNAME||""}),(0,Es.jsxs)("div",{className:"text-xs text-gray-400 ".concat(i),children:[t.ACADEMICYEAR," - ",t.SEMESTER]})]})]})},E=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"present":return(0,Es.jsx)(Ea,{className:"h-5 w-5 text-green-500"});case"late":return(0,Es.jsx)(Ta,{className:"h-5 w-5 text-yellow-500"});case"absent":return(0,Es.jsx)(qa,{className:"h-5 w-5 text-red-500"});default:return(0,Es.jsx)(Qs,{className:"h-5 w-5 text-gray-500"})}},k=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"late":return"bg-yellow-100 text-yellow-800";case"absent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})};return(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Logs"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"View and manage attendance records from fingerprint and RFID scans"}),p&&(0,Es.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated: ",p.toLocaleTimeString("en-US",{timeZone:"Asia/Manila"}),(0,Es.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Auto-refresh: 5s"})]})]}),(0,Es.jsxs)("button",{onClick:w,disabled:n,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[(0,Es.jsx)(Qa,{className:"h-4 w-4 mr-2 ".concat(n?"animate-spin":"")}),n?"Refreshing...":"Refresh"]})]}),(0,Es.jsx)("div",{className:"card",children:(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search by name, student ID...",value:a,onChange:e=>{l(e.target.value),m(1)},className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Es.jsx)("input",{type:"date",value:i,onChange:e=>{o(e.target.value),m(1)},className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Es.jsx)("div",{children:(0,Es.jsxs)("select",{value:c,onChange:e=>{d(e.target.value),m(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Es.jsx)("option",{value:"",children:"All Status"}),(0,Es.jsx)("option",{value:"Present",children:"Present"}),(0,Es.jsx)("option",{value:"Late",children:"Late"}),(0,Es.jsx)("option",{value:"Absent",children:"Absent"})]})}),(0,Es.jsx)("div",{children:(0,Es.jsx)("button",{onClick:()=>{l(""),o(""),d(""),m(1),w()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Refresh"})})]})}),(0,Es.jsx)("div",{className:"card",children:n?(0,Es.jsxs)("div",{className:"text-center py-12",children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Es.jsx)("p",{className:"mt-4 text-gray-500",children:"Loading attendance logs..."})]}):0===e.length?(0,Es.jsxs)("div",{className:"text-center py-12",children:[(0,Es.jsx)(La,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"}),(0,Es.jsx)("p",{className:"text-gray-500",children:"No attendance logs found. Try adjusting your filters or scan some fingerprints!"})]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,Es.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 transition-opacity duration-300",children:[(0,Es.jsx)("thead",{className:"bg-gray-50",children:(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"})]})}),(0,Es.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Es.jsx)(S,{log:e,isNew:g.includes(j(e))},j(e)))})]})})}),h>1&&(0,Es.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,Es.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Es.jsx)("button",{onClick:()=>m(Math.max(1,u-1)),disabled:1===u,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Es.jsx)("button",{onClick:()=>m(Math.min(h,u+1)),disabled:u===h,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Es.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Es.jsx)("div",{children:(0,Es.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,Es.jsx)("span",{className:"font-medium",children:u})," of"," ",(0,Es.jsx)("span",{className:"font-medium",children:h})]})}),(0,Es.jsx)("div",{children:(0,Es.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Es.jsx)("button",{onClick:()=>m(Math.max(1,u-1)),disabled:1===u,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Es.jsx)("button",{onClick:()=>m(Math.min(h,u+1)),disabled:u===h,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})})]})},Xa=["title","titleId"];function el(e,t){let{title:n,titleId:s}=e,a=As(e,Xa);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const tl=r.forwardRef(el),nl=["title","titleId"];function rl(e,t){let{title:n,titleId:s}=e,a=As(e,nl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const sl=r.forwardRef(rl),al=["title","titleId"];function ll(e,t){let{title:n,titleId:s}=e,a=As(e,al);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const il=r.forwardRef(ll),ol=["title","titleId"];function cl(e,t){let{title:n,titleId:s}=e,a=As(e,ol);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const dl=r.forwardRef(cl),ul=["title","titleId"];function ml(e,t){let{title:n,titleId:s}=e,a=As(e,ul);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const hl=r.forwardRef(ml);const fl=function(){const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!0),[h,f]=(0,r.useState)(new Date),[p,x]=(0,r.useState)([]),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(""),[j,w]=(0,r.useState)("");(0,r.useEffect)(()=>{N();const e=setInterval(N,3e4),t=setInterval(()=>f(new Date),1e3);return()=>{clearInterval(e),clearInterval(t)}},[]);const N=async()=>{try{var e,n,r;const a=localStorage.getItem("token"),i={Authorization:"Bearer ".concat(a)},c=(await cr.get("http://localhost:5000/api/unified/data",{headers:i})).data;console.log("Unified data response:",c);const u=(null===(e=c.schedules)||void 0===e?void 0:e.data)||[];console.log("All schedules data:",u),console.log("Sample schedule data:",u[0]),console.log("Sample schedule keys:",u[0]?Object.keys(u[0]):"No data"),s(u);const m=(new Date).toLocaleDateString("en-US",{weekday:"long"}),h=u.filter(e=>e.DAYOFWEEK===m);l(h);const f=(null===(n=c.subjects)||void 0===n?void 0:n.data)||[],p=(null===(r=c.rooms)||void 0===r?void 0:r.data)||[],x=[...new Map(f.map(e=>{var t,n;return[e.INSTRUCTORID,{USERID:e.INSTRUCTORID,FIRSTNAME:(null===(t=e.instructor_name)||void 0===t?void 0:t.split(" ")[0])||"",LASTNAME:(null===(n=e.instructor_name)||void 0===n?void 0:n.split(" ").slice(1).join(" "))||"",EMPLOYEEID:e.INSTRUCTORID}]})).values()];o(x);const g=p.map(e=>({ROOMID:e.ROOMID,ROOMNUMBER:e.ROOMNUMBER,ROOMNAME:e.ROOMNAME,BUILDING:e.BUILDING,DOORSTATUS:"locked"}));d(g);const y=new Date,v=y.toTimeString().slice(0,8),b=y.toISOString().split("T")[0],j=h.filter(e=>{const t=e.STARTTIME,n=e.ENDTIME;return v>=t&&v<=n}).map(e=>({id:e.SCHEDULEID,session_date:b,start_time:"".concat(b,"T").concat(e.STARTTIME),end_time:null,status:"active",door_unlocked_at:"".concat(b,"T").concat(e.STARTTIME),door_locked_at:null,instructor_name:e.instructor_name,course_code:e.SUBJECTCODE,course_name:e.SUBJECTNAME,room_number:e.ROOMNUMBER,room_name:e.ROOMNAME,attendance_count:0}));console.log("Virtual active sessions:",j),t(j)}catch(h){var a,i,c,u;console.error("Error fetching data:",h),console.error("Error response:",null===(a=h.response)||void 0===a?void 0:a.data),console.error("Error status:",null===(i=h.response)||void 0===i?void 0:i.status),Ss.error("Failed to load session data: ".concat((null===(c=h.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||h.message));const e=[{USERID:"1",FIRSTNAME:"John",LASTNAME:"Smith",EMPLOYEEID:"EMP001"},{USERID:"2",FIRSTNAME:"Jane",LASTNAME:"Doe",EMPLOYEEID:"EMP002"},{USERID:"3",FIRSTNAME:"Bob",LASTNAME:"Johnson",EMPLOYEEID:"EMP003"}],t=[{ROOMID:"1",ROOMNUMBER:"A101",ROOMNAME:"Computer Lab 1",BUILDING:"Main Building",DOORSTATUS:"locked"},{ROOMID:"2",ROOMNUMBER:"B201",ROOMNAME:"Mathematics Room",BUILDING:"Academic Building",DOORSTATUS:"locked"},{ROOMID:"3",ROOMNUMBER:"C301",ROOMNAME:"English Classroom",BUILDING:"Liberal Arts Building",DOORSTATUS:"locked"}],n=[{SCHEDULEID:"1",SUBJECTID:"1",SUBJECTCODE:"CS101",SUBJECTNAME:"Introduction to Computer Science",INSTRUCTORID:"1",instructor_name:"John Smith",ROOMID:"1",ROOMNUMBER:"A101",ROOMNAME:"Computer Lab 1",DAYOFWEEK:(new Date).toLocaleDateString("en-US",{weekday:"long"}),STARTTIME:"08:00:00",ENDTIME:"10:00:00",ACADEMICYEAR:"2024-2025",SEMESTER:"First Semester"}];o(e),d(t),l(n)}finally{m(!1)}};(0,r.useEffect)(()=>{if(a.length>0){const e=(new Date).toTimeString().slice(0,8);console.log("Current time string:",e),console.log("Today's schedules:",a);const t=a.find(t=>{const n=t.STARTTIME,r=t.ENDTIME,s=e>=n&&e<=r;return console.log("Checking schedule ".concat((null===t||void 0===t?void 0:t.subject_code)||"Unknown",": ").concat(n,"-").concat(r,", isOngoing: ").concat(s)),console.log("Schedule object:",t),s});console.log("Current ongoing class:",t),y(t||null);const n=a.filter(t=>t.STARTTIME>e).sort((e,t)=>e.STARTTIME.localeCompare(t.STARTTIME)).slice(0,3);console.log("Upcoming classes:",n),x(n)}},[a,h]);const S=e=>{if(!e)return"";return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},E=e=>{if(!e)return"";const[t,n]=e.split(":"),r=parseInt(t),s=r>=12?"PM":"AM";return"".concat(r%12||12,":").concat(n," ").concat(s)},k=e=>{const t=new Date,n=t.toISOString().split("T")[0],r=new Date("".concat(n,"T").concat(e.STARTTIME)).getTime()-t.getTime();if(r<=0)return null;const s=Math.floor(r/36e5),a=Math.floor(r%36e5/6e4);return s>0?"".concat(s,"h ").concat(a,"m"):"".concat(a,"m")},C=(e,t)=>{if(!e)return"";const n=new Date(e),r=t?new Date(t):new Date,s=new Date;if(n.getTime()<s.getTime()-864e5)return"Invalid start time";const a=Math.floor((r-n)/6e4),l=Math.floor(a/60),i=a%60;return l>24?"24h+":l>0?"".concat(l,"h ").concat(i,"m"):"".concat(i,"m")};return u?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("div",{className:"flex justify-between items-center",children:(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Session Management"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"Monitor and manage class sessions"})]})}),(0,Es.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsx)("div",{className:"flex items-center space-x-4",children:(0,Es.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Es.jsx)(Qs,{className:"h-8 w-8 text-blue-600"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"text-3xl font-bold text-blue-900",children:h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),(0,Es.jsx)("div",{className:"text-lg text-blue-700",children:h.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),(0,Es.jsx)("div",{className:"text-right",children:(0,Es.jsxs)("div",{className:"flex items-center space-x-2 text-blue-700",children:[(0,Es.jsx)(Za,{className:"h-6 w-6"}),(0,Es.jsxs)("span",{className:"text-lg font-semibold",children:[a.length," classes scheduled today"]})]})})]})}),g&&(0,Es.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsx)("div",{className:"flex items-center space-x-4",children:(0,Es.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Es.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,Es.jsx)(tl,{className:"h-6 w-6 text-green-600"})}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"text-lg font-bold text-green-900",children:"Class in Progress"}),(0,Es.jsx)("div",{className:"text-sm text-green-700",children:"Session is currently active"})]})]})}),(0,Es.jsxs)("div",{className:"text-right",children:[(0,Es.jsxs)("div",{className:"text-2xl font-bold text-green-900",children:[g.SUBJECTCODE," - ",g.SUBJECTNAME]}),(0,Es.jsxs)("div",{className:"text-sm text-green-700",children:[g.instructor_name," \u2022 ",g.ROOMNUMBER]}),(0,Es.jsxs)("div",{className:"text-sm text-green-600",children:[E(g.STARTTIME)," - ",E(g.ENDTIME)]})]})]})}),p.length>0&&(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Es.jsx)(Qs,{className:"h-6 w-6 text-blue-600"}),(0,Es.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Classes Today"})]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map((e,t)=>{const n=k(e);return(0,Es.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Es.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Es.jsx)("span",{className:"text-sm font-bold text-blue-600",children:t+1})}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"font-semibold text-gray-900",children:e.SUBJECTCODE}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.SUBJECTNAME})]})]}),(0,Es.jsxs)("div",{className:"text-right",children:[(0,Es.jsx)("div",{className:"text-lg font-bold text-blue-600",children:E(e.STARTTIME)}),n&&(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:["in ",n]})]})]}),(0,Es.jsxs)("div",{className:"space-y-2",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Es.jsx)(sl,{className:"h-4 w-4"}),(0,Es.jsx)("span",{children:e.instructor_name})]}),(0,Es.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Es.jsx)(Fa,{className:"h-4 w-4"}),(0,Es.jsxs)("span",{children:[e.ROOMNUMBER," - ",e.ROOMNAME]})]}),(0,Es.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Es.jsx)(Qs,{className:"h-4 w-4"}),(0,Es.jsxs)("span",{children:[E(e.STARTTIME)," - ",E(e.ENDTIME)]})]})]})]},e.SCHEDULEID)})})]}),(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Es.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Active Sessions"}),0===e.length?(0,Es.jsx)("p",{className:"text-gray-500",children:"No active sessions for today"}):(0,Es.jsx)("div",{className:"space-y-4",children:e.map(e=>(console.log("Session data:",e),(0,Es.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full text-sm ".concat("active"===e.status?"bg-green-100 text-green-800":"waiting"===e.status?"bg-yellow-100 text-yellow-800":"ended"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:["active"===e.status?(0,Es.jsx)(tl,{className:"h-4 w-4"}):"waiting"===e.status?(0,Es.jsx)(Ta,{className:"h-4 w-4"}):(0,Es.jsx)(il,{className:"h-4 w-4"}),(0,Es.jsx)("span",{className:"capitalize",children:e.status})]}),e.door_unlocked_at&&!e.door_locked_at&&(0,Es.jsxs)("div",{className:"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:[(0,Es.jsx)(dl,{className:"h-3 w-3"}),(0,Es.jsx)("span",{children:"Door Unlocked"})]}),e.door_locked_at&&(0,Es.jsxs)("div",{className:"flex items-center space-x-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:[(0,Es.jsx)(hl,{className:"h-3 w-3"}),(0,Es.jsx)("span",{children:"Door Locked"})]})]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:["Duration: ",C(e.start_time,e.end_time)]})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.course_code||e.SUBJECTCODE}),(0,Es.jsx)("p",{className:"text-xs text-gray-600",children:e.course_name||e.SUBJECTNAME})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.instructor_name}),(0,Es.jsx)("p",{className:"text-xs text-gray-600",children:"Instructor"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.room_number}),(0,Es.jsx)("p",{className:"text-xs text-gray-600",children:e.room_name})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[S(e.start_time),e.end_time&&" - ".concat(S(e.end_time))]}),(0,Es.jsxs)("p",{className:"text-xs text-gray-600",children:[e.attendance_count||0," students present"]})]})]})]},e.id)))})]}),(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Es.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Weekly Schedule"}),(0,Es.jsxs)("div",{className:"flex space-x-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day Filter"}),(0,Es.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Days"}),n.length>0&&(()=>{const e=[...new Set(n.map(e=>e.DAYOFWEEK).filter(e=>e))];return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].filter(t=>e.includes(t))})().map(e=>(0,Es.jsx)("option",{value:e,children:e},e))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Filter"}),(0,Es.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Rooms"}),n.length>0&&(()=>{if(!n||0===n.length)return[];const e=[...new Map(n.map(e=>(console.log("Processing schedule for room:",e),[e.ROOMID,{id:e.ROOMID,number:e.room_number||e.ROOMNUMBER||"Unknown",name:e.room_name||e.ROOMNAME||"Unknown Room",building:e.BUILDING||"Unknown Building"}]))).values()];return console.log("Unique rooms before sort:",e),e.sort((e,t)=>{const n=e.number||"Unknown",r=t.number||"Unknown";return n.localeCompare(r)})})().map(e=>(0,Es.jsxs)("option",{value:e.id,children:[e.number," - ",e.name]},e.id))]})]}),(0,Es.jsx)("div",{className:"flex items-end",children:(0,Es.jsx)("button",{onClick:()=>{b(""),w("")},className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 underline",children:"Clear Filters"})})]})]}),0===n.length?(0,Es.jsx)("p",{className:"text-gray-500",children:"No schedules found"}):(0,Es.jsx)("div",{className:"space-y-6",children:(()=>{const e=(e=>{const t={};return e.forEach(e=>{const n=e.DAYOFWEEK;t[n]||(t[n]=[]),t[n].push(e)}),Object.keys(t).forEach(e=>{t[e].sort((e,t)=>e.STARTTIME.localeCompare(t.STARTTIME))}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>({day:e,schedules:t[e]||[]})).filter(e=>e.schedules.length>0)})((()=>{let e=n;return v&&(e=e.filter(e=>e.DAYOFWEEK===v)),j&&(e=e.filter(e=>e.ROOMID===j)),e})());return 0===e.length?(0,Es.jsxs)("div",{className:"text-center py-8",children:[(0,Es.jsx)(Za,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No schedules found"}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters to see more results."})]}):e.map(e=>{const t=(new Date).toLocaleDateString("en-US",{weekday:"long"}),n=e.day===t;return(0,Es.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,Es.jsx)("div",{className:"px-4 py-3 ".concat(n?"bg-blue-50 border-b border-blue-200":"bg-gray-50 border-b border-gray-200"),children:(0,Es.jsxs)("h3",{className:"text-lg font-semibold ".concat(n?"text-blue-900":"text-gray-900"),children:[e.day,n&&(0,Es.jsx)("span",{className:"ml-2 text-sm font-normal text-blue-600",children:"(Today)"}),(0,Es.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",e.schedules.length," classes)"]})]})}),(0,Es.jsx)("div",{className:"p-4",children:0===e.schedules.length?(0,Es.jsx)("p",{className:"text-gray-500 text-sm",children:"No classes scheduled"}):(0,Es.jsx)("div",{className:"space-y-3",children:e.schedules.map(t=>{const n=(e=>{const t=(new Date).toTimeString().slice(0,8),n=e.STARTTIME,r=e.ENDTIME;return t>=n&&t<=r?{status:"ongoing",color:"text-green-600",bgColor:"bg-green-100"}:t<n?{status:"upcoming",color:"text-blue-600",bgColor:"bg-blue-100"}:{status:"ended",color:"text-gray-600",bgColor:"bg-gray-100"}})(t),r=k(t),s=e.day===(new Date).toLocaleDateString("en-US",{weekday:"long"});return(0,Es.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border-2 ".concat(s?n.bgColor:"bg-gray-50"," ").concat(s?"border-gray-300":"border-gray-200"),children:[(0,Es.jsxs)("div",{className:"flex-1",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Es.jsxs)("h4",{className:"font-medium text-gray-900",children:[t.SUBJECTCODE," - ",t.SUBJECTNAME]}),s&&(0,Es.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(n.bgColor," ").concat(n.color),children:["ongoing"===n.status&&(0,Es.jsx)(tl,{className:"h-3 w-3 mr-1"}),"upcoming"===n.status&&(0,Es.jsx)(Qs,{className:"h-3 w-3 mr-1"}),"ended"===n.status&&(0,Es.jsx)(Ea,{className:"h-3 w-3 mr-1"}),n.status]})]}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Es.jsx)(sl,{className:"h-4 w-4 inline mr-1"}),t.instructor_name]}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Es.jsx)(Fa,{className:"h-4 w-4 inline mr-1"}),t.ROOMNUMBER," - ",t.ROOMNAME," (",t.BUILDING,")"]}),(0,Es.jsxs)("p",{className:"text-xs text-gray-500",children:[t.ACADEMICYEAR," \u2022 ",t.SEMESTER]}),s&&r&&"upcoming"===n.status&&(0,Es.jsxs)("p",{className:"text-xs text-blue-600 font-medium",children:["Starts in ",r]})]}),(0,Es.jsxs)("div",{className:"text-right ml-4",children:[(0,Es.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[E(t.STARTTIME)," - ",E(t.ENDTIME)]}),(0,Es.jsx)("p",{className:"text-xs text-gray-500",children:"Class Duration"}),s&&"ongoing"===n.status&&(0,Es.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Currently Active"})]})]},t.SCHEDULEID)})})})]},e.day)})})()})]})]})},pl=["title","titleId"];function xl(e,t){let{title:n,titleId:s}=e,a=As(e,pl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const gl=r.forwardRef(xl),yl=["title","titleId"];function vl(e,t){let{title:n,titleId:s}=e,a=As(e,yl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const bl=r.forwardRef(vl),jl=["title","titleId"];function wl(e,t){let{title:n,titleId:s}=e,a=As(e,jl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Nl=r.forwardRef(wl),Sl=["title","titleId"];function El(e,t){let{title:n,titleId:s}=e,a=As(e,Sl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const kl=r.forwardRef(El),Cl=["title","titleId"];function Tl(e,t){let{title:n,titleId:s}=e,a=As(e,Cl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Rl=r.forwardRef(Tl),Al=["title","titleId"];function Ol(e,t){let{title:n,titleId:s}=e,a=As(e,Al);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Il=r.forwardRef(Ol),Dl=["title","titleId"];function _l(e,t){let{title:n,titleId:s}=e,a=As(e,Dl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Ml=r.forwardRef(_l),Ll=["title","titleId"];function Ul(e,t){let{title:n,titleId:s}=e,a=As(e,Ll);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Pl=r.forwardRef(Ul);const Fl=function(){var e,t,n,s,a,l;const{user:i}=Cs(),[o,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[x,g]=(0,r.useState)(""),[y,v]=(0,r.useState)("all"),[b,j]=(0,r.useState)("all"),[w,N]=(0,r.useState)(1),[S,E]=(0,r.useState)(1),[k,C]=(0,r.useState)(!1),[T,R]=(0,r.useState)(null),[A,O]=(0,r.useState)(!1),[I,D]=(0,r.useState)(null),[_,M]=(0,r.useState)(null),[L,U]=(0,r.useState)(!1),[P,F]=(0,r.useState)(!1),[B,z]=(0,r.useState)(null),[q,H]=(0,r.useState)([]),[W,Q]=(0,r.useState)(""),[Y,V]=(0,r.useState)(!1),[J,K]=(0,r.useState)(!1),[$,Z]=(0,r.useState)(!1),[G,X]=(0,r.useState)(""),[ee,te]=(0,r.useState)(""),[ne,re]=(0,r.useState)(!1),[se,ae]=(0,r.useState)(!1),[le,ie]=(0,r.useState)(null),[oe,ce]=(0,r.useState)(!1),[de,ue]=(0,r.useState)("hidden"),[me,he]=(0,r.useState)(new Set),[fe,pe]=(0,r.useState)(!1),[xe,ge]=(0,r.useState)(!1),[ye,ve]=(0,r.useState)(!1),[be,je]=(0,r.useState)(!1),[we,Ne]=(0,r.useState)(""),[Se,Ee]=(0,r.useState)(!1),[ke,Ce]=(0,r.useState)(!1),[Te,Re]=(0,r.useState)(!1),[Ae,Oe]=(0,r.useState)(!1),[Ie,De]=(0,r.useState)({student:0,instructor:0,admin:0}),[_e,Me]=(0,r.useState)({first_name:"",last_name:"",email:"",password:"",user_type:"student",student_id:"",faculty_id:"",year_level:"",department:"",status:"active"});(0,r.useEffect)(()=>{Le(),Ue()},[w,y,b,x]),(0,r.useEffect)(()=>{const e=e=>{Te&&!e.target.closest(".bulk-actions-dropdown")&&Re(!1)};return Te&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[Te]);const Le=async()=>{try{u(!0);const e=new URLSearchParams({page:w,limit:20});"all"!==y&&e.append("type",y),"all"!==b&&e.append("status",b),x&&e.append("search",x);const t=await cr.get("http://localhost:5000/api/users?".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c(t.data.users),E(t.data.pagination.pages)}catch(e){console.error("Error fetching users:",e),Ss.error("Failed to load users")}finally{u(!1)}},Ue=async()=>{try{const[e,t]=await Promise.all([cr.get("http://localhost:5000/api/users/by-type/student",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),cr.get("http://localhost:5000/api/users/by-type/instructor",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})]);De({student:e.data.count,instructor:t.data.count,admin:0})}catch(e){console.error("Error fetching database counts:",e)}},Pe=()=>{Me({first_name:"",last_name:"",email:"",password:"",user_type:"student",student_id:"",faculty_id:"",year_level:"",department:"",status:"active"})},Fe=()=>{Ae&&(he(new Set),pe(!1)),Oe(!Ae)},Be=e=>{Ne(e),Ce(!1),je(!0),setTimeout(()=>ue("visible"),10)},ze=async e=>{z(e),Q(""),await(async()=>{try{const e=await cr.get("http://localhost:5000/api/users/fingerprint-ids/available",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});H(e.data.all_ids)}catch(e){console.error("Error fetching available fingerprint IDs:",e),Ss.error("Failed to load available fingerprint IDs")}})(),F(!0)},qe=()=>{C(!1),R(null),D(null),M(null),U(!1),O(!1)},He=e=>{switch(e){case"admin":return(0,Es.jsx)(Da,{className:"h-5 w-5 text-red-600"});case"instructor":return(0,Es.jsx)(sl,{className:"h-5 w-5 text-blue-600"});case"student":return(0,Es.jsx)(gl,{className:"h-5 w-5 text-green-600"});default:return(0,Es.jsx)(Da,{className:"h-5 w-5 text-gray-600"})}},We=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"instructor":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return d&&0===o.length?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"Manage students, instructors, and administrators. Assign RFID tags and fingerprints."})]}),"admin"===(null===i||void 0===i?void 0:i.role)&&(0,Es.jsxs)("div",{className:"flex space-x-3",children:[(0,Es.jsxs)("button",{onClick:()=>C(!0),className:"btn btn-secondary flex items-center space-x-2",children:[(0,Es.jsx)(bl,{className:"h-5 w-5"}),(0,Es.jsx)("span",{children:"Upload CSV/Excel"})]}),(0,Es.jsxs)("button",{onClick:()=>h(!0),className:"btn btn-primary flex items-center space-x-2",children:[(0,Es.jsx)(Nl,{className:"h-5 w-5"}),(0,Es.jsx)("span",{children:"Add User"})]}),(0,Es.jsxs)("div",{className:"relative bulk-actions-dropdown",children:[(0,Es.jsxs)("button",{onClick:()=>Re(!Te),className:"btn btn-secondary flex items-center space-x-2 text-sm",children:[(0,Es.jsx)(kl,{className:"h-4 w-4"}),(0,Es.jsx)("span",{children:"More"}),(0,Es.jsx)(la,{className:"h-4 w-4 transition-transform ".concat(Te?"rotate-180":"")})]}),Te&&(0,Es.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:(0,Es.jsxs)("div",{className:"p-3",children:[(0,Es.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Bulk Actions"}),(0,Es.jsxs)("div",{className:"space-y-2",children:[(0,Es.jsxs)("button",{onClick:()=>{Be("student"),Re(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",disabled:0===Ie.student,children:[(0,Es.jsx)(Rl,{className:"h-4 w-4"}),(0,Es.jsxs)("span",{children:["Delete All Students (",Ie.student,")"]})]}),(0,Es.jsxs)("button",{onClick:()=>{Be("instructor"),Re(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",disabled:0===Ie.instructor,children:[(0,Es.jsx)(Rl,{className:"h-4 w-4"}),(0,Es.jsxs)("span",{children:["Delete All Instructors (",Ie.instructor,")"]})]})]}),(0,Es.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,Es.jsx)("div",{className:"text-xs text-gray-400",children:"\u26a0\ufe0f These actions delete ALL users of the selected type from the entire database"})})]})})]})]})]}),Ae&&(0,Es.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Es.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(Il,{className:"h-5 w-5 text-blue-600"})}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Multi-Select Mode Active"}),(0,Es.jsx)("p",{className:"text-sm text-blue-600",children:"Select users by clicking the checkboxes, then use the bulk actions toolbar to perform operations on selected users."})]}),(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)("button",{onClick:Fe,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Exit Multi-Select"})})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)(Ja,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search users...",value:x,onChange:e=>{g(e.target.value),N(1)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type"}),(0,Es.jsxs)("select",{value:y,onChange:e=>{v(e.target.value),N(1)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Es.jsx)("option",{value:"all",children:"All Types"}),(0,Es.jsx)("option",{value:"student",children:"Students"}),(0,Es.jsx)("option",{value:"instructor",children:"Instructors"}),(0,Es.jsx)("option",{value:"admin",children:"Administrators"})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Es.jsxs)("select",{value:b,onChange:e=>{j(e.target.value),N(1)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Es.jsx)("option",{value:"all",children:"All Status"}),(0,Es.jsx)("option",{value:"active",children:"Active"}),(0,Es.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,Es.jsx)("div",{className:"flex items-end",children:(0,Es.jsx)("button",{onClick:()=>{g(""),v("all"),j("all"),N(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Clear Filters"})})]})}),Ae&&me.size>0&&(0,Es.jsx)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Es.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Es.jsx)("span",{className:"text-sm font-medium text-blue-600",children:me.size})}),(0,Es.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[me.size," user",1===me.size?"":"s"," selected"]})]}),(0,Es.jsx)("button",{onClick:()=>{he(new Set),pe(!1)},className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Clear selection"})]}),(0,Es.jsx)("div",{className:"flex items-center space-x-2",children:(0,Es.jsxs)("button",{onClick:()=>{0!==me.size&&(ge(!0),setTimeout(()=>ue("visible"),10))},disabled:0===me.size,className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),"Delete Selected"]})})]})}),(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Es.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Users (",o.length,")"]}),"admin"===(null===i||void 0===i?void 0:i.role)&&(0,Es.jsx)("button",{onClick:Fe,className:"p-2 rounded-lg transition-all duration-200 border ".concat(Ae?"bg-blue-500 text-white border-blue-500 hover:bg-blue-600 shadow-md":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 border-gray-300 hover:border-gray-400"),title:Ae?"Exit Multi-Select Mode":"Enable Multi-Select Mode",children:(0,Es.jsx)(Ls,{className:"h-5 w-5"})})]})}),0===o.length?(0,Es.jsxs)("div",{className:"text-center py-12",children:[(0,Es.jsx)(Da,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:x||"all"!==y||"all"!==b?"Try adjusting your search or filter criteria.":"Get started by creating a new user."})]}):(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Es.jsx)("thead",{className:"bg-gray-50",children:(0,Es.jsxs)("tr",{children:[Ae&&(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Es.jsx)("input",{type:"checkbox",checked:fe,onChange:()=>{if(fe)he(new Set);else{const e=o.map(e=>e.USERID);he(new Set(e))}pe(!fe)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RFID"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fingerprint"}),"admin"===(null===i||void 0===i?void 0:i.role)&&(0,Es.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Es.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>(0,Es.jsxs)("tr",{className:"hover:bg-gray-50",children:[Ae&&(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsx)("input",{type:"checkbox",checked:me.has(e.USERID),onChange:()=>(e=>{const t=new Set(me);t.has(e)?t.delete(e):t.add(e),he(t),pe(t.size===o.length&&o.length>0)})(e.USERID),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Es.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:He(e.USERTYPE)})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.FIRSTNAME," ",e.LASTNAME]}),(0,Es.jsx)("div",{className:"text-sm text-gray-500",children:e.EMAIL})]})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(We(e.USERTYPE)),children:e.USERTYPE})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"font-medium",children:e.STUDENTID||e.EMPLOYEEID||"-"}),e.YEARLEVEL&&(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:["Year ",e.YEARLEVEL]})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Es.jsx)("div",{children:e.RFIDTAG?(0,Es.jsx)("div",{className:"text-blue-600 font-medium",children:e.RFIDTAG}):(0,Es.jsx)("span",{className:"text-gray-400",children:"-"})})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.FINGERPRINT_ID?(0,Es.jsx)("div",{className:"flex items-center justify-center",children:(0,Es.jsx)(Il,{className:"h-5 w-5 text-green-500"})}):(0,Es.jsx)("div",{className:"flex items-center justify-center",children:(0,Es.jsx)("span",{className:"text-gray-400",children:"-"})})}),"admin"===(null===i||void 0===i?void 0:i.role)&&(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Es.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[("student"===e.USERTYPE||"instructor"===e.USERTYPE||"admin"===e.USERTYPE)&&(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("button",{onClick:()=>ze(e),className:"text-purple-600 hover:text-purple-900 transition-colors duration-200",title:"Assign Fingerprint",children:(0,Es.jsx)(La,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>(e=>{z(e),K(!0),Z(!1),X(""),te(e.RFIDTAG||"")})(e),className:"text-green-600 hover:text-green-900 transition-colors duration-200",title:"Assign RFID",children:(0,Es.jsx)(Ml,{className:"h-4 w-4"})})]}),(0,Es.jsx)("button",{onClick:()=>(e=>{p(e),Me({first_name:e.FIRSTNAME||"",last_name:e.LASTNAME||"",email:e.EMAIL||"",password:"",user_type:e.USERTYPE||"student",student_id:e.STUDENTID||"",faculty_id:e.FACULTYID||"",year_level:e.YEARLEVEL||"",department:e.DEPARTMENT||"",status:e.STATUS||"active"}),h(!0)})(e),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"Edit User",children:(0,Es.jsx)(Pl,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>(e=>{const t='Are you sure you want to delete "'.concat(e.FIRSTNAME," ").concat(e.LASTNAME,'"? This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments.');ie(Bt(Bt({},e),{},{title:"Delete User",message:t,confirmText:"Delete User"})),ae(!0),setTimeout(()=>ue("visible"),10)})(e),className:"text-red-600 hover:text-red-900 transition-colors duration-200",title:"Delete User",children:(0,Es.jsx)(Rl,{className:"h-4 w-4"})})]})})]},e.USERID))})]})}),S>1&&(0,Es.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",w," of ",S]}),(0,Es.jsxs)("div",{className:"flex space-x-2",children:[(0,Es.jsx)("button",{onClick:()=>N(Math.max(1,w-1)),disabled:1===w,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Es.jsx)("button",{onClick:()=>N(Math.min(S,w+1)),disabled:w===S,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),m&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit User":"Add New User"}),(0,Es.jsx)("button",{onClick:()=>{h(!1),p(null),Pe()},className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),(0,Es.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f?(await cr.put("http://localhost:5000/api/users/".concat(f.USERID),_e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Ss.success("User updated successfully")):(await cr.post("http://localhost:5000/api/users",_e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Ss.success("User created successfully")),h(!1),p(null),Pe(),Le()}catch(c){var t,n;if(console.error("Error saving user:",c),409===(null===(t=c.response)||void 0===t?void 0:t.status)){var r,s;const e=(null===(r=c.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"User information conflicts with existing data";Ss.error(e)}else if(400===(null===(n=c.response)||void 0===n?void 0:n.status)){var a,l;const e=(null===(a=c.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Please check your input data";Ss.error(e)}else{var i,o;Ss.error((null===(i=c.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"Failed to save user")}}},className:"space-y-4",children:[(0,Es.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,Es.jsx)("input",{type:"text",required:!0,value:_e.first_name,onChange:e=>Me(Bt(Bt({},_e),{},{first_name:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,Es.jsx)("input",{type:"text",required:!0,value:_e.last_name,onChange:e=>Me(Bt(Bt({},_e),{},{last_name:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Es.jsx)("input",{type:"email",required:!0,value:_e.email,onChange:e=>Me(Bt(Bt({},_e),{},{email:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),!f&&(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,Es.jsx)("input",{type:"password",required:!f,value:_e.password,onChange:e=>Me(Bt(Bt({},_e),{},{password:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type *"}),(0,Es.jsxs)("select",{required:!0,value:_e.user_type,onChange:e=>Me(Bt(Bt({},_e),{},{user_type:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Es.jsx)("option",{value:"student",children:"Student"}),(0,Es.jsx)("option",{value:"instructor",children:"Instructor"}),(0,Es.jsx)("option",{value:"admin",children:"Administrator"})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Es.jsxs)("select",{value:_e.status,onChange:e=>Me(Bt(Bt({},_e),{},{status:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Es.jsx)("option",{value:"active",children:"Active"}),(0,Es.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),"student"===_e.user_type&&(0,Es.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),(0,Es.jsx)("input",{type:"text",value:_e.student_id,onChange:e=>Me(Bt(Bt({},_e),{},{student_id:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Level"}),(0,Es.jsxs)("select",{value:_e.year_level,onChange:e=>Me(Bt(Bt({},_e),{},{year_level:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Es.jsx)("option",{value:"",children:"Select Year"}),(0,Es.jsx)("option",{value:"1",children:"1st Year"}),(0,Es.jsx)("option",{value:"2",children:"2nd Year"}),(0,Es.jsx)("option",{value:"3",children:"3rd Year"}),(0,Es.jsx)("option",{value:"4",children:"4th Year"})]})]})]}),("instructor"===_e.user_type||"admin"===_e.user_type)&&(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty ID"}),(0,Es.jsx)("input",{type:"text",value:_e.faculty_id,onChange:e=>Me(Bt(Bt({},_e),{},{faculty_id:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,Es.jsx)("input",{type:"text",value:_e.department,onChange:e=>Me(Bt(Bt({},_e),{},{department:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{h(!1),p(null),Pe()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Es.jsxs)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[f?"Update":"Create"," User"]})]})]})]})}),k&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Excel/CSV File"}),(0,Es.jsx)("button",{onClick:qe,className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),(0,Es.jsxs)("div",{className:"space-y-4",children:[(0,Es.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Es.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Instructions:"}),(0,Es.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,Es.jsx)("li",{children:"\u2022 Upload an Excel file (.xlsx, .xls) or CSV file"}),(0,Es.jsx)("li",{children:'\u2022 The file must contain a sheet named "SBO"'}),(0,Es.jsx)("li",{children:'\u2022 Required columns: "SL#", "Student Name", "Subject/Major", "Year"'}),(0,Es.jsx)("li",{children:'\u2022 Student names can be: "LASTNAME, FIRSTNAME" or "LASTNAME FIRSTNAME"'}),(0,Es.jsx)("li",{children:"\u2022 System processes rows with valid SL# numbers only"}),(0,Es.jsx)("li",{children:"\u2022 Processing stops when SL# is missing or invalid"}),(0,Es.jsx)("li",{children:"\u2022 Maximum file size: 10MB"})]})]}),(0,Es.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,Es.jsxs)("div",{className:"text-center",children:[(0,Es.jsx)(bl,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsx)("div",{className:"mt-4",children:(0,Es.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,Es.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:T?T.name:"Select a file to upload"}),(0,Es.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".xlsx,.xls,.csv",onChange:e=>{const t=e.target.files[0];if(t){const e=[".xlsx",".xls",".csv"],n=t.name.toLowerCase().substring(t.name.lastIndexOf("."));if(!e.includes(n))return void Ss.error("Please select a valid Excel file (.xlsx, .xls) or CSV file");if(t.size>10485760)return void Ss.error("File size must be less than 10MB");R(t),D(null)}},disabled:A}),(0,Es.jsx)("span",{className:"mt-1 block text-sm text-gray-500",children:"or drag and drop"})]})}),(0,Es.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Excel (.xlsx, .xls) or CSV files up to 10MB"})]})}),L&&_&&(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Es.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Preview Summary:"}),(0,Es.jsxs)("div",{className:"text-sm text-blue-700 space-y-1",children:[(0,Es.jsxs)("p",{children:["Sheet found: ",(0,Es.jsx)("strong",{children:_.sheetName})]}),(0,Es.jsxs)("p",{children:["Total data rows available: ",(null===(e=_.summary)||void 0===e?void 0:e.totalRows)||0]}),(0,Es.jsxs)("p",{children:["Valid students found: ",(null===(t=_.summary)||void 0===t?void 0:t.previewRows)||0]}),(0,Es.jsxs)("p",{children:["Issues detected: ",(null===(n=_.summary)||void 0===n?void 0:n.errors)||0]})]}),_.headers&&(0,Es.jsx)("div",{className:"mt-2 text-xs text-blue-600",children:(0,Es.jsxs)("p",{children:["Columns detected: ",_.headers.studentNameCol,", ",_.headers.subjectMajorCol,", ",_.headers.yearCol]})})]}),_.errors&&_.errors.length>0&&(0,Es.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 max-h-32 overflow-y-auto",children:[(0,Es.jsx)("h4",{className:"font-medium text-red-800 mb-2",children:"Issues Found:"}),(0,Es.jsxs)("ul",{className:"text-sm text-red-700 space-y-1",children:[_.errors.slice(0,5).map((e,t)=>(0,Es.jsxs)("li",{children:["\u2022 ",e]},t)),_.errors.length>5&&(0,Es.jsxs)("li",{className:"text-red-600 font-medium",children:["... and ",_.errors.length-5," more issues"]})]})]}),_.previewUsers&&_.previewUsers.length>0&&(0,Es.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 max-h-64 overflow-y-auto",children:[(0,Es.jsxs)("h4",{className:"font-medium text-gray-800 mb-2",children:["Data Preview (All ",_.previewUsers.length," students found):"]}),(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsxs)("table",{className:"min-w-full text-xs",children:[(0,Es.jsx)("thead",{className:"bg-gray-100",children:(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"Row"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"SL#"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"Original Name"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"First Name"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"Last Name"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"Email"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"Subject/Major"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"Year"}),(0,Es.jsx)("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:"Student ID"})]})}),(0,Es.jsx)("tbody",{className:"divide-y divide-gray-200",children:_.previewUsers.map((e,t)=>(0,Es.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-500",children:e.rowNumber}),(0,Es.jsx)("td",{className:"px-2 py-1 text-blue-600 font-medium",children:e.slNumber}),(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-900",children:e.originalName}),(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-900",children:e.firstName}),(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-900",children:e.lastName}),(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-600",children:e.email}),(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-900",children:e.subjectMajor}),(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-900",children:e.yearLevel}),(0,Es.jsx)("td",{className:"px-2 py-1 text-gray-600",children:e.studentId})]},t))})]})})]})]}),I&&(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[(0,Es.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"Upload Complete!"}),(0,Es.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,Es.jsxs)("p",{children:["Total rows processed: ",(null===(s=I.summary)||void 0===s?void 0:s.totalRows)||0]}),(0,Es.jsxs)("p",{children:["Users successfully imported: ",(null===(a=I.summary)||void 0===a?void 0:a.insertedUsers)||0]}),(0,Es.jsxs)("p",{children:["Errors encountered: ",(null===(l=I.summary)||void 0===l?void 0:l.errors)||0]})]})]}),I.errors&&I.errors.length>0&&(0,Es.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 max-h-40 overflow-y-auto",children:[(0,Es.jsx)("h4",{className:"font-medium text-red-800 mb-2",children:"Errors:"}),(0,Es.jsxs)("ul",{className:"text-sm text-red-700 space-y-1",children:[I.errors.slice(0,10).map((e,t)=>(0,Es.jsxs)("li",{children:["\u2022 ",e]},t)),I.errors.length>10&&(0,Es.jsxs)("li",{className:"text-red-600 font-medium",children:["... and ",I.errors.length-10," more errors"]})]})]}),I.insertedUsers&&I.insertedUsers.length>0&&(0,Es.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 max-h-40 overflow-y-auto",children:[(0,Es.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Successfully Imported Users:"}),(0,Es.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[I.insertedUsers.slice(0,5).map((e,t)=>(0,Es.jsxs)("div",{className:"flex justify-between",children:[(0,Es.jsx)("span",{children:e.name}),(0,Es.jsxs)("span",{className:"text-gray-500",children:[e.subject," - Year ",e.year]})]},t)),I.insertedUsers.length>5&&(0,Es.jsxs)("p",{className:"text-gray-600 font-medium",children:["... and ",I.insertedUsers.length-5," more users"]})]})]})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Es.jsx)("button",{type:"button",onClick:qe,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:A,children:I?"Close":"Cancel"}),!L&&!I&&(0,Es.jsx)("button",{onClick:async()=>{if(!T)return void Ss.error("Please select a file to upload");O(!0);const e=new FormData;e.append("excelFile",T);try{const t=await cr.post("http://localhost:5000/api/users/preview-excel",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"multipart/form-data"}});M(t.data),U(!0),Ss.success("Preview generated for ".concat(t.data.summary.previewRows," users"))}catch(s){var t,n,r;console.error("Preview error:",s),Ss.error((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to preview Excel file"),null!==(r=s.response)&&void 0!==r&&r.data&&(M(s.response.data),U(!0))}finally{O(!1)}},disabled:!T||A,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A?(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Preview Data"}),L&&!I&&(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("button",{onClick:()=>{U(!1),M(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:A,children:"Back to File Selection"}),(0,Es.jsx)("button",{onClick:async()=>{if(!T)return void Ss.error("Please select a file to upload");O(!0);const e=new FormData;e.append("excelFile",T);try{const t=await cr.post("http://localhost:5000/api/users/upload-excel",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"multipart/form-data"}});D(t.data),U(!1),M(null),Ss.success("Successfully processed ".concat(t.data.summary.insertedUsers," users from Excel file")),Le(),R(null)}catch(a){var t,n,r,s;console.error("Upload error:",a),Ss.error((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to upload Excel file"),null!==(r=a.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.errors&&D(a.response.data)}finally{O(!1)}},disabled:A,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A?(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):"Confirm Upload"})]})]})]})]})}),P&&B&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assign Fingerprint"}),(0,Es.jsx)("button",{onClick:()=>{F(!1),z(null),Q("")},className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),(0,Es.jsxs)("div",{className:"space-y-4",children:[(0,Es.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4",children:[(0,Es.jsxs)("h4",{className:"font-medium text-gray-800 mb-2",children:["instructor"===B.USERTYPE?"Instructor":"admin"===B.USERTYPE?"Admin":"Student"," Information"]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Name:"})," ",B.FIRSTNAME," ",B.LASTNAME]}),(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"instructor"===B.USERTYPE||"admin"===B.USERTYPE?"Faculty ID:":"Student ID:"})," ",B.FACULTYID||B.STUDENTID]}),(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Email:"})," ",B.EMAIL]}),(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Department:"})," ",B.DEPARTMENT]}),(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Role:"})," ",B.USERTYPE]})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{htmlFor:"fingerprint-id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fingerprint ID (1-127)"}),(0,Es.jsxs)("select",{id:"fingerprint-id",value:W,onChange:e=>Q(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:Y,children:[(0,Es.jsx)("option",{value:"",children:"Select a fingerprint ID..."}),q.map(e=>(0,Es.jsxs)("option",{value:e.id,children:["Fingerprint ID #",e.id," ",e.assigned?"(Currently: ".concat(e.assignedTo.name," - ").concat(e.assignedTo.id,")"):"(Available)"]},e.id))]}),(0,Es.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[q.filter(e=>!e.assigned).length," available, ",q.filter(e=>e.assigned).length," assigned out of 127 total slots"]})]}),(0,Es.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Es.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Instructions:"}),(0,Es.jsxs)("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[(0,Es.jsx)("li",{children:"Select an available fingerprint ID from the dropdown"}),(0,Es.jsx)("li",{children:'Click "Assign Fingerprint" to save the assignment'}),(0,Es.jsx)("li",{children:"Use the Arduino Serial Monitor to enroll the fingerprint:"}),(0,Es.jsxs)("li",{className:"ml-4 text-xs font-mono bg-blue-100 p-1 rounded",children:["enroll ",W||"[ID]"]}),(0,Es.jsx)("li",{children:"Follow the prompts to scan the finger twice"}),("instructor"===B.USERTYPE||"admin"===B.USERTYPE)&&(0,Es.jsx)("li",{className:"text-green-700 font-medium",children:"\u2705 Instructors and Admins get automatic lock access when scanning"})]})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{F(!1),z(null),Q("")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:Y,children:"Cancel"}),(0,Es.jsx)("button",{onClick:async()=>{if(W)try{V(!0);const e=await cr.post("http://localhost:5000/api/users/".concat(B.USERID,"/assign-fingerprint"),{fingerprint_id:parseInt(W)},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});Ss.success((0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"font-medium",children:"\u2705 Fingerprint Assigned!"}),(0,Es.jsxs)("div",{className:"text-sm mt-1",children:[(0,Es.jsx)("div",{children:(0,Es.jsx)("strong",{children:e.data.user.name})}),(0,Es.jsxs)("div",{children:["Fingerprint ID: ",e.data.user.fingerprint_id]}),(0,Es.jsxs)("div",{children:["Student ID: ",e.data.user.student_id]})]})]}),{duration:4e3}),F(!1),z(null),Q(""),Le()}catch(n){var e,t;console.error("Error assigning fingerprint:",n),Ss.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to assign fingerprint")}finally{V(!1)}else Ss.error("Please select a fingerprint ID")},disabled:!W||Y,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Y?(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assigning..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(La,{className:"h-4 w-4 mr-2"}),"Assign Fingerprint"]})})]})]})]})}),J&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Es.jsxs)("div",{className:"mt-3",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Assign RFID Card"}),(0,Es.jsx)("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),B&&(0,Es.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,Es.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[B.FIRSTNAME," ",B.LASTNAME]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:["instructor"===B.USERTYPE||"admin"===B.USERTYPE?B.FACULTYID||"No Faculty ID":B.STUDENTID||"No Student ID"," \u2022 ",B.EMAIL]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:["Role: ",B.USERTYPE]}),B.RFIDTAG&&(0,Es.jsxs)("div",{className:"text-sm text-blue-600 mt-1",children:["Current RFID: ",B.RFIDTAG]}),("instructor"===B.USERTYPE||"admin"===B.USERTYPE)&&(0,Es.jsx)("div",{className:"text-sm text-green-600 mt-1",children:"\u2705 RFID access will control solenoid lock"})]}),(0,Es.jsxs)("div",{className:"space-y-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scan RFID Card"}),(0,Es.jsx)("div",{className:"flex space-x-2",children:(0,Es.jsx)("button",{onClick:()=>{Z(!0),X(""),Ss.success("Scan mode activated! Scan an RFID card now...");const e=document.getElementById("rfid-scan-input");e&&e.focus()},disabled:$,className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 ".concat($?"bg-green-100 text-green-800 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:$?(0,Es.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600 mr-2"}),"Scanning..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(Ml,{className:"h-4 w-4 mr-2 inline"}),"Start Scan"]})})}),$&&(0,Es.jsx)("div",{className:"mt-2 text-sm text-green-600",children:"\ud83d\udd0d Scan mode active - scan your RFID card now!"}),G&&(0,Es.jsxs)("div",{className:"mt-2 text-sm text-green-600",children:["\u2705 Captured: ",G]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or Enter Manually"}),(0,Es.jsx)("input",{type:"text",value:ee,onChange:e=>te(e.target.value),placeholder:"Enter RFID code manually",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Es.jsx)("button",{onClick:()=>K(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),(0,Es.jsx)("button",{onClick:async()=>{const e=G||ee;if(B&&e.trim())try{re(!0);200===(await cr.put("http://localhost:5000/api/users/".concat(B.USERID,"/assign-rfid"),{rfid_tag:e.trim()},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).status&&(Ss.success("RFID assigned successfully!"),K(!1),z(null),X(""),te(""),Le())}catch(r){var t,n;console.error("Error assigning RFID:",r),400===(null===(t=r.response)||void 0===t?void 0:t.status)?Ss.error(r.response.data.message||"Invalid RFID data"):409===(null===(n=r.response)||void 0===n?void 0:n.status)?Ss.error(r.response.data.message||"RFID tag already assigned to another user"):Ss.error("Failed to assign RFID")}finally{re(!1)}else Ss.error("Please provide an RFID code")},disabled:ne||!G&&!ee.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:ne?(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assigning..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(Ml,{className:"h-4 w-4 mr-2 inline"}),"Assign RFID"]})})]})]})})}),(0,Es.jsx)("input",{id:"rfid-scan-input",type:"text",onKeyPress:e=>{if("Enter"===e.key&&$){const t=e.target.value.trim();t.length>0&&(X(t),te(t),Z(!1),Ss.success("RFID captured: ".concat(t)),e.target.value="")}},style:{position:"absolute",left:"-9999px",opacity:0,pointerEvents:"none"}}),se&&le&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===de?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===de?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),(0,Es.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:le.title}),(0,Es.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:le.message})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{ue("hidden"),setTimeout(()=>{ae(!1),ie(null)},300)},disabled:oe,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Es.jsx)("button",{type:"button",onClick:async()=>{if(le){ce(!0);try{await cr.delete("http://localhost:5000/api/users/".concat(le.USERID),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Ss.success("User deleted successfully!",{duration:4e3,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534"}}),await Le()}catch(s){var e,t,n,r;console.error("Error deleting user:",s);const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete user",l=null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.details;l?Ss.error("".concat(a,": ").concat(l),{duration:8e3,style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626"}}):Ss.error(a)}finally{ce(!1),ue("hidden"),setTimeout(()=>{ae(!1),ie(null)},300)}}},disabled:oe,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:oe?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),le.confirmText]})})]})]})})})}),xe&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===de?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===de?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),(0,Es.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Bulk Delete Users"}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Are you sure you want to delete ",(0,Es.jsxs)("strong",{children:[me.size," users"]}),"? This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments."]})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{ue("hidden"),setTimeout(()=>{ge(!1)},300)},disabled:ye,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Es.jsx)("button",{type:"button",onClick:async()=>{if(0!==me.size){ve(!0);try{await cr.delete("http://localhost:5000/api/users/bulk-delete",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:{ids:Array.from(me)}});Ss.success("".concat(me.size," users deleted successfully!"),{duration:4e3,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534"}}),he(new Set),pe(!1),await Le()}catch(n){var e,t;console.error("Error bulk deleting users:",n);const r=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete users";Ss.error(r)}finally{ve(!1),ue("hidden"),setTimeout(()=>{ge(!1)},300)}}},disabled:ye,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:ye?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),"Delete ",me.size," Users"]})})]})]})})})}),be&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===de?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===de?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),ke?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Final Confirmation Required"}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:["You are about to permanently delete ",(0,Es.jsxs)("strong",{children:["ALL ",we,"s"]})," from the entire database. This action cannot be undone."]}),(0,Es.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Es.jsxs)("p",{className:"text-sm text-red-800 font-medium",children:["\ud83d\udea8 FINAL WARNING: This will delete ALL ",we,"s from the database permanently!"]})})]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Delete All ","student"===we?"Students":"Instructors"]}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:["This will delete ",(0,Es.jsxs)("strong",{children:["ALL ",we,"s"]})," from the entire database, not just the current page. This action cannot be undone and will remove all associated data including attendance records, enrollments, and device assignments."]}),(0,Es.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Es.jsxs)("p",{className:"text-sm text-yellow-800 font-medium",children:["\u26a0\ufe0f This is a destructive action that will permanently delete ALL ",we,"s from the database."]})})]})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{ue("hidden"),setTimeout(()=>{je(!1),Ce(!1),Ne("")},300)},disabled:Se,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),ke?(0,Es.jsx)("button",{type:"button",onClick:async()=>{if(we){Ee(!0);try{const e=await cr.get("http://localhost:5000/api/users/by-type/".concat(we),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=e.data.users.map(e=>e.USERID);if(0===t.length)return void Ss.error("No ".concat(we,"s found in the database to delete"));await cr.delete("http://localhost:5000/api/users/bulk-delete",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:{ids:t}});Ss.success("All ".concat(t.length," ").concat(we,"s deleted successfully from the database!"),{duration:5e3,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534"}}),he(new Set),pe(!1),await Le(),await Ue()}catch(n){var e,t;console.error("Error deleting all ".concat(we,"s:"),n);const r=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete all ".concat(we,"s");Ss.error(r)}finally{Ee(!1),ue("hidden"),setTimeout(()=>{je(!1),Ce(!1),Ne("")},300)}}},disabled:Se,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:Se?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting All ","student"===we?"Students":"Instructors","..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),"DELETE ALL ","student"===we?"STUDENTS":"INSTRUCTORS"]})}):(0,Es.jsx)("button",{type:"button",onClick:()=>{Ce(!0)},disabled:Se,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Final Confirmation"})]})]})})})})]})};cr.defaults.baseURL="http://localhost:5000";const Bl=function(){const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[p,x]=(0,r.useState)(null),[g,y]=(0,r.useState)("hidden"),[v,b]=(0,r.useState)({room_number:"",room_name:"",building:"",capacity:"",room_type:"classroom"});(0,r.useEffect)(()=>{j()},[]);const j=async()=>{try{s(!0);const e=localStorage.getItem("token");if(!e)return void Ss.error("Please login to access rooms");const n={Authorization:"Bearer ".concat(e)},r=await cr.get("/api/rooms",{headers:n});t(r.data.rooms||[])}catch(n){var e;console.error("Error fetching rooms:",n),401===(null===(e=n.response)||void 0===e?void 0:e.status)?(Ss.error("Session expired. Please login again."),localStorage.removeItem("token"),window.location.href="/login"):Ss.error("Failed to load rooms")}finally{s(!1)}},w=()=>{b({room_number:"",room_name:"",building:"",capacity:"",room_type:"classroom"})},N=[...new Set(e.map(e=>e.BUILDING).filter(Boolean))],S=e.filter(e=>{var t,n,r;const s=(null===(t=e.ROOMNUMBER)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.ROOMNAME)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.BUILDING)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase())),a=!u||e.BUILDING===u;return s&&a}),E=e=>{switch(e){case"Available":return"bg-green-100 text-green-800";case"Maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},k=e=>{switch(e){case"laboratory":return"\ud83e\uddea";case"office":return"\ud83c\udfe2";default:return"\ud83c\udfeb"}};return n?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Management"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"Manage classrooms, laboratories, and office spaces"})]}),(0,Es.jsxs)("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,Es.jsx)(Nl,{className:"h-4 w-4 mr-2"}),"Add Room"]})]}),(0,Es.jsx)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Rooms"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search by room number, name, or building...",value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Building"}),(0,Es.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Es.jsx)("option",{value:"",children:"All Buildings"}),N.map(e=>(0,Es.jsx)("option",{value:e,children:e},e))]})]})]})}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(e=>(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Es.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Es.jsx)("div",{className:"text-2xl",children:k(e.room_type)}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.ROOMNUMBER}),(0,Es.jsx)("p",{className:"text-sm text-gray-600",children:e.ROOMNAME})]})]}),(0,Es.jsxs)("div",{className:"flex space-x-2",children:[(0,Es.jsx)("button",{onClick:()=>(e=>{o(e),b({room_number:e.ROOMNUMBER||"",room_name:e.ROOMNAME||"",building:e.BUILDING||"",capacity:e.CAPACITY||"",room_type:e.room_type||"classroom"}),l(!0)})(e),className:"text-gray-400 hover:text-blue-600",children:(0,Es.jsx)(Pl,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>{return t=e.ROOMID,n=e.ROOMNUMBER,r=e.ROOMNAME,x({type:"room",id:t,number:n,name:r,title:"Delete Room",message:'Are you sure you want to delete "'.concat(n," - ").concat(r,'"? This action cannot be undone.'),confirmText:"Delete Room"}),f(!0),void setTimeout(()=>y("visible"),10);var t,n,r},className:"text-gray-400 hover:text-red-600",children:(0,Es.jsx)(Rl,{className:"h-4 w-4"})})]})]}),(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Es.jsx)(wa,{className:"h-4 w-4 mr-2"}),e.BUILDING]}),e.CAPACITY&&(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Es.jsx)(Js,{className:"h-4 w-4 mr-2"}),"Capacity: ",e.CAPACITY," people"]}),(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(E(e.STATUS)),children:e.STATUS}),e.room_type&&(0,Es.jsx)("span",{className:"text-xs text-gray-500 capitalize",children:e.room_type})]}),void 0!==e.device_count&&(0,Es.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,Es.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,Es.jsxs)("span",{children:["Devices: ",e.device_count||0]}),(0,Es.jsxs)("span",{children:["Online: ",e.online_devices||0]})]})})]})]},e.ROOMID))}),0===S.length&&!n&&(0,Es.jsxs)("div",{className:"text-center py-12",children:[(0,Es.jsx)(wa,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No rooms found"}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c||u?"Try adjusting your search filters.":"Get started by adding a new room."}),!c&&!u&&(0,Es.jsx)("div",{className:"mt-6",children:(0,Es.jsxs)("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[(0,Es.jsx)(Nl,{className:"h-4 w-4 mr-2"}),"Add Room"]})})]}),a&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Es.jsxs)("div",{className:"mt-3",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:i?"Edit Room":"Add New Room"}),(0,Es.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};i?(await cr.put("/api/rooms/".concat(i.ROOMID),v,{headers:t}),Ss.success("Room updated successfully")):(await cr.post("/api/rooms",v,{headers:t}),Ss.success("Room created successfully")),await j(),l(!1),w(),o(null)}catch(r){var t,n;console.error("Error saving room:",r),null!==(t=r.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.message?Ss.error(r.response.data.message):Ss.error("Failed to save room")}},className:"space-y-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Room Number"}),(0,Es.jsx)("input",{type:"text",value:v.room_number,onChange:e=>b(Bt(Bt({},v),{},{room_number:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g., CIT-601",required:!0})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Room Name"}),(0,Es.jsx)("input",{type:"text",value:v.room_name,onChange:e=>b(Bt(Bt({},v),{},{room_name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g., Computer Laboratory 1",required:!0})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Building"}),(0,Es.jsx)("input",{type:"text",value:v.building,onChange:e=>b(Bt(Bt({},v),{},{building:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g., IT Building",required:!0})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Room Type"}),(0,Es.jsx)("select",{value:v.room_type,onChange:e=>b(Bt(Bt({},v),{},{room_type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[{value:"classroom",label:"Classroom"},{value:"laboratory",label:"Laboratory"},{value:"office",label:"Office"}].map(e=>(0,Es.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Capacity"}),(0,Es.jsx)("input",{type:"number",value:v.capacity,onChange:e=>b(Bt(Bt({},v),{},{capacity:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g., 40",min:"1"})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{l(!1),o(null),w()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Es.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:i?"Update":"Create"})]})]})]})})}),h&&p&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===g?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===g?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),(0,Es.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:p.title}),(0,Es.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:p.message})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{y("hidden"),setTimeout(()=>{f(!1),x(null)},300)},className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105",children:"Cancel"}),(0,Es.jsxs)("button",{type:"button",onClick:async()=>{if(p)try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=(await cr.delete("/api/rooms/".concat(p.id),{headers:t})).data.message||"Room deleted successfully!";Ss.success(n,{duration:4e3,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534"}}),await j()}catch(s){var e,t,n,r;console.error("Error deleting room:",s);const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete room",l=null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.details;l?Ss.error("".concat(a,": ").concat(l),{duration:8e3,style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626"}}):Ss.error(a)}finally{y("hidden"),setTimeout(()=>{f(!1),x(null)},300)}},className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg",children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),p.confirmText]})]})]})})})})]})},zl=["title","titleId"];function ql(e,t){let{title:n,titleId:s}=e,a=As(e,zl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Hl=r.forwardRef(ql),Wl=["title","titleId"];function Ql(e,t){let{title:n,titleId:s}=e,a=As(e,Wl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Yl=r.forwardRef(Ql);const Vl=function(){const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[p,x]=(0,r.useState)([]),[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)([]),[j,w]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),[E,k]=(0,r.useState)(null),[C,T]=(0,r.useState)("hidden"),[R,A]=(0,r.useState)({SUBJECTCODE:"",SUBJECTNAME:"",DESCRIPTION:"",INSTRUCTORID:"",SEMESTER:"First Semester",YEAR:(new Date).getFullYear(),ACADEMICYEAR:"2024-2025"});(0,r.useEffect)(()=>{O()},[]);const O=async()=>{try{l(!0);const[e,n]=await Promise.all([cr.get("/api/subjects",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),cr.get("/api/subjects/instructors/list",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})]);t(e.data.subjects||[]),s(n.data||[])}catch(n){var e;console.error("Error fetching data:",n),401===(null===(e=n.response)||void 0===e?void 0:e.status)?Ss.error("Session expired. Please login again."):Ss.error("Failed to load subjects")}finally{l(!1)}},I=()=>{A({SUBJECTCODE:"",SUBJECTNAME:"",DESCRIPTION:"",INSTRUCTORID:"",SEMESTER:"First Semester",YEAR:(new Date).getFullYear(),ACADEMICYEAR:"2024-2025"}),m(null)},D=()=>{o(!1),I()},_=async e=>{try{w(!0);const t=await cr.get("/api/subjects/".concat(e,"/students"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});x(t.data.enrolled||[]),y(t.data.available||[])}catch(t){console.error("Error fetching students:",t),Ss.error("Failed to load students for this subject")}finally{w(!1)}},M=()=>{d(!1),f(null),x([]),y([]),b([])};return a?(0,Es.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Es.jsxs)("div",{className:"p-6",children:[(0,Es.jsx)("div",{className:"mb-8",children:(0,Es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Subjects"}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage academic subjects and assign instructors"})]}),(0,Es.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Es.jsx)(Nl,{className:"h-5 w-5 mr-2"}),"Add Subject"]})]})}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,Es.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:(0,Es.jsxs)("div",{className:"p-6",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(Hl,{className:"h-8 w-8 text-blue-600"}),(0,Es.jsxs)("div",{className:"ml-3",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.SUBJECTCODE}),(0,Es.jsxs)("p",{className:"text-sm text-gray-500",children:[e.SEMESTER," ",e.YEAR]})]})]}),(0,Es.jsxs)("div",{className:"flex space-x-2",children:[(0,Es.jsx)("button",{onClick:()=>(async e=>{f(e),d(!0),b([]),await _(e.SUBJECTID)})(e),className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Assign Students",children:(0,Es.jsx)(Yl,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>(e=>{m(e),A({SUBJECTCODE:e.SUBJECTCODE||"",SUBJECTNAME:e.SUBJECTNAME||"",DESCRIPTION:e.DESCRIPTION||"",INSTRUCTORID:e.INSTRUCTORID||"",SEMESTER:e.SEMESTER||"First Semester",YEAR:e.YEAR||(new Date).getFullYear(),ACADEMICYEAR:e.ACADEMICYEAR||"2024-2025"}),o(!0)})(e),className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Subject",children:(0,Es.jsx)(Pl,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>{return t=e.SUBJECTID,n=e.SUBJECTNAME,k({type:"subject",id:t,name:n,title:"Delete Subject",message:'Are you sure you want to delete "'.concat(n,'"? This will also remove all related schedules and enrollments. This action cannot be undone.'),confirmText:"Delete Subject"}),S(!0),void setTimeout(()=>T("visible"),10);var t,n},className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Subject",children:(0,Es.jsx)(Rl,{className:"h-4 w-4"})})]})]}),(0,Es.jsx)("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:e.SUBJECTNAME}),e.DESCRIPTION&&(0,Es.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.DESCRIPTION}),(0,Es.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Es.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,Es.jsx)(gl,{className:"h-4 w-4 mr-1"}),(0,Es.jsxs)("span",{children:[e.enrolled_students||0," students"]})]}),(0,Es.jsx)("span",{className:"text-gray-500",children:e.instructor_name||"No instructor assigned"})]}),(0,Es.jsxs)("div",{className:"mt-4 text-xs text-gray-400",children:["Academic Year: ",e.ACADEMICYEAR]})]})},e.SUBJECTID))}),0===e.length&&(0,Es.jsxs)("div",{className:"text-center py-12",children:[(0,Es.jsx)(Hl,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No subjects"}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new subject."}),(0,Es.jsx)("div",{className:"mt-6",children:(0,Es.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Es.jsx)(Nl,{className:"h-5 w-5 mr-2"}),"Add Subject"]})})]}),i&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:u?"Edit Subject":"Add New Subject"}),(0,Es.jsxs)("button",{onClick:D,className:"text-gray-400 hover:text-gray-600",children:[(0,Es.jsx)("span",{className:"sr-only",children:"Close"}),(0,Es.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Es.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,Es.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=u?"/api/subjects/".concat(u.SUBJECTID):"/api/subjects",t=u?"put":"post";await cr[t](e,R,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Ss.success("Subject ".concat(u?"updated":"created"," successfully!")),o(!1),I(),O()}catch(a){var t,n,r,s;if(console.error("Error saving subject:",a),null!==(t=a.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors)a.response.data.errors.forEach(e=>Ss.error(e.msg));else Ss.error((null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to save subject")}},className:"space-y-4",children:[(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subject Code *"}),(0,Es.jsx)("input",{type:"text",required:!0,value:R.SUBJECTCODE,onChange:e=>A(Bt(Bt({},R),{},{SUBJECTCODE:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., CS101"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Instructor *"}),(0,Es.jsxs)("select",{required:!0,value:R.INSTRUCTORID,onChange:e=>A(Bt(Bt({},R),{},{INSTRUCTORID:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Es.jsx)("option",{value:"",children:"Select Instructor"}),n.map(e=>(0,Es.jsxs)("option",{value:e.USERID,children:[e.FIRSTNAME," ",e.LASTNAME," (",e.EMPLOYEEID||e.FACULTYID,")"]},e.USERID))]})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subject Name *"}),(0,Es.jsx)("input",{type:"text",required:!0,value:R.SUBJECTNAME,onChange:e=>A(Bt(Bt({},R),{},{SUBJECTNAME:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Introduction to Computer Science"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Es.jsx)("textarea",{value:R.DESCRIPTION,onChange:e=>A(Bt(Bt({},R),{},{DESCRIPTION:e.target.value})),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Subject description (optional)"})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Semester *"}),(0,Es.jsx)("select",{required:!0,value:R.SEMESTER,onChange:e=>A(Bt(Bt({},R),{},{SEMESTER:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:["First Semester","Second Semester","Summer"].map(e=>(0,Es.jsx)("option",{value:e,children:e},e))})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Year *"}),(0,Es.jsx)("input",{type:"number",required:!0,min:"2020",max:"2030",value:R.YEAR,onChange:e=>A(Bt(Bt({},R),{},{YEAR:parseInt(e.target.value)})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Academic Year *"}),(0,Es.jsx)("input",{type:"text",required:!0,pattern:"\\d{4}-\\d{4}",value:R.ACADEMICYEAR,onChange:e=>A(Bt(Bt({},R),{},{ACADEMICYEAR:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"2024-2025"})]})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Es.jsx)("button",{type:"button",onClick:D,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,Es.jsxs)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u?"Update":"Create"," Subject"]})]})]})]})}),c&&h&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Assign Students to ",h.SUBJECTCODE," - ",h.SUBJECTNAME]}),(0,Es.jsxs)("button",{onClick:M,className:"text-gray-400 hover:text-gray-600",children:[(0,Es.jsx)("span",{className:"sr-only",children:"Close"}),(0,Es.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Es.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),j?(0,Es.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Es.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Available Students (",g.length,")"]}),(0,Es.jsx)("div",{className:"border border-gray-200 rounded-lg max-h-96 overflow-y-auto",children:0===g.length?(0,Es.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No available students to assign"}):(0,Es.jsx)("div",{className:"divide-y divide-gray-200",children:g.map(e=>(0,Es.jsx)("div",{className:"p-3 hover:bg-gray-50",children:(0,Es.jsx)("div",{className:"flex items-center justify-between",children:(0,Es.jsx)("div",{className:"flex-1",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("input",{type:"checkbox",checked:v.includes(e.USERID),onChange:t=>{t.target.checked?b([...v,e.USERID]):b(v.filter(t=>t!==e.USERID))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-3"}),(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.FIRSTNAME," ",e.LASTNAME]}),(0,Es.jsxs)("p",{className:"text-xs text-gray-500",children:[e.STUDENTID," \u2022 ",e.YEARLEVEL," \u2022 ",e.DEPARTMENT]})]})]})})})},e.USERID))})})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Enrolled Students (",p.length,")"]}),(0,Es.jsx)("div",{className:"border border-gray-200 rounded-lg max-h-96 overflow-y-auto",children:0===p.length?(0,Es.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No students enrolled yet"}):(0,Es.jsx)("div",{className:"divide-y divide-gray-200",children:p.map(e=>(0,Es.jsx)("div",{className:"p-3 hover:bg-gray-50",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsx)("div",{className:"flex-1",children:(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.FIRSTNAME," ",e.LASTNAME]}),(0,Es.jsxs)("p",{className:"text-xs text-gray-500",children:[e.STUDENTID," \u2022 ",e.YEARLEVEL," \u2022 ",e.DEPARTMENT]}),(0,Es.jsxs)("p",{className:"text-xs text-gray-400",children:["Enrolled: ",new Date(e.ENROLLMENTDATE).toLocaleDateString()]})]})}),(0,Es.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this student from the subject?"))try{await cr.delete("/api/subjects/".concat(h.SUBJECTID,"/students/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Ss.success("Student removed successfully"),await _(h.SUBJECTID),O()}catch(r){var t,n;console.error("Error removing student:",r),Ss.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to remove student")}})(e.USERID),className:"ml-2 p-1 text-red-400 hover:text-red-600 transition-colors",title:"Remove Student",children:(0,Es.jsx)(Rl,{className:"h-4 w-4"})})]})},e.USERID))})})]})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Es.jsx)("button",{type:"button",onClick:M,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Close"}),v.length>0&&(0,Es.jsxs)("button",{onClick:async()=>{if(0!==v.length)try{await cr.post("/api/subjects/".concat(h.SUBJECTID,"/enroll"),{studentIds:v},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Ss.success("Successfully enrolled ".concat(v.length," student(s)")),d(!1),b([]),O()}catch(n){var e,t;console.error("Error enrolling students:",n),Ss.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to enroll students")}else Ss.error("Please select at least one student")},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:["Enroll ",v.length," Student",1!==v.length?"s":""]})]})]})}),N&&E&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===C?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===C?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),(0,Es.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:E.title}),(0,Es.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:E.message})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{T("hidden"),setTimeout(()=>{S(!1),k(null)},300)},className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105",children:"Cancel"}),(0,Es.jsxs)("button",{type:"button",onClick:async()=>{if(E)try{const e=(await cr.delete("/api/subjects/".concat(E.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.message||"Subject deleted successfully!";Ss.success(e,{duration:4e3,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534"}}),O()}catch(s){var e,t,n,r;console.error("Error deleting subject:",s);const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete subject",l=null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.details;l?Ss.error("".concat(a,": ").concat(l),{duration:8e3,style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626"}}):Ss.error(a)}finally{T("hidden"),setTimeout(()=>{S(!1),k(null)},300)}},className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg",children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),E.confirmText]})]})]})})})})]})},Jl=["title","titleId"];function Kl(e,t){let{title:n,titleId:s}=e,a=As(e,Jl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const $l=r.forwardRef(Kl);cr.defaults.baseURL="http://localhost:5000";const Zl=function(){var e,t;const[n,s]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[p,x]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),[j,w]=(0,r.useState)(null),[N,S]=(0,r.useState)(null),[E,k]=(0,r.useState)(!1),[C,T]=(0,r.useState)(""),[R,A]=(0,r.useState)([]),[O,I]=(0,r.useState)(!1),[D,_]=(0,r.useState)(!1),[M,L]=(0,r.useState)(null),[U,P]=(0,r.useState)("hidden"),[F,B]=(0,r.useState)({subject_id:"",room_id:"",academic_year:"2024-2025",semester:"First Semester",time_slots:[{id:1,selected_days:[],start_time:"",end_time:""}]}),[z,q]=(0,r.useState)([]),H=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],W=(e,t,n)=>{B(r=>Bt(Bt({},r),{},{time_slots:r.time_slots.map(r=>r.id===e?Bt(Bt({},r),{},{[t]:n}):r)}))};(0,r.useEffect)(()=>{Q()},[]),(0,r.useEffect)(()=>{p&&!g&&(console.log("Modal opened for creating new schedule - resetting form"),V())},[p,g]);const Q=async()=>{try{f(!0);const e=localStorage.getItem("token");if(!e)return void Ss.error("Please login to access schedules");const t={Authorization:"Bearer ".concat(e)},[n,r,a,i,c]=await Promise.all([cr.get("/api/schedules",{headers:t}),cr.get("/api/subjects",{headers:t}),cr.get("/api/users?type=instructor",{headers:t}),cr.get("/api/rooms",{headers:t}),cr.get("/api/users?type=student",{headers:t})]),u=n.data.schedules||[];s(u),q((e=>{const t={};return e.forEach(e=>{const n="".concat(e.SUBJECTID,"-").concat(e.subject_code,"-").concat(e.subject_name);t[n]||(t[n]={subject_id:e.SUBJECTID,subject_code:e.subject_code,subject_name:e.subject_name,instructor_name:e.instructor_name,academic_year:e.ACADEMICYEAR,semester:e.SEMESTER,schedules:[]}),t[n].schedules.push(e)}),Object.values(t).forEach(e=>{const t={};e.schedules.forEach(e=>{const n="".concat(e.STARTTIME,"-").concat(e.ENDTIME,"-").concat(e.ROOMID);t[n]||(t[n]={start_time:e.STARTTIME,end_time:e.ENDTIME,room_id:e.ROOMID,room_number:e.room_number,room_name:e.room_name,days:[],schedules:[]}),t[n].days.push(e.DAYOFWEEK),t[n].schedules.push(e)});const n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];Object.values(t).forEach(e=>{e.days.sort((e,t)=>n.indexOf(e)-n.indexOf(t))}),e.time_slots=Object.values(t)}),Object.values(t)})(u)),l(r.data.subjects||[]),o(a.data.users||[]),d(i.data.rooms||[]),m(c.data.users||[])}catch(t){var e;console.error("Error fetching data:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)?(Ss.error("Session expired. Please login again."),localStorage.removeItem("token"),window.location.href="/login"):Ss.error("Failed to load data")}finally{f(!1)}},Y=async e=>{try{k(!0);const t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)},r=await cr.get("/api/enrollment/schedule/".concat(e),{headers:n});S(r.data)}catch(t){console.error("Error fetching enrollment data:",t),Ss.error("Failed to load enrollment data")}finally{k(!1)}},V=()=>{B({subject_id:"",room_id:"",academic_year:"2024-2025",semester:"First Semester",time_slots:[{id:1,selected_days:[],start_time:"",end_time:""}]})},J=e=>{y(e),B({subject_id:e.SUBJECTID||"",room_id:e.ROOMID||"",academic_year:e.ACADEMICYEAR||"2024-2025",semester:e.SEMESTER||"First Semester",time_slots:[{id:1,selected_days:[e.DAYOFWEEK||"Monday"],start_time:e.STARTTIME?e.STARTTIME.substring(0,5):"",end_time:e.ENDTIME?e.ENDTIME.substring(0,5):""}]}),x(!0)},K=async e=>{L({type:"schedule",id:e,title:"Delete Schedule",message:"Are you sure you want to delete this schedule? This action cannot be undone.",confirmText:"Delete Schedule"}),_(!0),setTimeout(()=>P("visible"),10)},$=e=>{if(!e)return"";const[t,n]=e.split(":"),r=parseInt(t),s=r>=12?"PM":"AM";return"".concat(r%12||12,":").concat(n," ").concat(s)},Z=(null===N||void 0===N||null===(e=N.available)||void 0===e?void 0:e.filter(e=>{var t;return e.student_name.toLowerCase().includes(C.toLowerCase())||e.EMAIL.toLowerCase().includes(C.toLowerCase())||(null===(t=e.STUDENTID)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))}))||[],G=(null===N||void 0===N||null===(t=N.enrolled)||void 0===t?void 0:t.filter(e=>{var t;return e.student_name.toLowerCase().includes(C.toLowerCase())||e.EMAIL.toLowerCase().includes(C.toLowerCase())||(null===(t=e.STUDENTID)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))}))||[];return h?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Schedule Management"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"Manage class schedules, subjects, and enrollment"})]}),(0,Es.jsxs)("button",{onClick:()=>{console.log("Add Schedule button clicked"),y(null),x(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,Es.jsx)(Nl,{className:"h-4 w-4 mr-2"}),"Add Schedule"]})]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map((e,t)=>(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.subject_code}),(0,Es.jsx)("p",{className:"text-sm text-gray-600",children:e.subject_name}),(0,Es.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,Es.jsx)("strong",{children:"Instructor:"})," ",e.instructor_name||"Not assigned"]})]}),(0,Es.jsx)("div",{className:"flex items-center space-x-2",children:(0,Es.jsx)("button",{onClick:()=>{var t,n,r;B({subject_id:e.subject_id,room_id:(null===(t=e.time_slots[0])||void 0===t?void 0:t.room_id)||"",academic_year:e.academic_year||"2024-2025",semester:e.semester||"First Semester",time_slots:[{id:1,selected_days:[],start_time:null!==(n=e.time_slots[0])&&void 0!==n&&n.start_time?e.time_slots[0].start_time.substring(0,5):"",end_time:null!==(r=e.time_slots[0])&&void 0!==r&&r.end_time?e.time_slots[0].end_time.substring(0,5):""}]}),y(null),x(!0)},className:"text-green-500 hover:text-green-700 p-1 rounded-md hover:bg-green-50",title:"Add more days to this time slot",children:(0,Es.jsx)(Nl,{className:"h-4 w-4"})})})]}),(0,Es.jsx)("div",{className:"mb-4 relative",children:1===e.time_slots.length?(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,Es.jsx)(Qs,{className:"h-4 w-4 mr-2 text-blue-500"}),(0,Es.jsxs)("span",{className:"font-medium",children:[$(e.time_slots[0].start_time)," - ",$(e.time_slots[0].end_time)]})]}),(0,Es.jsxs)("div",{className:"flex space-x-1",children:[(0,Es.jsx)("button",{onClick:()=>J(e.time_slots[0].schedules[0]),className:"text-gray-400 hover:text-blue-600 p-1 rounded",title:"Edit this schedule",children:(0,Es.jsx)(Pl,{className:"h-3 w-3"})}),(0,Es.jsx)("button",{onClick:()=>K(e.time_slots[0].schedules[0].SCHEDULEID),className:"text-gray-400 hover:text-red-600 p-1 rounded",title:"Delete this schedule",children:(0,Es.jsx)(Rl,{className:"h-3 w-3"})})]})]}),(0,Es.jsx)("div",{className:"flex flex-wrap gap-1",children:e.time_slots[0].days.map((e,t)=>(0,Es.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-md",children:e},"".concat(e,"-").concat(t)))}),(0,Es.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("strong",{children:"Room:"})," ",e.time_slots[0].room_number," - ",e.time_slots[0].room_name]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("strong",{children:"Semester:"})," ",e.semester," (",e.academic_year,")"]})]}),e.time_slots[0].schedules.length>1&&(0,Es.jsxs)("details",{className:"mt-2",children:[(0,Es.jsxs)("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:["Manage individual days (",e.time_slots[0].schedules.length,")"]}),(0,Es.jsx)("div",{className:"mt-2 space-y-1",children:e.time_slots[0].schedules.map(e=>(0,Es.jsxs)("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded border",children:[(0,Es.jsx)("span",{className:"text-xs text-gray-600",children:e.DAYOFWEEK}),(0,Es.jsxs)("div",{className:"flex space-x-1",children:[(0,Es.jsx)("button",{onClick:()=>J(e),className:"text-gray-400 hover:text-blue-600 p-0.5 rounded",title:"Edit ".concat(e.DAYOFWEEK),children:(0,Es.jsx)(Pl,{className:"h-3 w-3"})}),(0,Es.jsx)("button",{onClick:()=>K(e.SCHEDULEID),className:"text-gray-400 hover:text-red-600 p-0.5 rounded",title:"Delete ".concat(e.DAYOFWEEK),children:(0,Es.jsx)(Rl,{className:"h-3 w-3"})})]})]},e.SCHEDULEID))})]})]}):(0,Es.jsxs)(Es.Fragment,{children:[e.time_slots.length>2&&(0,Es.jsx)("div",{className:"flex items-center justify-center mb-2 text-xs text-gray-500",children:(0,Es.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Es.jsx)("div",{className:"w-2 h-2 bg-gray-300 rounded-full animate-pulse"}),(0,Es.jsx)("span",{children:"Multiple time slots - scroll to see all"}),(0,Es.jsx)("div",{className:"w-2 h-2 bg-gray-300 rounded-full animate-pulse"})]})}),(0,Es.jsx)("div",{className:"space-y-4 ".concat(e.time_slots.length>2?"max-h-96 overflow-y-auto pr-2":""),style:e.time_slots.length>2?{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"}:{},children:e.time_slots.map((t,n)=>(0,Es.jsxs)("div",{className:"border border-gray-200 rounded-md p-4 bg-gray-50 relative",children:[e.time_slots.length>2&&(0,Es.jsx)("div",{className:"absolute -left-1 top-2 w-6 h-6 bg-blue-500 text-white text-xs rounded-full flex items-center justify-center font-medium shadow-sm",children:n+1}),(0,Es.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Es.jsxs)("div",{className:"flex-1",children:[(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-700 mb-2",children:[(0,Es.jsx)(Qs,{className:"h-4 w-4 mr-2 text-blue-500"}),(0,Es.jsxs)("span",{className:"font-medium",children:[$(t.start_time)," - ",$(t.end_time)]})]}),(0,Es.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:t.days.map((e,t)=>(0,Es.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-md",children:e},"".concat(e,"-").concat(t)))}),(0,Es.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,Es.jsx)("strong",{children:"Room:"})," ",t.room_number," - ",t.room_name]}),(0,Es.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,Es.jsx)("strong",{children:"Semester:"})," ",e.semester," (",e.academic_year,")"]})]}),(0,Es.jsxs)("div",{className:"flex space-x-1 ml-2",children:[(0,Es.jsx)("button",{onClick:()=>J(t.schedules[0]),className:"text-gray-400 hover:text-blue-600 p-1 rounded",title:"Edit this time slot",children:(0,Es.jsx)(Pl,{className:"h-3 w-3"})}),(0,Es.jsx)("button",{onClick:()=>{L({type:"timeSlot",schedules:t.schedules,daysCount:t.days.length,title:"Delete Time Slot",message:"Are you sure you want to delete this time slot (".concat(t.days.length," day(s))? This will remove all schedules for ").concat(t.days.join(", "),"."),confirmText:"Delete Time Slot"}),_(!0),setTimeout(()=>P("visible"),10)},className:"text-gray-400 hover:text-red-600 p-1 rounded",title:"Delete this time slot",children:(0,Es.jsx)(Rl,{className:"h-3 w-3"})})]})]}),(0,Es.jsxs)("details",{className:"mt-2",children:[(0,Es.jsxs)("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:["Manage individual days (",t.schedules.length,")"]}),(0,Es.jsx)("div",{className:"mt-2 space-y-1",children:t.schedules.map(e=>(0,Es.jsxs)("div",{className:"flex justify-between items-center py-1 px-2 bg-white rounded border",children:[(0,Es.jsx)("span",{className:"text-xs text-gray-600",children:e.DAYOFWEEK}),(0,Es.jsxs)("div",{className:"flex space-x-1",children:[(0,Es.jsx)("button",{onClick:()=>J(e),className:"text-gray-400 hover:text-blue-600 p-0.5 rounded",title:"Edit ".concat(e.DAYOFWEEK),children:(0,Es.jsx)(Pl,{className:"h-3 w-3"})}),(0,Es.jsx)("button",{onClick:()=>K(e.SCHEDULEID),className:"text-gray-400 hover:text-red-600 p-0.5 rounded",title:"Delete ".concat(e.DAYOFWEEK),children:(0,Es.jsx)(Rl,{className:"h-3 w-3"})})]})]},e.SCHEDULEID))})]})]},"timeslot-".concat(n)))}),e.time_slots.length>2&&(0,Es.jsx)("div",{className:"flex items-center justify-center mt-2 text-xs text-gray-400",children:(0,Es.jsx)("div",{className:"flex items-center space-x-1",children:(0,Es.jsxs)("span",{children:["\u2191 Scroll up/down to see all ",e.time_slots.length," time slots \u2193"]})})})]})}),(0,Es.jsxs)("button",{onClick:()=>{var t;return(async e=>{w(e),b(!0),T(""),A([]),I(!1),await Y(e.SCHEDULEID)})(null===(t=e.time_slots[0])||void 0===t?void 0:t.schedules[0])},className:"w-full inline-flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Es.jsx)(gl,{className:"h-4 w-4 mr-2"}),"Manage Enrollment"]})]},"group-".concat(e.subject_id,"-").concat(t)))}),0===z.length&&!h&&(0,Es.jsxs)("div",{className:"text-center py-12",children:[(0,Es.jsx)(Qs,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No schedules"}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new schedule."}),(0,Es.jsx)("div",{className:"mt-6",children:(0,Es.jsxs)("button",{onClick:()=>{console.log("Empty state Add Schedule button clicked"),y(null),x(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[(0,Es.jsx)(Nl,{className:"h-4 w-4 mr-2"}),"Add Schedule"]})})]}),p&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Es.jsxs)("div",{className:"mt-3",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g?"Edit Schedule":"Add New Schedule"}),(0,Es.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=F.time_slots.filter(e=>e.selected_days.length>0);if(0===t.length)return void Ss.error("Please select at least one day in at least one time slot");if(t.filter(e=>!e.start_time||!e.end_time).length>0)Ss.error("Please set start and end times for all time slots with selected days");else{if(g){if(t.filter(e=>1!==e.selected_days.length).length>0)return void Ss.error("In edit mode, please select exactly one day per time slot")}try{const e=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(e)};if(g){const e=t[0],r={subject_id:F.subject_id,room_id:F.room_id,day_of_week:e.selected_days[0],start_time:e.start_time,end_time:e.end_time,academic_year:F.academic_year,semester:F.semester};await cr.put("/api/schedules/".concat(g.SCHEDULEID),r,{headers:n}),Ss.success("Schedule updated successfully")}else{const e=[];t.forEach(t=>{t.selected_days.forEach(r=>{const s={subject_id:F.subject_id,room_id:F.room_id,day_of_week:r,start_time:t.start_time,end_time:t.end_time,academic_year:F.academic_year,semester:F.semester};e.push(cr.post("/api/schedules",s,{headers:n}))})});const r=await Promise.allSettled(e),s=r.filter(e=>"rejected"===e.status),a=r.filter(e=>"fulfilled"===e.status);if(s.length>0){console.error("Some schedules failed to create:",s);const e=s.map(e=>{var t,n,r,s;return(null===(t=e.reason)||void 0===t||null===(n=t.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===(s=e.reason)||void 0===s?void 0:s.message)||"Unknown error"}),t=s.map(e=>{var t,n;const r=null===(t=e.reason)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.data;if(r){return JSON.parse(r).day_of_week}return"Unknown day"});Ss.error("".concat(s.length," schedule(s) failed for days: ").concat(t.join(", "),". Errors: ").concat(e.slice(0,2).join(", ")))}const l=t.reduce((e,t)=>e+t.selected_days.length,0);a.length>0&&Ss.success("".concat(a.length," schedule(s) created successfully out of ").concat(l," total"))}await Q(),x(!1),V(),y(null)}catch(s){var n,r;console.error("Error saving schedule:",s),null!==(n=s.response)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.message?Ss.error(s.response.data.message):Ss.error("Failed to save schedule")}}},className:"space-y-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),(0,Es.jsxs)("select",{value:F.subject_id,onChange:e=>B(Bt(Bt({},F),{},{subject_id:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,Es.jsx)("option",{value:"",children:"Select Subject"}),a.map(e=>(0,Es.jsxs)("option",{value:e.SUBJECTID,children:[e.SUBJECTCODE," - ",e.SUBJECTNAME]},e.SUBJECTID))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Room"}),(0,Es.jsxs)("select",{value:F.room_id,onChange:e=>B(Bt(Bt({},F),{},{room_id:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,Es.jsx)("option",{value:"",children:"Select Room"}),c.map(e=>(0,Es.jsxs)("option",{value:e.ROOMID,children:[e.ROOMNUMBER," - ",e.ROOMNAME]},e.ROOMID))]})]}),(0,Es.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Schedule Time Slots ",!g&&(0,Es.jsx)("span",{className:"text-gray-500 text-xs",children:"(add multiple time slots for the same subject)"})]}),!g&&(0,Es.jsxs)("button",{type:"button",onClick:()=>{const e=Math.max(...F.time_slots.map(e=>e.id))+1;B(t=>Bt(Bt({},t),{},{time_slots:[...t.time_slots,{id:e,selected_days:[],start_time:"",end_time:""}]}))},className:"inline-flex items-center px-3 py-1 border border-green-300 shadow-sm text-xs font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100 transition-colors",children:[(0,Es.jsx)(Nl,{className:"h-3 w-3 mr-1"}),"Add Time Slot"]})]}),(0,Es.jsx)("div",{className:"space-y-6",children:F.time_slots.map((e,t)=>(0,Es.jsxs)("div",{className:"".concat(t>0?"border-t border-gray-300 pt-6":""),children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Es.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Time Slot ",t+1]}),!g&&F.time_slots.length>1&&(0,Es.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void(F.time_slots.length>1&&B(e=>Bt(Bt({},e),{},{time_slots:e.time_slots.filter(e=>e.id!==t)})));var t},className:"text-red-400 hover:text-red-600 p-1",title:"Remove this time slot",children:(0,Es.jsx)(Zs,{className:"h-4 w-4"})})]}),(0,Es.jsxs)("div",{className:"mb-4",children:[(0,Es.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Days ",g&&(0,Es.jsx)("span",{className:"text-gray-500 text-xs",children:"(Edit mode: select one day only)"})]}),(0,Es.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-2",children:H.map(t=>(0,Es.jsx)("button",{type:"button",onClick:()=>{console.log("Day clicked:",t),console.log("editingSchedule:",g),console.log("Form data time slots:",F.time_slots),g?(console.log("EDIT MODE: Setting single day"),B(n=>Bt(Bt({},n),{},{time_slots:n.time_slots.map(n=>n.id===e.id?Bt(Bt({},n),{},{selected_days:[t]}):n)}))):(console.log("CREATE MODE: Toggling day"),((e,t)=>{console.log("toggleDaySelection called with:",{timeSlotId:e,day:t}),B(n=>{var r,s;console.log("Before toggle - selected_days:",null===(r=n.time_slots.find(t=>t.id===e))||void 0===r?void 0:r.selected_days);const a=Bt(Bt({},n),{},{time_slots:n.time_slots.map(n=>n.id===e?Bt(Bt({},n),{},{selected_days:n.selected_days.includes(t)?n.selected_days.filter(e=>e!==t):[...n.selected_days,t]}):n)});return console.log("After toggle - selected_days:",null===(s=a.time_slots.find(t=>t.id===e))||void 0===s?void 0:s.selected_days),a})})(e.id,t))},className:"px-3 py-2 text-sm font-medium rounded-lg border transition-all duration-200 ".concat(e.selected_days.includes(t)?"bg-blue-600 text-white border-blue-600 shadow-md transform scale-105":"bg-white text-gray-700 border-gray-300 hover:border-blue-400 hover:bg-blue-50 hover:text-blue-600"),children:t.substring(0,3)},t))}),e.selected_days.length>0&&(0,Es.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.selected_days.join(", "),g&&e.selected_days.length>1&&(0,Es.jsx)("span",{className:"text-orange-600 ml-2",children:"(Edit mode: only the first day will be saved)"})]})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),(0,Es.jsx)("input",{type:"time",value:e.start_time,onChange:t=>W(e.id,"start_time",t.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),(0,Es.jsx)("input",{type:"time",value:e.end_time,onChange:t=>W(e.id,"end_time",t.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]})]})]},e.id))})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Academic Year"}),(0,Es.jsx)("input",{type:"text",value:F.academic_year,onChange:e=>B(Bt(Bt({},F),{},{academic_year:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"2024-2025",required:!0})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Semester"}),(0,Es.jsx)("select",{value:F.semester,onChange:e=>B(Bt(Bt({},F),{},{semester:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:["First Semester","Second Semester","Summer"].map(e=>(0,Es.jsx)("option",{value:e,children:e},e))})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{x(!1),y(null),V()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Es.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:g?"Update":"Create"})]})]})]})})}),v&&j&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsxs)("div",{className:"relative top-10 mx-auto p-6 border max-w-6xl shadow-lg rounded-md bg-white my-8",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Manage Enrollment - ",j.subject_code]}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600",children:[j.subject_name," \u2022 ",j.instructor_name]}),N&&(0,Es.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:[N.statistics.totalEnrolled," enrolled \u2022 ",N.statistics.totalAvailable," available"]})]}),(0,Es.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),E?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):N?(0,Es.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Es.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Es.jsxs)("h4",{className:"text-lg font-medium text-gray-900",children:["Enrolled Students (",N.enrolled.length,")"]})}),(0,Es.jsx)("div",{className:"mb-4",children:(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)(Ja,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search enrolled students...",value:C,onChange:e=>T(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]})}),(0,Es.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:0===G.length?(0,Es.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No enrolled students found"}):G.map(e=>(0,Es.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:(0,Es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Es.jsx)("div",{className:"flex-shrink-0 h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Es.jsx)(sl,{className:"h-4 w-4 text-green-600"})}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.student_name}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.STUDENTID," \u2022 Year ",e.YEARLEVEL," \u2022 ",e.DEPARTMENT]}),(0,Es.jsx)("div",{className:"text-xs text-gray-400",children:e.EMAIL})]})]}),(0,Es.jsx)("button",{onClick:()=>{return t=e.USERID,n=e.student_name,L({type:"student",studentId:t,scheduleId:j.SCHEDULEID,studentName:n,title:"Remove Student",message:"Are you sure you want to remove ".concat(n," from this subject? This action cannot be undone."),confirmText:"Remove Student"}),_(!0),void setTimeout(()=>P("visible"),10);var t,n},className:"text-red-600 hover:text-red-800 p-1",title:"Remove student",children:(0,Es.jsx)($l,{className:"h-4 w-4"})})]})},e.USERID))})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsxs)("h4",{className:"text-lg font-medium text-gray-900",children:["Available Students (",N.available.length,")"]}),R.length>0&&(0,Es.jsxs)("div",{className:"flex space-x-2",children:[(0,Es.jsxs)("span",{className:"text-sm text-gray-600",children:[R.length," selected"]}),(0,Es.jsxs)("button",{onClick:async()=>{if(0!==R.length)try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await cr.post("/api/enrollment/schedule/".concat(j.SCHEDULEID,"/enroll"),{studentIds:R},{headers:t});n.data.errors&&n.data.errors.length>0?Ss.error("Some enrollments failed: ".concat(n.data.errors.slice(0,2).join(", "))):Ss.success(n.data.message),A([]),I(!1),await Y(j.SCHEDULEID)}catch(e){console.error("Error enrolling students:",e),Ss.error("Failed to enroll students")}else Ss.error("Please select students to enroll")},className:"inline-flex items-center px-3 py-1 text-xs font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:[(0,Es.jsx)(Yl,{className:"h-3 w-3 mr-1"}),"Enroll Selected"]})]})]}),(0,Es.jsx)("div",{className:"mb-4",children:(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)(Ja,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search available students...",value:C,onChange:e=>T(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]})}),(0,Es.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:0===Z.length?(0,Es.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No available students found"}):Z.map(e=>(0,Es.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:(0,Es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Es.jsx)("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Es.jsx)(sl,{className:"h-4 w-4 text-gray-600"})}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.student_name}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.STUDENTID," \u2022 Year ",e.YEARLEVEL," \u2022 ",e.DEPARTMENT]}),(0,Es.jsx)("div",{className:"text-xs text-gray-400",children:e.EMAIL})]})]}),(0,Es.jsx)("button",{onClick:()=>{return t=e.USERID,void A(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"p-1 rounded ".concat(R.includes(e.USERID)?"text-blue-600 bg-blue-100":"text-gray-400 hover:text-blue-600"),title:R.includes(e.USERID)?"Deselect":"Select to enroll",children:R.includes(e.USERID)?(0,Es.jsx)(Il,{className:"h-4 w-4"}):(0,Es.jsx)(Yl,{className:"h-4 w-4"})})]})},e.USERID))})]})]}):(0,Es.jsxs)("div",{className:"text-center py-8",children:[(0,Es.jsx)("p",{className:"text-gray-500",children:"Failed to load enrollment data"}),(0,Es.jsx)("button",{onClick:()=>Y(j.SCHEDULEID),className:"mt-2 text-blue-600 hover:text-blue-800",children:"Retry"})]}),(0,Es.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Es.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),D&&M&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===U?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===U?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),(0,Es.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:M.title}),(0,Es.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:M.message})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{P("hidden"),setTimeout(()=>{_(!1),L(null)},300)},className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105",children:"Cancel"}),(0,Es.jsxs)("button",{type:"button",onClick:async()=>{if(M)try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};"schedule"===M.type?(await cr.delete("/api/schedules/".concat(M.id),{headers:t}),Ss.success("Schedule deleted successfully")):"timeSlot"===M.type?(await Promise.all(M.schedules.map(e=>cr.delete("/api/schedules/".concat(e.SCHEDULEID),{headers:t}))),Ss.success("Time slot deleted (".concat(M.daysCount," day(s))"))):"student"===M.type&&(await cr.delete("/api/enrollment/schedule/".concat(M.scheduleId,"/student/").concat(M.studentId),{headers:t}),Ss.success("Student removed successfully")),await Q(),"student"===M.type&&await Y(j.SCHEDULEID)}catch(e){console.error("Error deleting:",e),"student"===M.type?Ss.error("Failed to remove student"):Ss.error("Failed to delete schedule")}finally{P("hidden"),setTimeout(()=>{_(!1),L(null)},300)}},className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg",children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),M.confirmText]})]})]})})})})]})},Gl=["title","titleId"];function Xl(e,t){let{title:n,titleId:s}=e,a=As(e,Gl);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const ei=r.forwardRef(Xl),ti=["title","titleId"];function ni(e,t){let{title:n,titleId:s}=e,a=As(e,ti);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const ri=r.forwardRef(ni),si=["title","titleId"];function ai(e,t){let{title:n,titleId:s}=e,a=As(e,si);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const li=r.forwardRef(ai),ii=["title","titleId"];function oi(e,t){let{title:n,titleId:s}=e,a=As(e,ii);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const ci=r.forwardRef(oi);cr.defaults.baseURL="http://localhost:5000";const di=function(){var e,t,n,s,a,l,i,o,c,d,u,m,h,f,p,x,g,y,v,b,j,w,N,S;const[E,k]=(0,r.useState)(null),[C,T]=(0,r.useState)(!0),[R,A]=(0,r.useState)("rooms"),[O,I]=(0,r.useState)(""),[D,_]=(0,r.useState)(""),[M,L]=(0,r.useState)(""),[U,P]=(0,r.useState)(!1),[F,B]=(0,r.useState)(null),[z,q]=(0,r.useState)(""),[H,W]=(0,r.useState)(new Set),[Q,Y]=(0,r.useState)(""),[V,J]=(0,r.useState)(new Set),[K,$]=(0,r.useState)(!1),[Z,G]=(0,r.useState)(!1),[X,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)(!1),[re,se]=(0,r.useState)(!1),[ae,le]=(0,r.useState)(null),[ie,oe]=(0,r.useState)(!1),[ce,de]=(0,r.useState)(!1),[ue,me]=(0,r.useState)(!1),[he,fe]=(0,r.useState)(null),[pe,xe]=(0,r.useState)(null),[ge,ye]=(0,r.useState)(!1),[ve,be]=(0,r.useState)(!1),[je,we]=(0,r.useState)("subjects"),[Ne,Se]=(0,r.useState)({updateExisting:!1,createMissingRooms:!0,skipDuplicates:!0}),Ee=(0,r.useRef)(null),[ke,Ce]=(0,r.useState)(!1),[Te,Re]=(0,r.useState)(null),[Ae,Oe]=(0,r.useState)(!1),[Ie,De]=(0,r.useState)("hidden"),[_e,Me]=(0,r.useState)(!1),[Le,Ue]=(0,r.useState)(null),[Pe,Fe]=(0,r.useState)({subject_id:"",room_id:"",day_of_week:"",start_time:"",end_time:"",academic_year:"",semester:""});(0,r.useEffect)(()=>{Be()},[O,D]);const Be=async()=>{try{T(!0);const e=localStorage.getItem("token");if(!e)return void Ss.error("Please login to access data");const t={Authorization:"Bearer ".concat(e)},n={};O&&(n.academic_year=O),D&&(n.semester=D);const r=await cr.get("/api/unified/data",{headers:t,params:n});k(r.data),!O&&r.data.filters.academic_years.length>0&&I(r.data.filters.academic_years[0])}catch(t){var e;console.error("Error fetching data:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)?(Ss.error("Session expired. Please login again."),localStorage.removeItem("token"),window.location.href="/login"):Ss.error("Failed to load data")}finally{T(!1)}},ze=async(e,t)=>{try{const n=localStorage.getItem("token"),r={Authorization:"Bearer ".concat(n)};let s;switch(t){case"room":s="/api/unified/room/".concat(e);break;case"subject":s="/api/unified/subject/".concat(e);break;case"schedule":s="/api/unified/schedule/".concat(e);break;default:throw new Error("Invalid type")}const a={};O&&(a.academic_year=O),D&&(a.semester=D);const l=await cr.get(s,{headers:r,params:a});B(l.data),q(t),P(!0)}catch(n){console.error("Error fetching detailed data:",n),Ss.error("Failed to load detailed information")}},qe=e=>{W(t=>{const n=new Set;return t.has(e)||n.add(e),n})},He=(e,t)=>{let n,r,s;switch(t){case"room":n="Delete Room",r='Are you sure you want to delete "'.concat(e.ROOMNUMBER," - ").concat(e.ROOMNAME,'"? This action cannot be undone.'),s="Delete Room";break;case"subject":n="Delete Subject",r='Are you sure you want to delete "'.concat(e.SUBJECTCODE," - ").concat(e.SUBJECTNAME,'"? This will also remove all related schedules and enrollments. This action cannot be undone.'),s="Delete Subject";break;case"schedule":n="Delete Schedule",r="Are you sure you want to delete this schedule? This action cannot be undone.",s="Delete Schedule";break;default:n="Delete Item",r="Are you sure you want to delete this item? This action cannot be undone.",s="Delete"}Re(Bt(Bt({},e),{},{type:t,title:n,message:r,confirmText:s})),Ce(!0),setTimeout(()=>De("visible"),10)},We=e=>{const t=new Set(V);t.has(e)?t.delete(e):t.add(e),J(t);const n=Qe();$(t.size===n.length&&Array.isArray(n)&&n.length>0)},Qe=()=>{var e,t,n;if(!E)return[];switch(R){case"rooms":return Array.isArray(null===(e=E.rooms)||void 0===e?void 0:e.data)?E.rooms.data:[];case"subjects":return Array.isArray(null===(t=E.subjects)||void 0===t?void 0:t.data)?E.subjects.data:[];case"schedules":return Array.isArray(null===(n=E.schedules)||void 0===n?void 0:n.data)?E.schedules.data:[];default:return[]}},Ye=e=>{var t;switch(R){case"rooms":return e.ROOMID;case"subjects":return e.SUBJECTID;case"schedules":return"schedule-".concat(e.subject_code,"-").concat((null===(t=e.schedules[0])||void 0===t?void 0:t.SCHEDULEID)||"default");default:return e.id}},Ve=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?oe(!0):"dragleave"===e.type&&oe(!1)},Je=async()=>{if(he){me(!0);try{const e=await cr.post("/api/import/execute",{parsedData:he,options:Ne},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});xe(e.data.results),Ss.success("Data imported successfully! Refreshing data..."),await Be(),Ke()}catch(n){var e,t;console.error("Import error:",n),null!==(e=n.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?Ss.error(n.response.data.message):Ss.error("Failed to import data")}finally{me(!1)}}else Ss.error("No data to import")},Ke=()=>{le(null),fe(null),xe(null),ye(!1),Ee.current&&(Ee.current.value="")},$e=e=>{if(!e)return"";const[t,n]=e.split(":"),r=parseInt(t),s=r>=12?"PM":"AM";return"".concat(r%12||12,":").concat(n," ").concat(s)},Ze=e=>{let{isOpen:t,children:n}=e;const s=(0,r.useRef)(null),[a,l]=(0,r.useState)("0px");return(0,r.useEffect)(()=>{const e=s.current;if(e)if(t){l("".concat(e.scrollHeight,"px"));const t=()=>{e.removeEventListener("transitionend",t),l("auto")};e.addEventListener("transitionend",t)}else{const t=e.scrollHeight;l("".concat(t,"px")),requestAnimationFrame(()=>l("0px"))}},[t]),(0,r.useEffect)(()=>{const e=s.current;e&&(e.style.overflow="hidden")},[]),(0,Es.jsx)("div",{ref:s,style:{height:a,transition:"height 150ms ease, opacity 150ms ease",opacity:t?1:0,willChange:"height"},children:(0,Es.jsx)("div",{className:"pt-2",children:n})})},Ge=(e,t)=>{if(!Array.isArray(e)||!t)return e;const n=t.toLowerCase();return e.filter(e=>{var t,r,s,a,l;return(null===(t=e.FIRSTNAME)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.LASTNAME)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(s=e.STUDENTID)||void 0===s?void 0:s.toLowerCase().includes(n))||(null===(a=e.DEPARTMENT)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(l=e.YEARLEVEL)||void 0===l?void 0:l.toString().includes(n))})},Xe=((e,t)=>Array.isArray(e)?t?e.filter(e=>{var n,r,s,a,l,i,o,c,d,u;const m=t.toLowerCase();switch(R){case"rooms":return(null===(n=e.ROOMNUMBER)||void 0===n?void 0:n.toLowerCase().includes(m))||(null===(r=e.ROOMNAME)||void 0===r?void 0:r.toLowerCase().includes(m))||(null===(s=e.BUILDING)||void 0===s?void 0:s.toLowerCase().includes(m));case"subjects":return(null===(a=e.SUBJECTCODE)||void 0===a?void 0:a.toLowerCase().includes(m))||(null===(l=e.SUBJECTNAME)||void 0===l?void 0:l.toLowerCase().includes(m))||(null===(i=e.instructor_name)||void 0===i?void 0:i.toLowerCase().includes(m));case"schedules":return(null===(o=e.subject_code)||void 0===o?void 0:o.toLowerCase().includes(m))||(null===(c=e.subject_name)||void 0===c?void 0:c.toLowerCase().includes(m))||(null===(d=e.instructor_name)||void 0===d?void 0:d.toLowerCase().includes(m))||(null===(u=e.schedules)||void 0===u?void 0:u.some(e=>{var t,n;return(null===(t=e.ROOMNUMBER)||void 0===t?void 0:t.toLowerCase().includes(m))||(null===(n=e.DAYOFWEEK)||void 0===n?void 0:n.toLowerCase().includes(m))}));default:return!0}}):e:[])((()=>{if(!E)return[];switch(R){case"rooms":return E.rooms.data||[];case"subjects":return E.subjects.data||[];case"schedules":return(e=>{const t={};return e.forEach(e=>{const n=e.SUBJECTCODE;t[n]||(t[n]={subject_code:e.SUBJECTCODE,subject_name:e.SUBJECTNAME,instructor_name:e.instructor_name,academic_year:e.ACADEMICYEAR,semester:e.SEMESTER,schedules:[]}),t[n].schedules.push(e)}),Object.values(t)})(E.schedules.data||[]);default:return[]}})(),M),et=e=>{switch(R){case"rooms":return tt(e);case"subjects":return nt(e);case"schedules":return rt(e);default:return null}},tt=e=>{var t,n;const r=H.has(e.ROOMID),s=(null===E||void 0===E||null===(t=E.rooms)||void 0===t||null===(n=t.schedules)||void 0===n?void 0:n[e.ROOMID])||[];return(0,Es.jsxs)("div",{className:"bg-white rounded-xl shadow border-2 border-gray-300 p-6 hover:shadow-md hover:border-gray-400 transition min-h-[180px] overflow-hidden",children:[(0,Es.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4",children:[(0,Es.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Es.jsx)("input",{type:"checkbox",checked:V.has(e.ROOMID),onChange:()=>We(e.ROOMID),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Es.jsx)("div",{className:"text-2xl",children:"\ud83c\udfeb"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.ROOMNUMBER}),(0,Es.jsx)("p",{className:"text-sm text-gray-600",children:e.ROOMNAME}),(0,Es.jsx)("p",{className:"text-xs text-gray-500",children:e.BUILDING})]})]}),(0,Es.jsxs)("div",{className:"flex space-x-2",children:[(0,Es.jsx)("button",{onClick:()=>qe(e.ROOMID),className:"text-gray-400 hover:text-blue-600 p-1 rounded",title:r?"Collapse":"Expand",children:r?(0,Es.jsx)(ei,{className:"h-4 w-4"}):(0,Es.jsx)(la,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>ze(e.ROOMID,"room"),className:"text-gray-400 hover:text-green-600 p-1 rounded",title:"View Details",children:(0,Es.jsx)(ga,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>He(e,"room"),className:"text-gray-400 hover:text-red-600 p-1 rounded",title:"Delete Room",children:(0,Es.jsx)(Rl,{className:"h-4 w-4"})})]})]}),(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Es.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Es.jsx)(Fa,{className:"h-4 w-4 mr-2"}),e.CAPACITY?"Capacity: ".concat(e.CAPACITY):"No capacity set"]}),(0,Es.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Available"===e.STATUS?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.STATUS})]}),(0,Es.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,Es.jsxs)("span",{children:[e.schedule_count||0," schedules"]}),(0,Es.jsxs)("span",{children:[e.subject_count||0," subjects"]})]}),r&&s.length>0&&(0,Es.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Es.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Current Schedules"}),(0,Es.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.map(e=>(0,Es.jsxs)("div",{className:"text-xs bg-gray-50 rounded p-2",children:[(0,Es.jsxs)("div",{className:"font-medium",children:[e.SUBJECTCODE," - ",e.SUBJECTNAME]}),(0,Es.jsxs)("div",{className:"text-gray-600",children:[e.DAYOFWEEK," \u2022 ",$e(e.STARTTIME)," - ",$e(e.ENDTIME)]}),(0,Es.jsx)("div",{className:"text-gray-500",children:e.instructor_name}),(0,Es.jsxs)("div",{className:"text-blue-600",children:[e.enrolled_students||0," students enrolled"]})]},e.SCHEDULEID))})]})]})]},e.ROOMID)},nt=e=>{var t,n;const r=H.has(e.SUBJECTID),s=(null===E||void 0===E||null===(t=E.subjects)||void 0===t||null===(n=t.schedules)||void 0===n?void 0:n[e.SUBJECTID])||[];return(0,Es.jsxs)("div",{className:"bg-white rounded-xl shadow border-2 border-gray-300 p-6 hover:shadow-md hover:border-gray-400 transition min-h-[180px] overflow-hidden",children:[(0,Es.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4",children:[(0,Es.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Es.jsx)("input",{type:"checkbox",checked:V.has(e.SUBJECTID),onChange:()=>We(e.SUBJECTID),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Es.jsx)("div",{className:"text-2xl",children:"\ud83d\udcda"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.SUBJECTCODE}),(0,Es.jsx)("p",{className:"text-sm text-gray-600",children:e.SUBJECTNAME}),(0,Es.jsx)("p",{className:"text-xs text-gray-500",children:e.instructor_name||"No instructor assigned"})]})]}),(0,Es.jsxs)("div",{className:"flex space-x-2",children:[(0,Es.jsx)("button",{onClick:()=>qe(e.SUBJECTID),className:"text-gray-400 hover:text-blue-600 p-1 rounded",title:r?"Collapse":"Expand",children:r?(0,Es.jsx)(ei,{className:"h-4 w-4"}):(0,Es.jsx)(la,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>ze(e.SUBJECTID,"subject"),className:"text-gray-400 hover:text-green-600 p-1 rounded",title:"View Details",children:(0,Es.jsx)(ga,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>He(e,"subject"),className:"text-gray-400 hover:text-red-600 p-1 rounded",title:"Delete Subject",children:(0,Es.jsx)(Rl,{className:"h-4 w-4"})})]})]}),(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,Es.jsxs)("div",{children:[e.SEMESTER," \u2022 ",e.ACADEMICYEAR]}),e.DESCRIPTION&&(0,Es.jsx)("div",{className:"mt-1 line-clamp-2",children:e.DESCRIPTION})]}),(0,Es.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(Js,{className:"h-4 w-4 mr-1"}),(0,Es.jsxs)("span",{children:[e.enrolled_students||0," students"]})]}),(0,Es.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Es.jsxs)("span",{children:[e.schedule_count||0," schedules"]}),(0,Es.jsxs)("span",{children:[e.room_count||0," rooms"]})]})]}),r&&s.length>0&&(0,Es.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Es.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Schedule Details"}),(0,Es.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.map(e=>(0,Es.jsxs)("div",{className:"text-xs bg-gray-50 rounded p-2",children:[(0,Es.jsx)("div",{className:"font-medium",children:e.DAYOFWEEK}),(0,Es.jsxs)("div",{className:"text-gray-600",children:[$e(e.STARTTIME)," - ",$e(e.ENDTIME)]}),(0,Es.jsxs)("div",{className:"text-gray-500",children:[e.ROOMNUMBER," - ",e.ROOMNAME," (",e.BUILDING,")"]})]},e.SCHEDULEID))})]})]})]},e.SUBJECTID)},rt=e=>{var t;const n="schedule-".concat(e.subject_code,"-").concat((null===(t=e.schedules[0])||void 0===t?void 0:t.SCHEDULEID)||"default"),r=H.has(n),s=e.schedules.reduce((e,t)=>e+(t.enrolled_students||0),0);return(0,Es.jsxs)("div",{className:"bg-white rounded-xl shadow border-2 border-gray-300 p-6 hover:shadow-md hover:border-gray-400 transition min-h-[180px] overflow-hidden",children:[(0,Es.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4",children:[(0,Es.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Es.jsx)("input",{type:"checkbox",checked:V.has(n),onChange:()=>We(n),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Es.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc5"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.subject_code}),(0,Es.jsx)("p",{className:"text-sm text-gray-600",children:e.subject_name}),(0,Es.jsx)("p",{className:"text-xs text-gray-500",children:e.instructor_name})]})]}),(0,Es.jsxs)("div",{className:"flex space-x-2",children:[(0,Es.jsx)("button",{onClick:()=>ze(e.schedules[0].SCHEDULEID,"schedule"),className:"text-gray-400 hover:text-green-600 p-1 rounded",title:"View Details",children:(0,Es.jsx)(ga,{className:"h-4 w-4"})}),(0,Es.jsx)("button",{onClick:()=>He(e.schedules[0],"schedule"),className:"text-gray-400 hover:text-red-600 p-1 rounded",title:"Delete Schedule",children:(0,Es.jsx)(Rl,{className:"h-4 w-4"})})]})]}),(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Es.jsx)(Qs,{className:"h-4 w-4 mr-2 text-blue-500"}),(0,Es.jsxs)("span",{children:[e.schedules.length," schedule",1!==e.schedules.length?"s":""]})]}),(0,Es.jsxs)("button",{onClick:()=>qe(n),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:scale-105 ".concat(r?"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300":"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200 shadow-sm"),children:[(0,Es.jsx)("span",{className:"mr-2",children:r?"Hide Schedules":"Show Schedules"}),(0,Es.jsx)("div",{className:"transition-transform duration-300 ".concat(r?"rotate-180":"rotate-0"),children:(0,Es.jsx)(la,{className:"h-4 w-4"})})]})]}),(0,Es.jsx)(Ze,{isOpen:r,children:(0,Es.jsx)("div",{className:"space-y-2 pt-2",children:e.schedules.map((e,t)=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200 transition-all duration-150 ease-in-out",style:{transitionDelay:r?"".concat(40*t,"ms"):"0ms"},children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,Es.jsx)(Qs,{className:"h-4 w-4 mr-2 text-blue-500"}),(0,Es.jsxs)("span",{className:"font-medium",children:[e.DAYOFWEEK," \u2022 ",$e(e.STARTTIME)," - ",$e(e.ENDTIME)]}),1===e.ISLAB||"1"===e.ISLAB||!0===e.ISLAB?(0,Es.jsx)("span",{className:"ml-2 inline-flex items-center rounded-full bg-purple-100 text-purple-800 px-2 py-0.5 text-xs font-medium",children:"LAB"}):(0,Es.jsx)("span",{className:"ml-2 inline-flex items-center rounded-full bg-blue-100 text-blue-800 px-2 py-0.5 text-xs font-medium",children:"LEC"})]}),(0,Es.jsxs)("div",{className:"flex space-x-1",children:[(0,Es.jsx)("button",{onClick:()=>(e=>{Ue(e),Fe({subject_id:e.SUBJECTID||"",room_id:e.ROOMID||"",day_of_week:e.DAYOFWEEK||"",start_time:e.STARTTIME?e.STARTTIME.substring(0,5):"",end_time:e.ENDTIME?e.ENDTIME.substring(0,5):"",academic_year:e.ACADEMICYEAR||"",semester:e.SEMESTER||""}),Me(!0)})(e),className:"text-gray-400 hover:text-yellow-600 p-1 rounded transition-colors duration-150",title:"Edit Schedule",children:(0,Es.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Es.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Es.jsx)("button",{onClick:()=>He(e,"schedule"),className:"text-gray-400 hover:text-red-600 p-1 rounded transition-colors duration-150",title:"Delete Schedule",children:(0,Es.jsx)(Rl,{className:"h-3 w-3"})})]})]}),(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mt-2",children:[(0,Es.jsx)(Fa,{className:"h-4 w-4 mr-2"}),(0,Es.jsxs)("span",{children:[e.ROOMNUMBER," - ",e.ROOMNAME," (",e.BUILDING,")"]})]})]},e.SCHEDULEID))})}),(0,Es.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(Js,{className:"h-4 w-4 mr-1"}),(0,Es.jsxs)("span",{children:[s," students enrolled"]})]}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.semester," \u2022 ",e.academic_year]})]}),r&&(0,Es.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,Es.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"font-medium",children:"Academic Year:"})," ",e.academic_year]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"font-medium",children:"Semester:"})," ",e.semester]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"font-medium",children:"Total Schedules:"})," ",e.schedules.length]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"font-medium",children:"Instructor:"})," ",e.instructor_name]})]})})]})]},e.subject_code)};return C?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Es.jsxs)("div",{className:"space-y-8",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Management"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"Unified view of rooms, subjects, and schedules"})]}),(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-5",children:[(0,Es.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(bl,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-blue-900",children:"PDF Import"}),(0,Es.jsx)("p",{className:"text-sm text-blue-700",children:"Import class lists from PDF documents"})]})]}),(0,Es.jsx)("button",{onClick:()=>se(!re),className:"inline-flex items-center px-4 py-2 border border-blue-300 rounded-md shadow-sm text-sm font-medium text-blue-700 bg-white hover:bg-blue-50 transition-colors",children:re?"Hide Import":"Show Import"})]}),re&&(0,Es.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,Es.jsxs)("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6",children:[(0,Es.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Upload Class List PDF"}),!ae&&(0,Es.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(ie?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragEnter:Ve,onDragLeave:Ve,onDragOver:Ve,onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),oe(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){const t=e.dataTransfer.files[0];"application/pdf"===t.type?le(t):Ss.error("Please upload a PDF file")}},children:[(0,Es.jsx)(ri,{className:"mx-auto h-10 w-10 text-gray-400"}),(0,Es.jsx)("div",{className:"mt-3",children:(0,Es.jsxs)("label",{htmlFor:"pdf-upload",className:"cursor-pointer",children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Click to upload"}),(0,Es.jsx)("span",{className:"text-sm text-gray-600",children:" or drag and drop"}),(0,Es.jsx)("input",{id:"pdf-upload",ref:Ee,type:"file",accept:".pdf",onChange:e=>{e.target.files&&e.target.files[0]&&le(e.target.files[0])},className:"sr-only"})]})}),(0,Es.jsx)("p",{className:"text-xs text-gray-500",children:"PDF files only, up to 10MB"})]}),ae&&(0,Es.jsx)("div",{className:"bg-gray-50 rounded-lg border-2 border-gray-200 p-4 mb-4",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)(li,{className:"h-6 w-6 text-red-600 mr-3"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:ae.name}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:[(ae.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,Es.jsx)("button",{onClick:Ke,className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-5 w-5"})})]})}),ae&&!he&&(0,Es.jsx)("div",{className:"flex justify-end",children:(0,Es.jsx)("button",{onClick:async()=>{if(ae){de(!0),fe(null),xe(null);try{const e=new FormData;e.append("pdf",ae);const t=await cr.post("/api/import/preview",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});fe(t.data.data),ye(!0),Ss.success("PDF parsed successfully! Review the data before importing.")}catch(n){var e,t;console.error("Upload error:",n),null!==(e=n.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?Ss.error(n.response.data.message):Ss.error("Failed to parse PDF")}finally{de(!1)}}else Ss.error("Please select a PDF file")},disabled:ce,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:ce?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Parsing PDF..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(ga,{className:"h-4 w-4 mr-2"}),"Parse & Preview"]})})})]}),he&&!pe&&(0,Es.jsxs)("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6",children:[(0,Es.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Import Options"}),(0,Es.jsxs)("div",{className:"space-y-3",children:[(0,Es.jsxs)("label",{className:"flex items-center",children:[(0,Es.jsx)("input",{type:"checkbox",checked:Ne.updateExisting,onChange:e=>Se(Bt(Bt({},Ne),{},{updateExisting:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Update existing records (subjects, students, instructors, rooms)"})]}),(0,Es.jsxs)("label",{className:"flex items-center",children:[(0,Es.jsx)("input",{type:"checkbox",checked:Ne.createMissingRooms,onChange:e=>Se(Bt(Bt({},Ne),{},{createMissingRooms:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Create missing rooms automatically"})]}),(0,Es.jsxs)("label",{className:"flex items-center",children:[(0,Es.jsx)("input",{type:"checkbox",checked:Ne.skipDuplicates,onChange:e=>Se(Bt(Bt({},Ne),{},{skipDuplicates:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Skip duplicate enrollments and schedules"})]})]})]}),he&&!pe&&(0,Es.jsx)("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"PDF Parsed Successfully"}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600",children:["Found ",(null===(e=he.statistics)||void 0===e?void 0:e.total_subjects)||0," subjects, ",(null===(t=he.statistics)||void 0===t?void 0:t.total_students)||0," students, and ",(null===(n=he.statistics)||void 0===n?void 0:n.total_instructors)||0," instructors"]})]}),(0,Es.jsxs)("div",{className:"flex space-x-3",children:[(0,Es.jsxs)("button",{onClick:()=>{we("subjects"),be(!0)},className:"inline-flex items-center px-4 py-2 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100",children:[(0,Es.jsx)(ga,{className:"h-4 w-4 mr-2"}),"View Uploaded Data"]}),(0,Es.jsx)("button",{onClick:Je,disabled:ue,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:ue?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(ci,{className:"h-4 w-4 mr-2"}),"Import Data"]})})]})]})}),pe&&(0,Es.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:[(0,Es.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Es.jsx)(Ea,{className:"h-6 w-6 text-green-600 mr-2"}),(0,Es.jsx)("h4",{className:"text-md font-semibold text-green-900",children:"Import Completed Successfully"})]}),(0,Es.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(pe).map(e=>{var t;let[n,r]=e;return(0,Es.jsxs)("div",{className:"bg-white rounded p-3 text-sm",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900 capitalize",children:n}),(0,Es.jsxs)("div",{className:"text-green-600",children:["Created: ",r.created]}),(0,Es.jsxs)("div",{className:"text-blue-600",children:["Updated: ",r.updated]}),(null===(t=r.errors)||void 0===t?void 0:t.length)>0&&(0,Es.jsxs)("div",{className:"text-red-600",children:["Errors: ",r.errors.length]})]},n)})}),(0,Es.jsx)("div",{className:"mt-4 flex justify-end",children:(0,Es.jsx)("button",{onClick:()=>{xe(null),se(!1)},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"})})]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow border-2 border-gray-200",children:[(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),(0,Es.jsx)("div",{className:"flex flex-wrap gap-2",children:[{key:"rooms",label:"Rooms",icon:wa},{key:"subjects",label:"Subjects",icon:Hl},{key:"schedules",label:"Schedules",icon:Za}].map(e=>{let{key:t,label:n,icon:r}=e;return(0,Es.jsxs)("button",{onClick:()=>{A(t),L(""),W(new Set)},className:"shrink-0 flex items-center px-3 py-2 text-sm font-medium rounded-md border transition-colors ".concat(R===t?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[(0,Es.jsx)(r,{className:"h-4 w-4 mr-2"}),n]},t)})})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Year"}),(0,Es.jsxs)("select",{value:O,onChange:e=>I(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Academic Years"}),null===E||void 0===E||null===(s=E.filters)||void 0===s||null===(a=s.academic_years)||void 0===a?void 0:a.map(e=>(0,Es.jsx)("option",{value:e,children:e},e))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester"}),(0,Es.jsxs)("select",{value:D,onChange:e=>_(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Semesters"}),null===E||void 0===E||null===(l=E.filters)||void 0===l||null===(i=l.semesters)||void 0===i?void 0:i.map(e=>(0,Es.jsx)("option",{value:e,children:e},e))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)(Ja,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search ".concat(R,"..."),value:M,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-3 py-2 border-2 border-gray-300 rounded-md text-sm"})]})]})]}),V.size>0&&(0,Es.jsx)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-4",children:(0,Es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Es.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Es.jsx)("span",{className:"text-sm font-medium text-blue-600",children:V.size})}),(0,Es.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[V.size," ",R," selected"]})]}),(0,Es.jsx)("button",{onClick:()=>{J(new Set),$(!1)},className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Clear selection"})]}),(0,Es.jsx)("div",{className:"flex items-center space-x-2",children:(0,Es.jsxs)("button",{onClick:()=>{0!==V.size&&(ee(R),G(!0),setTimeout(()=>De("visible"),10))},disabled:0===V.size,className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),"Delete Selected"]})})]})}),(null===E||void 0===E?void 0:E.statistics)&&(0,Es.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[(0,Es.jsxs)("div",{className:"text-center bg-white rounded-lg border-2 border-gray-200 p-4",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:E.statistics.total_rooms}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:"Total Rooms"})]}),(0,Es.jsxs)("div",{className:"text-center bg-white rounded-lg border-2 border-gray-200 p-4",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-green-600",children:E.statistics.total_subjects}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:"Total Subjects"})]}),(0,Es.jsxs)("div",{className:"text-center bg-white rounded-lg border-2 border-gray-200 p-4",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:E.statistics.total_schedules}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:"Total Schedules"})]}),(0,Es.jsxs)("div",{className:"text-center bg-white rounded-lg border-2 border-gray-200 p-4",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:E.statistics.total_enrolled_students}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:"Total Enrollments"})]})]})]}),Xe.length>0&&(0,Es.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-4",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Es.jsx)("input",{type:"checkbox",checked:K,onChange:()=>{const e=Qe();if(Array.isArray(e)&&0!==e.length){if(K)J(new Set);else try{const t=e.map(e=>Ye(e));J(new Set(t))}catch(t){return void console.error("Error mapping items:",t)}$(!K)}},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Es.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Select All (",Xe.length," ",R,")"]})]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:[V.size," selected"]})]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start content-start",children:((e,t)=>{const n=Array.from({length:t},()=>[]);return e.forEach((e,r)=>{n[r%t].push(e)}),n})(Array.isArray(Xe)?Xe:[],3).map((e,t)=>(0,Es.jsx)("div",{className:"space-y-6",children:e.map((e,n)=>(0,Es.jsx)(r.Fragment,{children:et(e)},"item-".concat(t,"-").concat(n)))},"col-".concat(t)))}),0===Xe.length&&!C&&(0,Es.jsxs)("div",{className:"text-center py-12",children:[r.createElement((e=>{switch(e){case"rooms":default:return wa;case"subjects":return Hl;case"schedules":return Za}})(R),{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsxs)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:["No ",R," found"]}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:M||O||D?"Try adjusting your search filters.":"No ".concat(R," available for the current filters.")})]}),U&&F&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsxs)("div",{className:"relative top-10 mx-auto p-6 border max-w-6xl shadow-lg rounded-md bg-white my-8",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Es.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[z.charAt(0).toUpperCase()+z.slice(1)," Details"]}),(0,Es.jsx)("button",{onClick:()=>{P(!1),B(null),q(""),Y("")},className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),(0,Es.jsx)("div",{className:"max-h-[70vh] overflow-y-auto",children:(()=>{var e,t,n,r,s,a,l,i,o,c,d,u,m;if(!F||!z)return null;switch(z){case"room":return(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:[F.room.ROOMNUMBER," - ",F.room.ROOMNAME]}),(0,Es.jsx)("p",{className:"text-gray-600",children:F.room.BUILDING}),F.room.CAPACITY&&(0,Es.jsxs)("p",{className:"text-sm text-gray-500",children:["Capacity: ",F.room.CAPACITY," people"]})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Subjects (",(null===(e=F.subjects)||void 0===e?void 0:e.length)||0,")"]}),(0,Es.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:null===(t=F.subjects)||void 0===t?void 0:t.map(e=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.SUBJECTCODE}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.SUBJECTNAME}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.instructor_name}),(0,Es.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[e.enrolled_students||0," students \u2022 ",e.schedule_count||0," schedules"]})]},e.SUBJECTID))})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Schedules (",(null===(n=F.schedules)||void 0===n?void 0:n.length)||0,")"]}),(0,Es.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:null===(r=F.schedules)||void 0===r?void 0:r.map(e=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.SUBJECTCODE}),(0,Es.jsxs)("div",{className:"text-sm text-gray-600",children:[e.DAYOFWEEK," \u2022 ",$e(e.STARTTIME)," - ",$e(e.ENDTIME)]}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.instructor_name})]},e.SCHEDULEID))})]})]})]});case"subject":return(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:[F.subject.SUBJECTCODE," - ",F.subject.SUBJECTNAME]}),(0,Es.jsx)("p",{className:"text-gray-600",children:F.subject.instructor_name}),(0,Es.jsxs)("p",{className:"text-sm text-gray-500",children:[F.subject.SEMESTER," \u2022 ",F.subject.ACADEMICYEAR]}),F.subject.DESCRIPTION&&(0,Es.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:F.subject.DESCRIPTION})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Rooms (",(null===(s=F.rooms)||void 0===s?void 0:s.length)||0,")"]}),(0,Es.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:null===(a=F.rooms)||void 0===a?void 0:a.map(e=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.ROOMNUMBER}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.ROOMNAME}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.BUILDING}),(0,Es.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[e.schedule_count||0," schedules"]})]},e.ROOMID))})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Es.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Students (",(null===(l=F.students)||void 0===l?void 0:l.length)||0,")"]}),(null===(i=F.students)||void 0===i?void 0:i.length)>0&&(0,Es.jsxs)("div",{className:"relative w-64",children:[(0,Es.jsx)(Ja,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search students...",value:Q,onChange:e=>Y(e.target.value),className:"w-full pl-10 pr-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Es.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[null===(o=Ge(F.students,Q))||void 0===o?void 0:o.map(e=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Es.jsxs)("div",{className:"font-medium text-gray-900",children:[e.FIRSTNAME," ",e.LASTNAME]}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.STUDENTID}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:["Year ",e.YEARLEVEL," \u2022 ",e.DEPARTMENT]}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.EMAIL})]},e.USERID)),0===(null===(c=Ge(F.students,Q))||void 0===c?void 0:c.length)&&Q&&(0,Es.jsxs)("div",{className:"text-center py-4 text-gray-500",children:['No students found matching "',Q,'"']})]})]})]}),(null===(d=F.schedules)||void 0===d?void 0:d.length)>0&&(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Schedule Details (",F.schedules.length,")"]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:F.schedules.map(e=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Es.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.DAYOFWEEK}),1===e.ISLAB||"1"===e.ISLAB||!0===e.ISLAB?(0,Es.jsx)("span",{className:"inline-flex items-center rounded-full bg-purple-100 text-purple-800 px-2 py-0.5 text-xs font-medium",children:"LAB"}):(0,Es.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 text-blue-800 px-2 py-0.5 text-xs font-medium",children:"LEC"})]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-600",children:[$e(e.STARTTIME)," - ",$e(e.ENDTIME)]}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.ROOMNUMBER," - ",e.ROOMNAME]}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.BUILDING})]},e.SCHEDULEID))})]})]});case"schedule":return(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:[F.schedule.SUBJECTCODE," - ",F.schedule.SUBJECTNAME]}),(0,Es.jsx)("p",{className:"text-gray-600",children:F.schedule.instructor_name}),(0,Es.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-2",children:[(0,Es.jsx)("span",{children:F.schedule.DAYOFWEEK}),(0,Es.jsxs)("span",{children:[$e(F.schedule.STARTTIME)," - ",$e(F.schedule.ENDTIME)]}),(0,Es.jsxs)("span",{children:[F.schedule.ROOMNUMBER," - ",F.schedule.ROOMNAME]})]}),(0,Es.jsxs)("p",{className:"text-sm text-gray-500",children:[F.schedule.SEMESTER," \u2022 ",F.schedule.ACADEMICYEAR]})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Room Details"}),(0,Es.jsxs)("div",{className:"bg-gray-50 rounded p-4",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:F.schedule.ROOMNUMBER}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:F.schedule.ROOMNAME}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:F.schedule.BUILDING}),F.schedule.CAPACITY&&(0,Es.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",F.schedule.CAPACITY," people"]})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Enrolled Students (",(null===(u=F.students)||void 0===u?void 0:u.length)||0,")"]}),(0,Es.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:null===(m=F.students)||void 0===m?void 0:m.map(e=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Es.jsxs)("div",{className:"font-medium text-gray-900",children:[e.FIRSTNAME," ",e.LASTNAME]}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.STUDENTID}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:["Year ",e.YEARLEVEL," \u2022 ",e.DEPARTMENT]})]},e.USERID))})]})]}),F.schedule.subject_description&&(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Subject Description"}),(0,Es.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 rounded p-4",children:F.schedule.subject_description})]})]});default:return null}})()}),(0,Es.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Es.jsx)("button",{onClick:()=>{P(!1),B(null),q(""),Y("")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),ve&&he&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white",children:(0,Es.jsxs)("div",{className:"mt-3",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"PDF Data Preview"}),(0,Es.jsx)("button",{onClick:()=>be(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),(null===he||void 0===he?void 0:he.statistics)&&(0,Es.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[{label:"Subjects",value:he.statistics.total_subjects,color:"bg-blue-100 text-blue-800"},{label:"Students",value:he.statistics.total_students,color:"bg-green-100 text-green-800"},{label:"Instructors",value:he.statistics.total_instructors,color:"bg-purple-100 text-purple-800"},{label:"Rooms",value:he.statistics.total_rooms,color:"bg-orange-100 text-orange-800"},{label:"Schedules",value:he.statistics.total_schedules,color:"bg-indigo-100 text-indigo-800"},{label:"Enrollments",value:he.statistics.total_enrollments,color:"bg-pink-100 text-pink-800"}].map((e,t)=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold ".concat(e.color),children:e.value}),(0,Es.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.label})]},t))}),(0,Es.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,Es.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{key:"subjects",label:"Subjects",count:(null===(o=he.subjects)||void 0===o?void 0:o.length)||0},{key:"students",label:"Students",count:(null===(c=he.students)||void 0===c?void 0:c.length)||0},{key:"instructors",label:"Instructors",count:(null===(d=he.instructors)||void 0===d?void 0:d.length)||0},{key:"rooms",label:"Rooms",count:(null===(u=he.rooms)||void 0===u?void 0:u.length)||0},{key:"schedules",label:"Schedules",count:(null===(m=he.schedules)||void 0===m?void 0:m.length)||0}].map(e=>(0,Es.jsxs)("button",{onClick:()=>we(e.key),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat(je===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label," (",e.count,")"]},e.key))})}),(0,Es.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:["subjects"===je&&(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Subjects (",(null===(h=he.subjects)||void 0===h?void 0:h.length)||0,")"]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:null===(f=he.subjects)||void 0===f?void 0:f.map((e,t)=>{var n;return(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.code}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.name}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.section," \u2022 ",e.semester," \u2022 ",e.academic_year]}),(null===(n=e.instructors)||void 0===n?void 0:n.length)>0&&(0,Es.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:e.instructors.map(e=>e.name).join(", ")})]},t)})})]}),"students"===je&&(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Students (",(null===(p=he.students)||void 0===p?void 0:p.length)||0,")"]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:null===(x=he.students)||void 0===x?void 0:x.map((e,t)=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.full_name}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.student_id}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.course," \u2022 Year ",e.year_level," \u2022 ",e.gender]}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]},t))})]}),"instructors"===je&&(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Instructors (",(null===(g=he.instructors)||void 0===g?void 0:g.length)||0,")"]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:null===(y=he.instructors)||void 0===y?void 0:y.map((e,t)=>(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:e.email}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.department," \u2022 ",e.position]})]},t))})]}),"rooms"===je&&(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Rooms (",(null===(v=he.rooms)||void 0===v?void 0:v.length)||0,")"]}),(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:null===(b=he.rooms)||void 0===b?void 0:b.map((e,t)=>{const n=e.number||e.room_number||e.ROOMNUMBER||e.code||e.id||"",r=e.name||e.ROOMNAME||"",s=e.building||e.BUILDING||"",a=e.capacity||e.CAPACITY||"",l=(Array.isArray(he.schedules)?he.schedules:[]).filter(e=>{const t=e.room_number||e.ROOMNUMBER||e.room||"";return String(t).trim()===String(n).trim()}).length;return(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:n||"Unknown Room"}),r&&(0,Es.jsx)("div",{className:"text-sm text-gray-600",children:r}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[s||"N/A",a?" \u2022 Capacity: ".concat(a):""]}),(0,Es.jsxs)("div",{className:"text-xs text-blue-600",children:[l," ",1===l?"schedule":"schedules"]})]},t)})})]}),"schedules"===je&&(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Schedules (",(null===(j=he.schedules)||void 0===j?void 0:j.length)||0,")"]}),(0,Es.jsx)("div",{className:"space-y-2",children:null===(w=he.schedules)||void 0===w?void 0:w.map((e,t)=>(0,Es.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,Es.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{className:"font-medium text-gray-900",children:e.subject_code}),(0,Es.jsxs)("div",{className:"text-sm text-gray-600",children:[e.day," \u2022 ",e.start_time," - ",e.end_time]}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.room_number," \u2022 ",e.instructor_name]})]}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.semester," \u2022 ",e.academic_year]})]})},t))})]})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,Es.jsx)("button",{onClick:()=>be(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"}),(0,Es.jsx)("button",{onClick:()=>{be(!1),Je()},disabled:ue,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:ue?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"}),"Importing..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(ci,{className:"h-4 w-4 mr-2 inline-block"}),"Import All Data"]})})]})]})})}),ke&&Te&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===Ie?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===Ie?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),(0,Es.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:Te.title}),(0,Es.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:Te.message})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{De("hidden"),setTimeout(()=>{Ce(!1),Re(null)},300)},disabled:Ae,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Es.jsx)("button",{type:"button",onClick:async()=>{if(Te){Oe(!0);try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};let n,r;switch(Te.type){case"room":n="/api/rooms/".concat(Te.ROOMID),r="Room deleted successfully!";break;case"subject":n="/api/subjects/".concat(Te.SUBJECTID),r="Subject deleted successfully!";break;case"schedule":n="/api/schedules/".concat(Te.SCHEDULEID),r="Schedule deleted successfully!";break;default:throw new Error("Invalid delete type")}const s=(await cr.delete(n,{headers:t})).data.message||r;Ss.success(s,{duration:4e3,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534"}}),await Be()}catch(s){var e,t,n,r;console.error("Error deleting item:",s);const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete item",l=null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.details;l?Ss.error("".concat(a,": ").concat(l),{duration:8e3,style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626"}}):Ss.error(a)}finally{Oe(!1),De("hidden"),setTimeout(()=>{Ce(!1),Re(null)},300)}}},disabled:Ae,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:Ae?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),Te.confirmText]})})]})]})})})}),Z&&(0,Es.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,Es.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-in-out ".concat("visible"===Ie?"opacity-100":"opacity-0"),children:(0,Es.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,Es.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 sm:w-full sm:max-w-lg ".concat("visible"===Ie?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"),children:[(0,Es.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 px-6 py-8",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 shadow-lg mb-4 animate-pulse",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-red-600"})}),(0,Es.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Bulk Delete ",X]}),(0,Es.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Are you sure you want to delete ",(0,Es.jsxs)("strong",{children:[V.size," ",X]}),"? This action cannot be undone and will also remove all related data (schedules, enrollments, etc.)."]})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{De("hidden"),setTimeout(()=>{G(!1),ee("")},300)},disabled:te,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Es.jsx)("button",{type:"button",onClick:async()=>{if(0!==V.size){ne(!0);try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};let n,r;switch(X){case"rooms":n="/api/rooms/bulk-delete",r="".concat(V.size," rooms deleted successfully!");break;case"subjects":n="/api/subjects/bulk-delete",r="".concat(V.size," subjects deleted successfully!");break;case"schedules":n="/api/schedules/bulk-delete",r="".concat(V.size," schedules deleted successfully!");break;default:throw new Error("Invalid bulk delete type")}const s=(await cr.delete(n,{headers:t,data:{ids:Array.from(V)}})).data.message||r;Ss.success(s,{duration:4e3,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534"}}),J(new Set),$(!1),await Be()}catch(s){var e,t,n,r;console.error("Error bulk deleting items:",s);const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete items",l=null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.details;l?Ss.error("".concat(a,": ").concat(l),{duration:8e3,style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626"}}):Ss.error(a)}finally{ne(!1),De("hidden"),setTimeout(()=>{G(!1),ee("")},300)}}},disabled:te,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:te?(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):(0,Es.jsxs)(Es.Fragment,{children:[(0,Es.jsx)(Rl,{className:"h-4 w-4 mr-2"}),"Delete ",V.size," ",X]})})]})]})})})}),_e&&Le&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Es.jsxs)("div",{className:"mt-3",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Schedule (TEMPORARY)"}),(0,Es.jsx)("button",{onClick:()=>{Me(!1),Ue(null),Fe({subject_id:"",room_id:"",day_of_week:"",start_time:"",end_time:"",academic_year:"",semester:""})},className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)(Zs,{className:"h-6 w-6"})})]}),(0,Es.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,Es.jsxs)("div",{className:"flex",children:[(0,Es.jsx)(Ta,{className:"h-5 w-5 text-yellow-400"}),(0,Es.jsx)("div",{className:"ml-3",children:(0,Es.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Es.jsx)("strong",{children:"Note:"})," This is a temporary edit feature for quick schedule modifications."]})})]})}),(0,Es.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),Le)try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n={subject_id:Pe.subject_id,room_id:Pe.room_id,day_of_week:Pe.day_of_week,start_time:Pe.start_time,end_time:Pe.end_time,academic_year:Pe.academic_year,semester:Pe.semester};await cr.put("/api/schedules/".concat(Le.SCHEDULEID),n,{headers:t}),Ss.success("Schedule updated successfully!"),await Be(),Me(!1),Ue(null),Fe({subject_id:"",room_id:"",day_of_week:"",start_time:"",end_time:"",academic_year:"",semester:""})}catch(r){var t,n;console.error("Error updating schedule:",r),null!==(t=r.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.message?Ss.error(r.response.data.message):Ss.error("Failed to update schedule")}},className:"space-y-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),(0,Es.jsx)("input",{type:"text",value:Le.SUBJECTCODE,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-50",disabled:!0}),(0,Es.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Subject cannot be changed"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Room"}),(0,Es.jsxs)("select",{value:Pe.room_id,onChange:e=>Fe(Bt(Bt({},Pe),{},{room_id:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,Es.jsx)("option",{value:"",children:"Select Room"}),null===E||void 0===E||null===(N=E.rooms)||void 0===N||null===(S=N.data)||void 0===S?void 0:S.map(e=>(0,Es.jsxs)("option",{value:e.ROOMID,children:[e.ROOMNUMBER," - ",e.ROOMNAME]},e.ROOMID))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Week"}),(0,Es.jsxs)("select",{value:Pe.day_of_week,onChange:e=>Fe(Bt(Bt({},Pe),{},{day_of_week:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,Es.jsx)("option",{value:"",children:"Select Day"}),(0,Es.jsx)("option",{value:"Monday",children:"Monday"}),(0,Es.jsx)("option",{value:"Tuesday",children:"Tuesday"}),(0,Es.jsx)("option",{value:"Wednesday",children:"Wednesday"}),(0,Es.jsx)("option",{value:"Thursday",children:"Thursday"}),(0,Es.jsx)("option",{value:"Friday",children:"Friday"}),(0,Es.jsx)("option",{value:"Saturday",children:"Saturday"}),(0,Es.jsx)("option",{value:"Sunday",children:"Sunday"})]})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),(0,Es.jsx)("input",{type:"time",value:Pe.start_time,onChange:e=>Fe(Bt(Bt({},Pe),{},{start_time:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),(0,Es.jsx)("input",{type:"time",value:Pe.end_time,onChange:e=>Fe(Bt(Bt({},Pe),{},{end_time:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Academic Year"}),(0,Es.jsx)("input",{type:"text",value:Pe.academic_year,onChange:e=>Fe(Bt(Bt({},Pe),{},{academic_year:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"2024-2025",required:!0})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Semester"}),(0,Es.jsxs)("select",{value:Pe.semester,onChange:e=>Fe(Bt(Bt({},Pe),{},{semester:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,Es.jsx)("option",{value:"",children:"Select Semester"}),(0,Es.jsx)("option",{value:"First Semester",children:"First Semester"}),(0,Es.jsx)("option",{value:"Second Semester",children:"Second Semester"}),(0,Es.jsx)("option",{value:"Summer",children:"Summer"})]})]}),(0,Es.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Es.jsx)("button",{type:"button",onClick:()=>{Me(!1),Ue(null),Fe({subject_id:"",room_id:"",day_of_week:"",start_time:"",end_time:"",academic_year:"",semester:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Es.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:"Update Schedule"})]})]})]})})})]})},ui=["title","titleId"];function mi(e,t){let{title:n,titleId:s}=e,a=As(e,ui);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const hi=r.forwardRef(mi),fi=["title","titleId"];function pi(e,t){let{title:n,titleId:s}=e,a=As(e,fi);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const xi=r.forwardRef(pi),gi=["title","titleId"];function yi(e,t){let{title:n,titleId:s}=e,a=As(e,gi);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const vi=r.forwardRef(yi);cr.defaults.baseURL="http://localhost:5000";const bi=function(){const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)({startDate:"",endDate:"",subjectId:"",academicYear:"",semester:"",status:"",search:""}),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[h,f]=(0,r.useState)(null),[p,x]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),[j,w]=(0,r.useState)({}),[N,S]=(0,r.useState)("subject"),[E,k]=(0,r.useState)(new Set),[C,T]=(0,r.useState)("cards"),[R,A]=(0,r.useState)(null),[O,I]=(0,r.useState)(!1),[D,_]=(0,r.useState)(!1),[M,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>{U()},[]),(0,r.useEffect)(()=>{P()},[a]),(0,r.useEffect)(()=>{e.length>0&&F(e)},[N,e]);const U=async()=>{try{const e=localStorage.getItem("token");if(!e)return void Ss.error("Please login to access reports");const t={Authorization:"Bearer ".concat(e)},[n,r,s]=await Promise.all([cr.get("/api/subjects",{headers:t}),cr.get("/api/logs/attendance/stats",{headers:t}),cr.get("/api/logs/attendance/stats",{headers:t})]);o(n.data.subjects||[]);const a=[...new Set((n.data.subjects||[]).map(e=>e.ACADEMICYEAR).filter(Boolean))],l=[...new Set((n.data.subjects||[]).map(e=>e.SEMESTER).filter(Boolean))];d(a),m(l)}catch(e){console.error("Error fetching initial data:",e),Ss.error("Failed to load initial data")}},P=async()=>{try{s(!0);const e=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(e)};let r=(await cr.get("/api/logs/attendance",{headers:n})).data.logs||[];if(a.search){const e=a.search.toLowerCase();r=r.filter(t=>{var n,r,s,a,l;return(null===(n=t.FIRSTNAME)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.LASTNAME)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(s=t.STUDENTID)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.SUBJECTCODE)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(l=t.SUBJECTNAME)||void 0===l?void 0:l.toLowerCase().includes(e))})}a.status&&(r=r.filter(e=>e.STATUS===a.status)),a.startDate&&(r=r.filter(e=>new Date(e.SCANDATETIME).toISOString().split("T")[0]>=a.startDate)),a.endDate&&(r=r.filter(e=>new Date(e.SCANDATETIME).toISOString().split("T")[0]<=a.endDate)),t(r),F(r);const l={totalStudents:new Set(r.map(e=>e.USERID||e.STUDENTID)).size,presentCount:r.filter(e=>"Present"===e.STATUS).length,lateCount:r.filter(e=>"Late"===e.STATUS).length,absentCount:r.filter(e=>"Absent"===e.STATUS).length};f(l)}catch(n){var e;console.error("Error fetching reports:",n),401===(null===(e=n.response)||void 0===e?void 0:e.status)?(Ss.error("Session expired. Please login again."),localStorage.removeItem("token"),window.location.href="/login"):Ss.error("Failed to load reports")}finally{s(!1)}},F=e=>{const t={};e.forEach(n=>{let r,s,a;switch(N){case"subject":r="".concat(n.SUBJECTCODE,"-").concat(n.SUBJECTNAME),s="".concat(n.SUBJECTCODE," - ").concat(n.SUBJECTNAME),a="".concat(n.ACADEMICYEAR," \u2022 ").concat(n.SEMESTER);break;case"date":const t=new Date(n.SCANDATETIME).toISOString().split("T")[0];r=t,s=new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),a="".concat(e.filter(e=>new Date(e.SCANDATETIME).toISOString().split("T")[0]===t).length," records");break;case"session":r="".concat(n.SUBJECTCODE,"-").concat(n.DAYOFWEEK,"-").concat(n.STARTTIME),s="".concat(n.SUBJECTCODE," - ").concat(n.DAYOFWEEK),a="".concat(V(n.STARTTIME)," - ").concat(V(n.ENDTIME)," \u2022 ").concat(n.ROOMNUMBER);break;default:r="all",s="All Reports",a="".concat(e.length," records")}t[r]||(t[r]={title:s,subtitle:a,reports:[],stats:{total:0,present:0,late:0,absent:0}}),t[r].reports.push(n),t[r].stats.total++,"Present"===n.STATUS?t[r].stats.present++:"Late"===n.STATUS?t[r].stats.late++:"Absent"===n.STATUS&&t[r].stats.absent++}),w(t)},B=(e,t)=>{l(n=>Bt(Bt({},n),{},{[e]:t}))},z=()=>{I(!1),A(null)},q=async()=>{try{L(!0);const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=R.reports.map(e=>e.ATTENDANCEID);console.log("Attempting to clear group records:",{attendanceIds:n,count:n.length,endpoint:"/api/logs/attendance/clear-group"});const r=await cr.delete("/api/logs/attendance/clear-group",{headers:t,data:{attendanceIds:n}});r.data.success?(Ss.success("".concat(r.data.affectedRows," attendance records have been cleared successfully!")),await P(),_(!1),z()):Ss.error("Failed to clear attendance records")}catch(t){var e;console.error("Error clearing attendance records:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)?(Ss.error("Session expired. Please login again."),localStorage.removeItem("token"),window.location.href="/login"):Ss.error("Failed to clear attendance records. Please try again.")}finally{L(!1)}},H=async()=>{try{const t={reports:e,statistics:h,filters:a,exportDate:(new Date).toISOString(),totalRecords:e.length},n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),s=window.URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download="attendance-reports-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(s),Ss.success("Reports exported successfully!")}catch(t){console.error("Error exporting reports:",t),Ss.error("Failed to export reports")}},W=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"present":return(0,Es.jsx)(Ea,{className:"h-5 w-5 text-green-500"});case"late":return(0,Es.jsx)(Ta,{className:"h-5 w-5 text-yellow-500"});case"absent":return(0,Es.jsx)(qa,{className:"h-5 w-5 text-red-500"});default:return(0,Es.jsx)(Qs,{className:"h-5 w-5 text-gray-500"})}},Q=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"late":return"bg-yellow-100 text-yellow-800";case"absent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},V=e=>{if(!e)return"";const[t,n]=e.split(":"),r=parseInt(t),s=r>=12?"PM":"AM";return"".concat(r%12||12,":").concat(n," ").concat(s)},J=e=>{y(e),b(!0)};return n?(0,Es.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):O&&R?(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-4",children:(0,Es.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,Es.jsxs)("button",{onClick:z,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,Es.jsx)(hi,{className:"h-4 w-4 mr-1 rotate-180"}),"Back to Reports"]}),(0,Es.jsx)("span",{className:"text-gray-400",children:"/"}),(0,Es.jsx)("span",{className:"text-gray-900 font-medium",children:R.title})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:R.title}),(0,Es.jsx)("p",{className:"text-gray-600 mt-1",children:R.subtitle})]}),(0,Es.jsxs)("div",{className:"flex space-x-4",children:[(0,Es.jsxs)("button",{onClick:()=>H(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[(0,Es.jsx)(xi,{className:"h-4 w-4 mr-2"}),"Export Group"]}),(0,Es.jsxs)("button",{onClick:()=>_(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:[(0,Es.jsx)(qa,{className:"h-4 w-4 mr-2"}),"Clear Group Records"]})]})]})}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(Ea,{className:"h-8 w-8 text-green-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Present"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:R.stats.present})]})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-yellow-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Late"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:R.stats.late})]})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(qa,{className:"h-8 w-8 text-red-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Absent"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:R.stats.absent})]})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(gl,{className:"h-8 w-8 text-blue-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:R.stats.total})]})]})})]}),(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[(0,Es.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Attendance Records"}),(0,Es.jsxs)("p",{className:"text-sm text-gray-500",children:[R.reports.length," record",1!==R.reports.length?"s":""," found"]})]}),(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Es.jsx)("thead",{className:"bg-gray-50",children:(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Es.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:R.reports.map(e=>(0,Es.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Es.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Es.jsx)(sl,{className:"h-5 w-5 text-blue-600"})})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.FIRSTNAME," ",e.LASTNAME]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.STUDENTID||"N/A"]})]})]})}),(0,Es.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Es.jsx)("div",{className:"text-sm text-gray-900",children:Y(e.SCANDATETIME)}),(0,Es.jsx)("div",{className:"text-sm text-gray-500",children:e.AUTHMETHOD||"Fingerprint"})]}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[W(e.STATUS),(0,Es.jsx)("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Q(e.STATUS)),children:e.STATUS||"Unknown"})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsx)("div",{className:"text-sm text-gray-900",children:e.AUTHMETHOD||"Fingerprint"})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,Es.jsx)(Fa,{className:"h-4 w-4 mr-2 text-gray-400"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{children:e.ROOMNUMBER||"N/A"}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.ROOMNAME||""})]})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Es.jsxs)("button",{onClick:()=>J(e),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[(0,Es.jsx)(ga,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},e.ATTENDANCEID))})]})})]}),D&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Es.jsxs)("div",{className:"mt-3 text-center",children:[(0,Es.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Es.jsx)(qa,{className:"h-6 w-6 text-red-600"})}),(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Clear Group Attendance Records"}),(0,Es.jsxs)("div",{className:"mt-2 px-7 py-3",children:[(0,Es.jsxs)("p",{className:"text-sm text-gray-500",children:["This action will permanently delete ",R.reports.length," attendance record",1!==R.reports.length?"s":""," for ",(0,Es.jsx)("strong",{children:R.title}),"."]}),(0,Es.jsx)("p",{className:"text-sm text-red-600 font-medium mt-2",children:"This action cannot be undone. Are you sure you want to proceed?"})]}),(0,Es.jsxs)("div",{className:"flex justify-center space-x-4 mt-4",children:[(0,Es.jsx)("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 text-sm font-medium",children:"Cancel"}),(0,Es.jsx)("button",{onClick:q,disabled:M,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Clearing...":"Yes, Clear Group Records"})]})]})})})]}):(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Reports"}),(0,Es.jsx)("p",{className:"text-gray-600",children:"View attendance logs for each class schedule with comprehensive filtering"})]}),(0,Es.jsxs)("div",{className:"flex space-x-3",children:[(0,Es.jsxs)("button",{onClick:()=>x(!p),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Es.jsx)(vi,{className:"h-4 w-4 mr-2"}),p?"Hide Filters":"Show Filters"]}),(0,Es.jsxs)("button",{onClick:H,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[(0,Es.jsx)(xi,{className:"h-4 w-4 mr-2"}),"Export Reports"]})]})]}),h&&(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(gl,{className:"h-8 w-8 text-blue-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Students"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:h.totalStudents||0})]})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(Ea,{className:"h-8 w-8 text-green-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Present"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:h.presentCount||0})]})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(Ta,{className:"h-8 w-8 text-yellow-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Late"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:h.lateCount||0})]})]})}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0",children:(0,Es.jsx)(qa,{className:"h-8 w-8 text-red-500"})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Absent"}),(0,Es.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:h.absentCount||0})]})]})})]}),p&&(0,Es.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filter Reports"}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,Es.jsx)("input",{type:"date",value:a.startDate,onChange:e=>B("startDate",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,Es.jsx)("input",{type:"date",value:a.endDate,onChange:e=>B("endDate",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,Es.jsxs)("select",{value:a.subjectId,onChange:e=>B("subjectId",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Subjects"}),i.map(e=>(0,Es.jsxs)("option",{value:e.SUBJECTID,children:[e.SUBJECTCODE," - ",e.SUBJECTNAME]},e.SUBJECTID))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Year"}),(0,Es.jsxs)("select",{value:a.academicYear,onChange:e=>B("academicYear",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Years"}),c.map(e=>(0,Es.jsx)("option",{value:e,children:e},e))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester"}),(0,Es.jsxs)("select",{value:a.semester,onChange:e=>B("semester",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Semesters"}),u.map(e=>(0,Es.jsx)("option",{value:e,children:e},e))]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Es.jsxs)("select",{value:a.status,onChange:e=>B("status",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,Es.jsx)("option",{value:"",children:"All Status"}),(0,Es.jsx)("option",{value:"Present",children:"Present"}),(0,Es.jsx)("option",{value:"Late",children:"Late"}),(0,Es.jsx)("option",{value:"Absent",children:"Absent"})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Es.jsxs)("div",{className:"relative",children:[(0,Es.jsx)(Ja,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Es.jsx)("input",{type:"text",placeholder:"Search by name, student ID...",value:a.search,onChange:e=>B("search",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),(0,Es.jsx)("div",{className:"flex items-end",children:(0,Es.jsx)("button",{onClick:()=>{l({startDate:"",endDate:"",subjectId:"",academicYear:"",semester:"",status:"",search:""})},className:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Clear Filters"})})]})]}),(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:(0,Es.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Attendance Reports"}),(0,Es.jsxs)("p",{className:"text-sm text-gray-500",children:[e.length," report",1!==e.length?"s":""," found \u2022 ",Object.keys(j).length," group",1!==Object.keys(j).length?"s":""]})]}),(0,Es.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Es.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Es.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Group by:"}),(0,Es.jsxs)("select",{value:N,onChange:e=>S(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[(0,Es.jsx)("option",{value:"subject",children:"Subject"}),(0,Es.jsx)("option",{value:"date",children:"Date"}),(0,Es.jsx)("option",{value:"session",children:"Session"})]})]}),(0,Es.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Es.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"View:"}),(0,Es.jsxs)("div",{className:"flex border border-gray-300 rounded-md",children:[(0,Es.jsx)("button",{onClick:()=>T("cards"),className:"px-3 py-1 text-sm ".concat("cards"===C?"bg-blue-600 text-white":"bg-white text-gray-700"),children:"Cards"}),(0,Es.jsx)("button",{onClick:()=>T("table"),className:"px-3 py-1 text-sm ".concat("table"===C?"bg-blue-600 text-white":"bg-white text-gray-700"),children:"Table"})]})]})]})]})}),0===e.length?(0,Es.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow border border-gray-200",children:[(0,Es.jsx)(qs,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Es.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No reports found"}),(0,Es.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters or check if there are any attendance records."})]}):"cards"===C?(0,Es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(j).map(e=>{let[t,n]=e;return(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:(0,Es.jsx)("div",{className:"p-6",children:(0,Es.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Es.jsxs)("div",{className:"flex-1",children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:n.title}),(0,Es.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:n.subtitle}),(0,Es.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Es.jsxs)("div",{className:"text-center",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.stats.present}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:"Present"})]}),(0,Es.jsxs)("div",{className:"text-center",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:n.stats.late}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:"Late"})]}),(0,Es.jsxs)("div",{className:"text-center",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-red-600",children:n.stats.absent}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:"Absent"})]}),(0,Es.jsxs)("div",{className:"text-center",children:[(0,Es.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.stats.total}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:"Total"})]})]})]}),(0,Es.jsx)("button",{onClick:()=>(A(Bt({key:t},n)),void I(!0)),className:"ml-4 p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:(0,Es.jsx)(ga,{className:"h-5 w-5"})})]})})},t)})}):(0,Es.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Es.jsx)("thead",{className:"bg-gray-50",children:(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject & Schedule"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Es.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Es.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[(0,Es.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Es.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Es.jsx)(sl,{className:"h-5 w-5 text-blue-600"})})}),(0,Es.jsxs)("div",{className:"ml-4",children:[(0,Es.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.FIRSTNAME," ",e.LASTNAME]}),(0,Es.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.STUDENTID||"N/A"]})]})]})}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,Es.jsx)("div",{className:"font-medium",children:e.SUBJECTCODE}),(0,Es.jsx)("div",{className:"text-gray-600",children:e.SUBJECTNAME}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.DAYOFWEEK," \u2022 ",V(e.STARTTIME)," - ",V(e.ENDTIME)]}),(0,Es.jsxs)("div",{className:"text-xs text-gray-500",children:[e.ACADEMICYEAR," \u2022 ",e.SEMESTER]})]})}),(0,Es.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Es.jsx)("div",{className:"text-sm text-gray-900",children:Y(e.SCANDATETIME)}),(0,Es.jsx)("div",{className:"text-sm text-gray-500",children:e.AUTHMETHOD||"Fingerprint"})]}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center",children:[W(e.STATUS),(0,Es.jsx)("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Q(e.STATUS)),children:e.STATUS||"Unknown"})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Es.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,Es.jsx)(Fa,{className:"h-4 w-4 mr-2 text-gray-400"}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("div",{children:e.ROOMNUMBER||"N/A"}),(0,Es.jsx)("div",{className:"text-xs text-gray-500",children:e.ROOMNAME||""})]})]})}),(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Es.jsxs)("button",{onClick:()=>J(e),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[(0,Es.jsx)(ga,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},e.ATTENDANCEID))})]})})}),v&&g&&(0,Es.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Es.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,Es.jsxs)("div",{className:"mt-3",children:[(0,Es.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Es.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Report Details"}),(0,Es.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Es.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Es.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Es.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Student Information"}),(0,Es.jsxs)("div",{className:"space-y-2",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Name:"}),(0,Es.jsxs)("span",{className:"ml-2 text-sm text-gray-900",children:[g.FIRSTNAME," ",g.LASTNAME]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Student ID:"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:g.STUDENTID||"N/A"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Status:"}),(0,Es.jsx)("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Q(g.STATUS)),children:g.STATUS||"Unknown"})]})]})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Es.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Schedule Information"}),(0,Es.jsxs)("div",{className:"space-y-2",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Subject:"}),(0,Es.jsxs)("span",{className:"ml-2 text-sm text-gray-900",children:[g.SUBJECTCODE," - ",g.SUBJECTNAME]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Day:"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:g.DAYOFWEEK})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Time:"}),(0,Es.jsxs)("span",{className:"ml-2 text-sm text-gray-900",children:[V(g.STARTTIME)," - ",V(g.ENDTIME)]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Room:"}),(0,Es.jsxs)("span",{className:"ml-2 text-sm text-gray-900",children:[g.ROOMNUMBER," - ",g.ROOMNAME]})]})]})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Es.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Attendance Details"}),(0,Es.jsxs)("div",{className:"space-y-2",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Scan Time:"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:Y(g.SCANDATETIME)})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Authentication Method:"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:g.AUTHMETHOD||"Fingerprint"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Location:"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:g.LOCATION||"Unknown"})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Academic Period:"}),(0,Es.jsxs)("span",{className:"ml-2 text-sm text-gray-900",children:[g.ACADEMICYEAR," \u2022 ",g.SEMESTER]})]})]})]}),(0,Es.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Es.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Additional Information"}),(0,Es.jsxs)("div",{className:"space-y-2",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Attendance ID:"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-900 font-mono text-xs",children:g.ATTENDANCEID})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Schedule ID:"}),(0,Es.jsx)("span",{className:"ml-2 text-sm text-gray-900 font-mono text-xs",children:g.SCHEDULEID||"N/A"})]})]})]})]}),(0,Es.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Es.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"})})]})})})]})},ji=e=>{let{children:t}=e;const{user:n,loading:r}=Cs();return r?(0,Es.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):n?t:(0,Es.jsx)(pe,{to:"/login"})},wi=e=>{let{children:t}=e;const{user:n,loading:r}=Cs();return r?(0,Es.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Es.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):n?(0,Es.jsx)(pe,{to:"/dashboard"}):t};function Ni(){return(0,Es.jsx)(Ce,{children:(0,Es.jsxs)(ve,{children:[(0,Es.jsx)(ge,{path:"/login",element:(0,Es.jsx)(wi,{children:(0,Es.jsx)(ya,{})})}),(0,Es.jsxs)(ge,{path:"/",element:(0,Es.jsx)(ji,{children:(0,Es.jsx)(ua,{})}),children:[(0,Es.jsx)(ge,{index:!0,element:(0,Es.jsx)(pe,{to:"/dashboard"})}),(0,Es.jsx)(ge,{path:"dashboard",element:(0,Es.jsx)(Aa,{})}),(0,Es.jsx)(ge,{path:"management",element:(0,Es.jsx)(di,{})}),(0,Es.jsx)(ge,{path:"subjects",element:(0,Es.jsx)(Vl,{})})," ",(0,Es.jsx)(ge,{path:"schedules",element:(0,Es.jsx)(Zl,{})})," ",(0,Es.jsx)(ge,{path:"rooms",element:(0,Es.jsx)(Bl,{})})," ",(0,Es.jsx)(ge,{path:"users",element:(0,Es.jsx)(Fl,{})}),(0,Es.jsx)(ge,{path:"sessions",element:(0,Es.jsx)(fl,{})}),(0,Es.jsx)(ge,{path:"attendance-logs",element:(0,Es.jsx)(Ga,{})}),(0,Es.jsx)(ge,{path:"reports",element:(0,Es.jsx)(bi,{})})]})]})})}const Si=function(){return(0,Es.jsx)(Rs,{children:(0,Es.jsx)(Ni,{})})},Ei=new va.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});a.createRoot(document.getElementById("root")).render((0,Es.jsx)(r.StrictMode,{children:(0,Es.jsxs)(va.QueryClientProvider,{client:Ei,children:[(0,Es.jsx)(Si,{}),(0,Es.jsx)(Ns,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}))})()})();
//# sourceMappingURL=main.db2bb624.js.map